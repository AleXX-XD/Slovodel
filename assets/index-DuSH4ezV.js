(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function l(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(u){if(u.ep)return;u.ep=!0;const d=l(u);fetch(u.href,d)}})();function C0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Cu={exports:{}},Vl={};var Km;function Vy(){if(Km)return Vl;Km=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var y in u)y!=="key"&&(d[y]=u[y])}else d=u;return u=d.ref,{$$typeof:i,type:r,key:m,ref:u!==void 0?u:null,props:d}}return Vl.Fragment=n,Vl.jsx=l,Vl.jsxs=l,Vl}var Im;function Yy(){return Im||(Im=1,Cu.exports=Vy()),Cu.exports}var h=Yy(),Ru={exports:{}},me={};var Qm;function Ky(){if(Qm)return me;Qm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),x=Symbol.iterator;function O(w){return w===null||typeof w!="object"?null:(w=x&&w[x]||w["@@iterator"],typeof w=="function"?w:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function q(w,R,J){this.props=w,this.context=R,this.refs=V,this.updater=J||D}q.prototype.isReactComponent={},q.prototype.setState=function(w,R){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,R,"setState")},q.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function $(w,R,J){this.props=w,this.context=R,this.refs=V,this.updater=J||D}var K=$.prototype=new Y;K.constructor=$,L(K,q.prototype),K.isPureReactComponent=!0;var W=Array.isArray;function ne(){}var I={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function _e(w,R,J){var P=J.ref;return{$$typeof:i,type:w,key:R,ref:P!==void 0?P:null,props:J}}function At(w,R){return _e(w.type,R,w.props)}function st(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function De(w){var R={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(J){return R[J]})}var Dt=/\/+/g;function ht(w,R){return typeof w=="object"&&w!==null&&w.key!=null?De(""+w.key):R.toString(36)}function it(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ne,ne):(w.status="pending",w.then(function(R){w.status==="pending"&&(w.status="fulfilled",w.value=R)},function(R){w.status==="pending"&&(w.status="rejected",w.reason=R)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function z(w,R,J,P,oe){var ge=typeof w;(ge==="undefined"||ge==="boolean")&&(w=null);var we=!1;if(w===null)we=!0;else switch(ge){case"bigint":case"string":case"number":we=!0;break;case"object":switch(w.$$typeof){case i:case n:we=!0;break;case _:return we=w._init,z(we(w._payload),R,J,P,oe)}}if(we)return oe=oe(w),we=P===""?"."+ht(w,0):P,W(oe)?(J="",we!=null&&(J=we.replace(Dt,"$&/")+"/"),z(oe,R,J,"",function(xa){return xa})):oe!=null&&(st(oe)&&(oe=At(oe,J+(oe.key==null||w&&w.key===oe.key?"":(""+oe.key).replace(Dt,"$&/")+"/")+we)),R.push(oe)),1;we=0;var Ve=P===""?".":P+":";if(W(w))for(var Re=0;Re<w.length;Re++)P=w[Re],ge=Ve+ht(P,Re),we+=z(P,R,J,ge,oe);else if(Re=O(w),typeof Re=="function")for(w=Re.call(w),Re=0;!(P=w.next()).done;)P=P.value,ge=Ve+ht(P,Re++),we+=z(P,R,J,ge,oe);else if(ge==="object"){if(typeof w.then=="function")return z(it(w),R,J,P,oe);throw R=String(w),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(w,R,J){if(w==null)return w;var P=[],oe=0;return z(w,P,"","",function(ge){return R.call(J,ge,oe++)}),P}function te(w){if(w._status===-1){var R=w._result;R=R(),R.then(function(J){(w._status===0||w._status===-1)&&(w._status=1,w._result=J)},function(J){(w._status===0||w._status===-1)&&(w._status=2,w._result=J)}),w._status===-1&&(w._status=0,w._result=R)}if(w._status===1)return w._result.default;throw w._result}var pe=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ee={map:X,forEach:function(w,R,J){X(w,function(){R.apply(this,arguments)},J)},count:function(w){var R=0;return X(w,function(){R++}),R},toArray:function(w){return X(w,function(R){return R})||[]},only:function(w){if(!st(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return me.Activity=E,me.Children=ee,me.Component=q,me.Fragment=l,me.Profiler=u,me.PureComponent=$,me.StrictMode=r,me.Suspense=g,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,me.__COMPILER_RUNTIME={__proto__:null,c:function(w){return I.H.useMemoCache(w)}},me.cache=function(w){return function(){return w.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(w,R,J){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var P=L({},w.props),oe=w.key;if(R!=null)for(ge in R.key!==void 0&&(oe=""+R.key),R)!le.call(R,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&R.ref===void 0||(P[ge]=R[ge]);var ge=arguments.length-2;if(ge===1)P.children=J;else if(1<ge){for(var we=Array(ge),Ve=0;Ve<ge;Ve++)we[Ve]=arguments[Ve+2];P.children=we}return _e(w.type,oe,P)},me.createContext=function(w){return w={$$typeof:m,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},me.createElement=function(w,R,J){var P,oe={},ge=null;if(R!=null)for(P in R.key!==void 0&&(ge=""+R.key),R)le.call(R,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(oe[P]=R[P]);var we=arguments.length-2;if(we===1)oe.children=J;else if(1<we){for(var Ve=Array(we),Re=0;Re<we;Re++)Ve[Re]=arguments[Re+2];oe.children=Ve}if(w&&w.defaultProps)for(P in we=w.defaultProps,we)oe[P]===void 0&&(oe[P]=we[P]);return _e(w,ge,oe)},me.createRef=function(){return{current:null}},me.forwardRef=function(w){return{$$typeof:y,render:w}},me.isValidElement=st,me.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:te}},me.memo=function(w,R){return{$$typeof:p,type:w,compare:R===void 0?null:R}},me.startTransition=function(w){var R=I.T,J={};I.T=J;try{var P=w(),oe=I.S;oe!==null&&oe(J,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(ne,pe)}catch(ge){pe(ge)}finally{R!==null&&J.types!==null&&(R.types=J.types),I.T=R}},me.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},me.use=function(w){return I.H.use(w)},me.useActionState=function(w,R,J){return I.H.useActionState(w,R,J)},me.useCallback=function(w,R){return I.H.useCallback(w,R)},me.useContext=function(w){return I.H.useContext(w)},me.useDebugValue=function(){},me.useDeferredValue=function(w,R){return I.H.useDeferredValue(w,R)},me.useEffect=function(w,R){return I.H.useEffect(w,R)},me.useEffectEvent=function(w){return I.H.useEffectEvent(w)},me.useId=function(){return I.H.useId()},me.useImperativeHandle=function(w,R,J){return I.H.useImperativeHandle(w,R,J)},me.useInsertionEffect=function(w,R){return I.H.useInsertionEffect(w,R)},me.useLayoutEffect=function(w,R){return I.H.useLayoutEffect(w,R)},me.useMemo=function(w,R){return I.H.useMemo(w,R)},me.useOptimistic=function(w,R){return I.H.useOptimistic(w,R)},me.useReducer=function(w,R,J){return I.H.useReducer(w,R,J)},me.useRef=function(w){return I.H.useRef(w)},me.useState=function(w){return I.H.useState(w)},me.useSyncExternalStore=function(w,R,J){return I.H.useSyncExternalStore(w,R,J)},me.useTransition=function(){return I.H.useTransition()},me.version="19.2.3",me}var Xm;function od(){return Xm||(Xm=1,Ru.exports=Ky()),Ru.exports}var H=od();const Iy=C0(H);var zu={exports:{}},Yl={},Uu={exports:{}},Du={};var Jm;function Qy(){return Jm||(Jm=1,(function(i){function n(z,X){var te=z.length;z.push(X);e:for(;0<te;){var pe=te-1>>>1,ee=z[pe];if(0<u(ee,X))z[pe]=X,z[te]=ee,te=pe;else break e}}function l(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],te=z.pop();if(te!==X){z[0]=te;e:for(var pe=0,ee=z.length,w=ee>>>1;pe<w;){var R=2*(pe+1)-1,J=z[R],P=R+1,oe=z[P];if(0>u(J,te))P<ee&&0>u(oe,J)?(z[pe]=oe,z[P]=te,pe=P):(z[pe]=J,z[R]=te,pe=R);else if(P<ee&&0>u(oe,te))z[pe]=oe,z[P]=te,pe=P;else break e}}return X}function u(z,X){var te=z.sortIndex-X.sortIndex;return te!==0?te:z.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,y=m.now();i.unstable_now=function(){return m.now()-y}}var g=[],p=[],_=1,E=null,x=3,O=!1,D=!1,L=!1,V=!1,q=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function K(z){for(var X=l(p);X!==null;){if(X.callback===null)r(p);else if(X.startTime<=z)r(p),X.sortIndex=X.expirationTime,n(g,X);else break;X=l(p)}}function W(z){if(L=!1,K(z),!D)if(l(g)!==null)D=!0,ne||(ne=!0,De());else{var X=l(p);X!==null&&it(W,X.startTime-z)}}var ne=!1,I=-1,le=5,_e=-1;function At(){return V?!0:!(i.unstable_now()-_e<le)}function st(){if(V=!1,ne){var z=i.unstable_now();_e=z;var X=!0;try{e:{D=!1,L&&(L=!1,Y(I),I=-1),O=!0;var te=x;try{t:{for(K(z),E=l(g);E!==null&&!(E.expirationTime>z&&At());){var pe=E.callback;if(typeof pe=="function"){E.callback=null,x=E.priorityLevel;var ee=pe(E.expirationTime<=z);if(z=i.unstable_now(),typeof ee=="function"){E.callback=ee,K(z),X=!0;break t}E===l(g)&&r(g),K(z)}else r(g);E=l(g)}if(E!==null)X=!0;else{var w=l(p);w!==null&&it(W,w.startTime-z),X=!1}}break e}finally{E=null,x=te,O=!1}X=void 0}}finally{X?De():ne=!1}}}var De;if(typeof $=="function")De=function(){$(st)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,ht=Dt.port2;Dt.port1.onmessage=st,De=function(){ht.postMessage(null)}}else De=function(){q(st,0)};function it(z,X){I=q(function(){z(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(z){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var te=x;x=X;try{return z()}finally{x=te}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=x;x=z;try{return X()}finally{x=te}},i.unstable_scheduleCallback=function(z,X,te){var pe=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?pe+te:pe):te=pe,z){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=te+ee,z={id:_++,callback:X,priorityLevel:z,startTime:te,expirationTime:ee,sortIndex:-1},te>pe?(z.sortIndex=te,n(p,z),l(g)===null&&z===l(p)&&(L?(Y(I),I=-1):L=!0,it(W,te-pe))):(z.sortIndex=ee,n(g,z),D||O||(D=!0,ne||(ne=!0,De()))),z},i.unstable_shouldYield=At,i.unstable_wrapCallback=function(z){var X=x;return function(){var te=x;x=X;try{return z.apply(this,arguments)}finally{x=te}}}})(Du)),Du}var Zm;function Xy(){return Zm||(Zm=1,Uu.exports=Qy()),Uu.exports}var Mu={exports:{}},Ut={};var Wm;function Jy(){if(Wm)return Ut;Wm=1;var i=od();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(g,p,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:g,containerInfo:p,implementation:_}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ut.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return d(g,p,null,_)},Ut.flushSync=function(g){var p=m.T,_=r.p;try{if(m.T=null,r.p=2,g)return g()}finally{m.T=p,r.p=_,r.d.f()}},Ut.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Ut.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Ut.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,E=y(_,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:x,fetchPriority:O}):_==="script"&&r.d.X(g,{crossOrigin:E,integrity:x,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ut.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=y(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Ut.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,E=y(_,p.crossOrigin);r.d.L(g,_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ut.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=y(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Ut.requestFormReset=function(g){r.d.r(g)},Ut.unstable_batchedUpdates=function(g,p){return g(p)},Ut.useFormState=function(g,p,_){return m.H.useFormState(g,p,_)},Ut.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ut.version="19.2.3",Ut}var Pm;function Zy(){if(Pm)return Mu.exports;Pm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Mu.exports=Jy(),Mu.exports}var Fm;function Wy(){if(Fm)return Yl;Fm=1;var i=Xy(),n=od(),l=Zy();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return g(o),e;if(c===s)return g(o),t;c=c.sibling}throw Error(r(188))}if(a.return!==s.return)a=o,s=c;else{for(var f=!1,v=o.child;v;){if(v===a){f=!0,a=o,s=c;break}if(v===s){f=!0,s=o,a=c;break}v=v.sibling}if(!f){for(v=c.child;v;){if(v===a){f=!0,a=c,s=o;break}if(v===s){f=!0,s=c,a=o;break}v=v.sibling}if(!f)throw Error(r(189))}}if(a.alternate!==s)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var E=Object.assign,x=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),$=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),_e=Symbol.for("react.activity"),At=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function De(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Symbol.for("react.client.reference");function ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Dt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case q:return"Profiler";case V:return"StrictMode";case W:return"Suspense";case ne:return"SuspenseList";case _e:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case $:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:ht(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return ht(e(t))}catch{}}return null}var it=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},pe=[],ee=-1;function w(e){return{current:e}}function R(e){0>ee||(e.current=pe[ee],pe[ee]=null,ee--)}function J(e,t){ee++,pe[ee]=e.current,e.current=t}var P=w(null),oe=w(null),ge=w(null),we=w(null);function Ve(e,t){switch(J(ge,t),J(oe,e),J(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=mm(t),e=gm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(P),J(P,e)}function Re(){R(P),R(oe),R(ge)}function xa(e){e.memoizedState!==null&&J(we,e);var t=P.current,a=gm(t,e.type);t!==a&&(J(oe,e),J(P,a))}function Ea(e){oe.current===e&&(R(P),R(oe)),we.current===e&&(R(we),ql._currentValue=te)}var cs,jn;function Wt(e){if(cs===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);cs=t&&t[1]||"",jn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+e+jn}var za=!1;function Q(e,t){if(!e||za)return"";za=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(C){var k=C}Reflect.construct(e,[],B)}else{try{B.call()}catch(C){k=C}e.call(B.prototype)}}else{try{throw Error()}catch(C){k=C}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(C){if(C&&k&&typeof C.stack=="string")return[C.stack,k.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),f=c[0],v=c[1];if(f&&v){var b=f.split(`
`),A=v.split(`
`);for(o=s=0;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(s===b.length||o===A.length)for(s=b.length-1,o=A.length-1;1<=s&&0<=o&&b[s]!==A[o];)o--;for(;1<=s&&0<=o;s--,o--)if(b[s]!==A[o]){if(s!==1||o!==1)do if(s--,o--,0>o||b[s]!==A[o]){var U=`
`+b[s].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=s&&0<=o);break}}}finally{za=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Wt(a):""}function Ie(e,t){switch(e.tag){case 26:case 27:case 5:return Wt(e.type);case 16:return Wt("Lazy");case 13:return e.child!==t&&t!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return Q(e.type,!1);case 11:return Q(e.type.render,!1);case 1:return Q(e.type,!0);case 31:return Wt("Activity");default:return""}}function tt(e){try{var t="",a=null;do t+=Ie(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var us=Object.prototype.hasOwnProperty,Ua=i.unstable_scheduleCallback,Wa=i.unstable_cancelCallback,Pa=i.unstable_shouldYield,ir=i.unstable_requestPaint,Mt=i.unstable_now,Da=i.unstable_getCurrentPriorityLevel,lr=i.unstable_ImmediatePriority,Xs=i.unstable_UserBlockingPriority,ds=i.unstable_NormalPriority,rr=i.unstable_LowPriority,or=i.unstable_IdlePriority,Ma=i.log,Co=i.unstable_setDisableYieldValue,Ba=null,pt=null;function La(e){if(typeof Ma=="function"&&Co(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Ba,e)}catch{}}var lt=Math.clz32?Math.clz32:zo,Ro=Math.log,hs=Math.LN2;function zo(e){return e>>>=0,e===0?32:31-(Ro(e)/hs|0)|0}var Bt=256,kt=262144,Tn=4194304;function bt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fs(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~c,s!==0?o=bt(s):(f&=v,f!==0?o=bt(f):a||(a=v&~e,a!==0&&(o=bt(a))))):(v=s&~c,v!==0?o=bt(v):f!==0?o=bt(f):a||(a=s&~e,a!==0&&(o=bt(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function ha(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ki(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qa(){var e=Tn;return Tn<<=1,(Tn&62914560)===0&&(Tn=4194304),e}function Nn(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Gt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ii(e,t,a,s,o,c){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,A=e.hiddenUpdates;for(a=f&~a;0<a;){var U=31-lt(a),B=1<<U;v[U]=0,b[U]=-1;var k=A[U];if(k!==null)for(A[U]=null,U=0;U<k.length;U++){var C=k[U];C!==null&&(C.lane&=-536870913)}a&=~B}s!==0&&ms(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(f&~t))}function ms(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-lt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function cr(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-lt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function Js(e,t){var a=t&-t;return a=(a&42)!==0?1:Zs(a),(a&(e.suspendedLanes|t))!==0?0:a}function Zs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ot(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gs(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Lm(e.type))}function An(e,t){var a=X.p;try{return X.p=e,t()}finally{X.p=a}}var fa=Math.random().toString(36).slice(2),ft="__reactFiber$"+fa,_t="__reactProps$"+fa,kn="__reactContainer$"+fa,Qi="__reactEvents$"+fa,Vt="__reactListeners$"+fa,Xi="__reactHandles$"+fa,ur="__reactResources$"+fa,On="__reactMarker$"+fa;function ys(e){delete e[ft],delete e[_t],delete e[Qi],delete e[Vt],delete e[Xi]}function Ha(e){var t=e[ft];if(t)return t;for(var a=e.parentNode;a;){if(t=a[kn]||a[ft]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Sm(e);e!==null;){if(a=e[ft])return a;e=Sm(e)}return t}e=a,a=e.parentNode}return null}function Yt(e){if(e=e[ft]||e[kn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Fa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function $a(e){var t=e[ur];return t||(t=e[ur]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[On]=!0}var wt=new Set,Ji={};function en(e,t){qe(e,t),qe(e+"Capture",t)}function qe(e,t){for(Ji[e]=t,e=0;e<t.length;e++)wt.add(t[e])}var tn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ws={},Ps={};function an(e){return us.call(Ps,e)?!0:us.call(Ws,e)?!1:tn.test(e)?Ps[e]=!0:(Ws[e]=!0,!1)}function nn(e,t,a){if(an(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function vs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Pt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zi(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){a=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qt(e){if(!e._valueTracker){var t=dr(e)?"checked":"value";e._valueTracker=Zi(e,t,""+e[t])}}function Ga(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=dr(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Ct(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sn=/[\n"\\]/g;function Qe(e){return e.replace(sn,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ja(e,t,a,s,o,c,f,v){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Ta(e,f,Lt(t)):a!=null?Ta(e,f,Lt(a)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Lt(v):e.removeAttribute("name")}function Kt(e,t,a,s,o,c,f,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){qt(e);return}a=a!=null?""+Lt(a):"",t=t!=null?""+Lt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),qt(e)}function Ta(e,t,a){t==="number"&&Ct(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ft(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Lt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Wi(e,t,a){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Lt(a):""}function ps(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(r(92));if(it(s)){if(1<s.length)throw Error(r(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Lt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),qt(e)}function ea(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _s(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||bs.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Cn(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&_s(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&_s(e,c,t[c])}function ln(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rn(e){return Pi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mt(){}var zn=null;function Fi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rt=null,Un=null;function el(e){var t=Yt(e);if(t&&(e=t.stateNode)){var a=e[_t]||null;e:switch(e=t.stateNode,t.type){case"input":if(ja(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Qe(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[_t]||null;if(!o)throw Error(r(90));ja(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Ga(s)}break e;case"textarea":Wi(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ft(e,!!a.multiple,t,!1)}}}var tl=!1;function al(e,t,a){if(tl)return e(t,a);tl=!0;try{var s=e(t);return s}finally{if(tl=!1,(Rt!==null||Un!==null)&&(Zr(),Rt&&(t=Rt,e=Un,Un=Rt=null,el(t),e)))for(t=0;t<e.length;t++)el(e[t])}}function he(e,t){var a=e.stateNode;if(a===null)return null;var s=a[_t]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nl=!1;if(ta)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{nl=!1}var Va=null,sl=null,ws=null;function hr(){if(ws)return ws;var e,t=sl,a=t.length,s,o="value"in Va?Va.value:Va.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var f=a-e;for(s=1;s<=f&&t[a-s]===o[c-s];s++);return ws=o.slice(e,1<s?1-s:void 0)}function ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function fr(){return!1}function zt(e){function t(a,s,o,c,f){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ti:fr,this.isPropagationStopped=fr,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),t}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ai=zt(rn),Ss=E({},rn,{view:0,detail:0}),Uo=zt(Ss),il,xs,Es,Mn=E({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(il=e.screenX-Es.screenX,xs=e.screenY-Es.screenY):xs=il=0,Es=e),il)},movementY:function(e){return"movementY"in e?e.movementY:xs}}),ni=zt(Mn),N=E({},Mn,{dataTransfer:0}),G=zt(N),Z=E({},Ss,{relatedTarget:0}),de=zt(Z),Se=E({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),fe=zt(Se),He=E({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ae=zt(He),Ht=E({},rn,{data:0}),ma=zt(Ht),mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ya={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ka={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function si(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ka[e])?!!t[e]:!1}function js(){return si}var Do=E({},Ss,{key:function(e){if(e.key){var t=mr[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ya[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mo=zt(Do),ag=E({},Mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=zt(ag),ng=E({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),sg=zt(ng),ig=E({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lg=zt(ig),rg=E({},Mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),og=zt(rg),cg=E({},rn,{newState:0,oldState:0}),ug=zt(cg),dg=[9,13,27,32],Bo=ta&&"CompositionEvent"in window,ll=null;ta&&"documentMode"in document&&(ll=document.documentMode);var hg=ta&&"TextEvent"in window&&!ll,bd=ta&&(!Bo||ll&&8<ll&&11>=ll),_d=" ",wd=!1;function Sd(e,t){switch(e){case"keyup":return dg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function fg(e,t){switch(e){case"compositionend":return xd(t);case"keypress":return t.which!==32?null:(wd=!0,_d);case"textInput":return e=t.data,e===_d&&wd?null:e;default:return null}}function mg(e,t){if(ii)return e==="compositionend"||!Bo&&Sd(e,t)?(e=hr(),ws=sl=Va=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bd&&t.locale!=="ko"?null:t.data;default:return null}}var gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gg[e.type]:t==="textarea"}function jd(e,t,a,s){Rt?Un?Un.push(s):Un=[s]:Rt=s,t=no(t,"onChange"),0<t.length&&(a=new ai("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var rl=null,ol=null;function yg(e){om(e,0)}function gr(e){var t=Fa(e);if(Ga(t))return e}function Td(e,t){if(e==="change")return t}var Nd=!1;if(ta){var Lo;if(ta){var qo="oninput"in document;if(!qo){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),qo=typeof Ad.oninput=="function"}Lo=qo}else Lo=!1;Nd=Lo&&(!document.documentMode||9<document.documentMode)}function kd(){rl&&(rl.detachEvent("onpropertychange",Od),ol=rl=null)}function Od(e){if(e.propertyName==="value"&&gr(ol)){var t=[];jd(t,ol,e,Fi(e)),al(yg,t)}}function vg(e,t,a){e==="focusin"?(kd(),rl=t,ol=a,rl.attachEvent("onpropertychange",Od)):e==="focusout"&&kd()}function pg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gr(ol)}function bg(e,t){if(e==="click")return gr(t)}function _g(e,t){if(e==="input"||e==="change")return gr(t)}function wg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aa=typeof Object.is=="function"?Object.is:wg;function cl(e,t){if(aa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!us.call(t,o)||!aa(e[o],t[o]))return!1}return!0}function Cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,t){var a=Cd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cd(a)}}function zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ud(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ct(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ct(e.document)}return t}function Ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Sg=ta&&"documentMode"in document&&11>=document.documentMode,li=null,$o=null,ul=null,Go=!1;function Dd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Go||li==null||li!==Ct(s)||(s=li,"selectionStart"in s&&Ho(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ul&&cl(ul,s)||(ul=s,s=no($o,"onSelect"),0<s.length&&(t=new ai("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=li)))}function Ts(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ri={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},Vo={},Md={};ta&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Ns(e){if(Vo[e])return Vo[e];if(!ri[e])return e;var t=ri[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Md)return Vo[e]=t[a];return e}var Bd=Ns("animationend"),Ld=Ns("animationiteration"),qd=Ns("animationstart"),xg=Ns("transitionrun"),Eg=Ns("transitionstart"),jg=Ns("transitioncancel"),Hd=Ns("transitionend"),$d=new Map,Yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yo.push("scrollEnd");function Na(e,t){$d.set(e,t),en(t,[e])}var yr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ga=[],oi=0,Ko=0;function vr(){for(var e=oi,t=Ko=oi=0;t<e;){var a=ga[t];ga[t++]=null;var s=ga[t];ga[t++]=null;var o=ga[t];ga[t++]=null;var c=ga[t];if(ga[t++]=null,s!==null&&o!==null){var f=s.pending;f===null?o.next=o:(o.next=f.next,f.next=o),s.pending=o}c!==0&&Gd(a,o,c)}}function pr(e,t,a,s){ga[oi++]=e,ga[oi++]=t,ga[oi++]=a,ga[oi++]=s,Ko|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Io(e,t,a,s){return pr(e,t,a,s),br(e)}function As(e,t){return pr(e,null,null,t),br(e)}function Gd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,s=c.alternate,s!==null&&(s.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-lt(a),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),c):null}function br(e){if(50<Rl)throw Rl=0,tu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ci={};function Tg(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(e,t,a,s){return new Tg(e,t,a,s)}function Qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function on(e,t){var a=e.alternate;return a===null?(a=na(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Vd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _r(e,t,a,s,o,c){var f=0;if(s=e,typeof e=="function")Qo(e)&&(f=1);else if(typeof e=="string")f=Cy(e,a,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case _e:return e=na(31,a,t,o),e.elementType=_e,e.lanes=c,e;case L:return ks(a.children,o,c,t);case V:f=8,o|=24;break;case q:return e=na(12,a,t,o|2),e.elementType=q,e.lanes=c,e;case W:return e=na(13,a,t,o),e.elementType=W,e.lanes=c,e;case ne:return e=na(19,a,t,o),e.elementType=ne,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:f=10;break e;case Y:f=9;break e;case K:f=11;break e;case I:f=14;break e;case le:f=16,s=null;break e}f=29,a=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=na(f,a,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function ks(e,t,a,s){return e=na(7,e,s,t),e.lanes=a,e}function Xo(e,t,a){return e=na(6,e,null,t),e.lanes=a,e}function Yd(e){var t=na(18,null,null,0);return t.stateNode=e,t}function Jo(e,t,a){return t=na(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kd=new WeakMap;function ya(e,t){if(typeof e=="object"&&e!==null){var a=Kd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:tt(t)},Kd.set(e,t),t)}return{value:e,source:t,stack:tt(t)}}var ui=[],di=0,wr=null,dl=0,va=[],pa=0,Bn=null,Ia=1,Qa="";function cn(e,t){ui[di++]=dl,ui[di++]=wr,wr=e,dl=t}function Id(e,t,a){va[pa++]=Ia,va[pa++]=Qa,va[pa++]=Bn,Bn=e;var s=Ia;e=Qa;var o=32-lt(s)-1;s&=~(1<<o),a+=1;var c=32-lt(t)+o;if(30<c){var f=o-o%5;c=(s&(1<<f)-1).toString(32),s>>=f,o-=f,Ia=1<<32-lt(t)+o|a<<o|s,Qa=c+e}else Ia=1<<c|a<<o|s,Qa=e}function Zo(e){e.return!==null&&(cn(e,1),Id(e,1,0))}function Wo(e){for(;e===wr;)wr=ui[--di],ui[di]=null,dl=ui[--di],ui[di]=null;for(;e===Bn;)Bn=va[--pa],va[pa]=null,Qa=va[--pa],va[pa]=null,Ia=va[--pa],va[pa]=null}function Qd(e,t){va[pa++]=Ia,va[pa++]=Qa,va[pa++]=Bn,Ia=t.id,Qa=t.overflow,Bn=e}var St=null,Ye=null,Ne=!1,Ln=null,ba=!1,Po=Error(r(519));function qn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(ya(t,e)),Po}function Xd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[ft]=e,t[_t]=s,a){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Ee(Ul[a],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Kt(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),ps(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||hm(t.textContent,a)?(s.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),s.onScroll!=null&&Ee("scroll",t),s.onScrollEnd!=null&&Ee("scrollend",t),s.onClick!=null&&(t.onclick=mt),t=!0):t=!1,t||qn(e,!0)}function Jd(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:ba=!1;return;case 27:case 3:ba=!0;return;default:St=St.return}}function hi(e){if(e!==St)return!1;if(!Ne)return Jd(e),Ne=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yu(e.type,e.memoizedProps)),a=!a),a&&Ye&&qn(e),Jd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=wm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=wm(e)}else t===27?(t=Ye,Fn(e.type)?(e=wu,wu=null,Ye=e):Ye=t):Ye=St?wa(e.stateNode.nextSibling):null;return!0}function Os(){Ye=St=null,Ne=!1}function Fo(){var e=Ln;return e!==null&&(Jt===null?Jt=e:Jt.push.apply(Jt,e),Ln=null),e}function hl(e){Ln===null?Ln=[e]:Ln.push(e)}var ec=w(null),Cs=null,un=null;function Hn(e,t,a){J(ec,t._currentValue),t._currentValue=a}function dn(e){e._currentValue=ec.current,R(ec)}function tc(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function ac(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var f=o.child;c=c.firstContext;e:for(;c!==null;){var v=c;c=o;for(var b=0;b<t.length;b++)if(v.context===t[b]){c.lanes|=a,v=c.alternate,v!==null&&(v.lanes|=a),tc(c.return,a,e),s||(f=null);break e}c=v.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(r(341));f.lanes|=a,c=f.alternate,c!==null&&(c.lanes|=a),tc(f,a,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function fi(e,t,a,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(r(387));if(f=f.memoizedProps,f!==null){var v=o.type;aa(o.pendingProps.value,f.value)||(e!==null?e.push(v):e=[v])}}else if(o===we.current){if(f=o.alternate,f===null)throw Error(r(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ql):e=[ql])}o=o.return}e!==null&&ac(t,e,a,s),t.flags|=262144}function Sr(e){for(e=e.firstContext;e!==null;){if(!aa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){Cs=e,un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xt(e){return Zd(Cs,e)}function xr(e,t){return Cs===null&&Rs(e),Zd(e,t)}function Zd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},un===null){if(e===null)throw Error(r(308));un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else un=un.next=t;return a}var Ng=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ag=i.unstable_scheduleCallback,kg=i.unstable_NormalPriority,rt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nc(){return{controller:new Ng,data:new Map,refCount:0}}function fl(e){e.refCount--,e.refCount===0&&Ag(kg,function(){e.controller.abort()})}var ml=null,sc=0,mi=0,gi=null;function Og(e,t){if(ml===null){var a=ml=[];sc=0,mi=ru(),gi={status:"pending",value:void 0,then:function(s){a.push(s)}}}return sc++,t.then(Wd,Wd),t}function Wd(){if(--sc===0&&ml!==null){gi!==null&&(gi.status="fulfilled");var e=ml;ml=null,mi=0,gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Cg(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Pd=z.S;z.S=function(e,t){Mf=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Og(e,t),Pd!==null&&Pd(e,t)};var zs=w(null);function ic(){var e=zs.current;return e!==null?e:$e.pooledCache}function Er(e,t){t===null?J(zs,zs.current):J(zs,t.pool)}function Fd(){var e=ic();return e===null?null:{parent:rt._currentValue,pool:e}}var yi=Error(r(460)),lc=Error(r(474)),jr=Error(r(542)),Tr={then:function(){}};function eh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function th(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(mt,mt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nh(e),e;default:if(typeof t.status=="string")t.then(mt,mt);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nh(e),e}throw Ds=t,yi}}function Us(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ds=a,yi):a}}var Ds=null;function ah(){if(Ds===null)throw Error(r(459));var e=Ds;return Ds=null,e}function nh(e){if(e===yi||e===jr)throw Error(r(483))}var vi=null,gl=0;function Nr(e){var t=gl;return gl+=1,vi===null&&(vi=[]),th(vi,e,t)}function yl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ar(e,t){throw t.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sh(e){function t(j,S){if(e){var T=j.deletions;T===null?(j.deletions=[S],j.flags|=16):T.push(S)}}function a(j,S){if(!e)return null;for(;S!==null;)t(j,S),S=S.sibling;return null}function s(j){for(var S=new Map;j!==null;)j.key!==null?S.set(j.key,j):S.set(j.index,j),j=j.sibling;return S}function o(j,S){return j=on(j,S),j.index=0,j.sibling=null,j}function c(j,S,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<S?(j.flags|=67108866,S):T):(j.flags|=67108866,S)):(j.flags|=1048576,S)}function f(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function v(j,S,T,M){return S===null||S.tag!==6?(S=Xo(T,j.mode,M),S.return=j,S):(S=o(S,T),S.return=j,S)}function b(j,S,T,M){var ie=T.type;return ie===L?U(j,S,T.props.children,M,T.key):S!==null&&(S.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===le&&Us(ie)===S.type)?(S=o(S,T.props),yl(S,T),S.return=j,S):(S=_r(T.type,T.key,T.props,null,j.mode,M),yl(S,T),S.return=j,S)}function A(j,S,T,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=Jo(T,j.mode,M),S.return=j,S):(S=o(S,T.children||[]),S.return=j,S)}function U(j,S,T,M,ie){return S===null||S.tag!==7?(S=ks(T,j.mode,M,ie),S.return=j,S):(S=o(S,T),S.return=j,S)}function B(j,S,T){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Xo(""+S,j.mode,T),S.return=j,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case O:return T=_r(S.type,S.key,S.props,null,j.mode,T),yl(T,S),T.return=j,T;case D:return S=Jo(S,j.mode,T),S.return=j,S;case le:return S=Us(S),B(j,S,T)}if(it(S)||De(S))return S=ks(S,j.mode,T,null),S.return=j,S;if(typeof S.then=="function")return B(j,Nr(S),T);if(S.$$typeof===$)return B(j,xr(j,S),T);Ar(j,S)}return null}function k(j,S,T,M){var ie=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return ie!==null?null:v(j,S,""+T,M);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case O:return T.key===ie?b(j,S,T,M):null;case D:return T.key===ie?A(j,S,T,M):null;case le:return T=Us(T),k(j,S,T,M)}if(it(T)||De(T))return ie!==null?null:U(j,S,T,M,null);if(typeof T.then=="function")return k(j,S,Nr(T),M);if(T.$$typeof===$)return k(j,S,xr(j,T),M);Ar(j,T)}return null}function C(j,S,T,M,ie){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return j=j.get(T)||null,v(S,j,""+M,ie);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return j=j.get(M.key===null?T:M.key)||null,b(S,j,M,ie);case D:return j=j.get(M.key===null?T:M.key)||null,A(S,j,M,ie);case le:return M=Us(M),C(j,S,T,M,ie)}if(it(M)||De(M))return j=j.get(T)||null,U(S,j,M,ie,null);if(typeof M.then=="function")return C(j,S,T,Nr(M),ie);if(M.$$typeof===$)return C(j,S,T,xr(S,M),ie);Ar(S,M)}return null}function F(j,S,T,M){for(var ie=null,ke=null,ae=S,ve=S=0,Te=null;ae!==null&&ve<T.length;ve++){ae.index>ve?(Te=ae,ae=null):Te=ae.sibling;var Oe=k(j,ae,T[ve],M);if(Oe===null){ae===null&&(ae=Te);break}e&&ae&&Oe.alternate===null&&t(j,ae),S=c(Oe,S,ve),ke===null?ie=Oe:ke.sibling=Oe,ke=Oe,ae=Te}if(ve===T.length)return a(j,ae),Ne&&cn(j,ve),ie;if(ae===null){for(;ve<T.length;ve++)ae=B(j,T[ve],M),ae!==null&&(S=c(ae,S,ve),ke===null?ie=ae:ke.sibling=ae,ke=ae);return Ne&&cn(j,ve),ie}for(ae=s(ae);ve<T.length;ve++)Te=C(ae,j,ve,T[ve],M),Te!==null&&(e&&Te.alternate!==null&&ae.delete(Te.key===null?ve:Te.key),S=c(Te,S,ve),ke===null?ie=Te:ke.sibling=Te,ke=Te);return e&&ae.forEach(function(ss){return t(j,ss)}),Ne&&cn(j,ve),ie}function re(j,S,T,M){if(T==null)throw Error(r(151));for(var ie=null,ke=null,ae=S,ve=S=0,Te=null,Oe=T.next();ae!==null&&!Oe.done;ve++,Oe=T.next()){ae.index>ve?(Te=ae,ae=null):Te=ae.sibling;var ss=k(j,ae,Oe.value,M);if(ss===null){ae===null&&(ae=Te);break}e&&ae&&ss.alternate===null&&t(j,ae),S=c(ss,S,ve),ke===null?ie=ss:ke.sibling=ss,ke=ss,ae=Te}if(Oe.done)return a(j,ae),Ne&&cn(j,ve),ie;if(ae===null){for(;!Oe.done;ve++,Oe=T.next())Oe=B(j,Oe.value,M),Oe!==null&&(S=c(Oe,S,ve),ke===null?ie=Oe:ke.sibling=Oe,ke=Oe);return Ne&&cn(j,ve),ie}for(ae=s(ae);!Oe.done;ve++,Oe=T.next())Oe=C(ae,j,ve,Oe.value,M),Oe!==null&&(e&&Oe.alternate!==null&&ae.delete(Oe.key===null?ve:Oe.key),S=c(Oe,S,ve),ke===null?ie=Oe:ke.sibling=Oe,ke=Oe);return e&&ae.forEach(function(Gy){return t(j,Gy)}),Ne&&cn(j,ve),ie}function Le(j,S,T,M){if(typeof T=="object"&&T!==null&&T.type===L&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case O:e:{for(var ie=T.key;S!==null;){if(S.key===ie){if(ie=T.type,ie===L){if(S.tag===7){a(j,S.sibling),M=o(S,T.props.children),M.return=j,j=M;break e}}else if(S.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===le&&Us(ie)===S.type){a(j,S.sibling),M=o(S,T.props),yl(M,T),M.return=j,j=M;break e}a(j,S);break}else t(j,S);S=S.sibling}T.type===L?(M=ks(T.props.children,j.mode,M,T.key),M.return=j,j=M):(M=_r(T.type,T.key,T.props,null,j.mode,M),yl(M,T),M.return=j,j=M)}return f(j);case D:e:{for(ie=T.key;S!==null;){if(S.key===ie)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){a(j,S.sibling),M=o(S,T.children||[]),M.return=j,j=M;break e}else{a(j,S);break}else t(j,S);S=S.sibling}M=Jo(T,j.mode,M),M.return=j,j=M}return f(j);case le:return T=Us(T),Le(j,S,T,M)}if(it(T))return F(j,S,T,M);if(De(T)){if(ie=De(T),typeof ie!="function")throw Error(r(150));return T=ie.call(T),re(j,S,T,M)}if(typeof T.then=="function")return Le(j,S,Nr(T),M);if(T.$$typeof===$)return Le(j,S,xr(j,T),M);Ar(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,S!==null&&S.tag===6?(a(j,S.sibling),M=o(S,T),M.return=j,j=M):(a(j,S),M=Xo(T,j.mode,M),M.return=j,j=M),f(j)):a(j,S)}return function(j,S,T,M){try{gl=0;var ie=Le(j,S,T,M);return vi=null,ie}catch(ae){if(ae===yi||ae===jr)throw ae;var ke=na(29,ae,null,j.mode);return ke.lanes=M,ke.return=j,ke}}}var Ms=sh(!0),ih=sh(!1),$n=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ce&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=br(e),Gd(e,null,a),t}return pr(e,s,t,a),br(e)}function vl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,cr(e,a)}}function cc(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=f:c=c.next=f,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var uc=!1;function pl(){if(uc){var e=gi;if(e!==null)throw e}}function bl(e,t,a,s){uc=!1;var o=e.updateQueue;$n=!1;var c=o.firstBaseUpdate,f=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var b=v,A=b.next;b.next=null,f===null?c=A:f.next=A,f=b;var U=e.alternate;U!==null&&(U=U.updateQueue,v=U.lastBaseUpdate,v!==f&&(v===null?U.firstBaseUpdate=A:v.next=A,U.lastBaseUpdate=b))}if(c!==null){var B=o.baseState;f=0,U=A=b=null,v=c;do{var k=v.lane&-536870913,C=k!==v.lane;if(C?(je&k)===k:(s&k)===k){k!==0&&k===mi&&(uc=!0),U!==null&&(U=U.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var F=e,re=v;k=t;var Le=a;switch(re.tag){case 1:if(F=re.payload,typeof F=="function"){B=F.call(Le,B,k);break e}B=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=re.payload,k=typeof F=="function"?F.call(Le,B,k):F,k==null)break e;B=E({},B,k);break e;case 2:$n=!0}}k=v.callback,k!==null&&(e.flags|=64,C&&(e.flags|=8192),C=o.callbacks,C===null?o.callbacks=[k]:C.push(k))}else C={lane:k,tag:v.tag,payload:v.payload,callback:v.callback,next:null},U===null?(A=U=C,b=B):U=U.next=C,f|=k;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;C=v,v=C.next,C.next=null,o.lastBaseUpdate=C,o.shared.pending=null}}while(!0);U===null&&(b=B),o.baseState=b,o.firstBaseUpdate=A,o.lastBaseUpdate=U,c===null&&(o.shared.lanes=0),Xn|=f,e.lanes=f,e.memoizedState=B}}function lh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function rh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)lh(a[e],t)}var pi=w(null),kr=w(0);function oh(e,t){e=_n,J(kr,e),J(pi,t),_n=e|t.baseLanes}function dc(){J(kr,_n),J(pi,pi.current)}function hc(){_n=kr.current,R(pi),R(kr)}var sa=w(null),_a=null;function Yn(e){var t=e.alternate;J(at,at.current&1),J(sa,e),_a===null&&(t===null||pi.current!==null||t.memoizedState!==null)&&(_a=e)}function fc(e){J(at,at.current),J(sa,e),_a===null&&(_a=e)}function ch(e){e.tag===22?(J(at,at.current),J(sa,e),_a===null&&(_a=e)):Kn()}function Kn(){J(at,at.current),J(sa,sa.current)}function ia(e){R(sa),_a===e&&(_a=null),R(at)}var at=w(0);function Or(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bu(a)||_u(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hn=0,ye=null,Me=null,ot=null,Cr=!1,bi=!1,Bs=!1,Rr=0,_l=0,_i=null,Rg=0;function We(){throw Error(r(321))}function mc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!aa(e[a],t[a]))return!1;return!0}function gc(e,t,a,s,o,c){return hn=c,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Ih:Oc,Bs=!1,c=a(s,o),Bs=!1,bi&&(c=dh(t,a,s,o)),uh(e),c}function uh(e){z.H=xl;var t=Me!==null&&Me.next!==null;if(hn=0,ot=Me=ye=null,Cr=!1,_l=0,_i=null,t)throw Error(r(300));e===null||ct||(e=e.dependencies,e!==null&&Sr(e)&&(ct=!0))}function dh(e,t,a,s){ye=e;var o=0;do{if(bi&&(_i=null),_l=0,bi=!1,25<=o)throw Error(r(301));if(o+=1,ot=Me=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}z.H=Qh,c=t(a,s)}while(bi);return c}function zg(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?wl(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ye.flags|=1024),t}function yc(){var e=Rr!==0;return Rr=0,e}function vc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function pc(e){if(Cr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Cr=!1}hn=0,ot=Me=ye=null,bi=!1,_l=Rr=0,_i=null}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?ye.memoizedState=ot=e:ot=ot.next=e,ot}function nt(){if(Me===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=ot===null?ye.memoizedState:ot.next;if(t!==null)ot=t,Me=e;else{if(e===null)throw ye.alternate===null?Error(r(467)):Error(r(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},ot===null?ye.memoizedState=ot=e:ot=ot.next=e}return ot}function zr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(e){var t=_l;return _l+=1,_i===null&&(_i=[]),e=th(_i,e,t),t=ye,(ot===null?t.memoizedState:ot.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Ih:Oc),e}function Ur(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wl(e);if(e.$$typeof===$)return xt(e)}throw Error(r(438,String(e)))}function bc(e){var t=null,a=ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=zr(),ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=At;return t.index++,a}function fn(e,t){return typeof t=="function"?t(e):t}function Dr(e){var t=nt();return _c(t,Me,e)}function _c(e,t,a){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var f=o.next;o.next=c.next,c.next=f}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var v=f=null,b=null,A=t,U=!1;do{var B=A.lane&-536870913;if(B!==A.lane?(je&B)===B:(hn&B)===B){var k=A.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),B===mi&&(U=!0);else if((hn&k)===k){A=A.next,k===mi&&(U=!0);continue}else B={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=B,f=c):b=b.next=B,ye.lanes|=k,Xn|=k;B=A.action,Bs&&a(c,B),c=A.hasEagerState?A.eagerState:a(c,B)}else k={lane:B,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=k,f=c):b=b.next=k,ye.lanes|=B,Xn|=B;A=A.next}while(A!==null&&A!==t);if(b===null?f=c:b.next=v,!aa(c,e.memoizedState)&&(ct=!0,U&&(a=gi,a!==null)))throw a;e.memoizedState=c,e.baseState=f,e.baseQueue=b,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function wc(e){var t=nt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var f=o=o.next;do c=e(c,f.action),f=f.next;while(f!==o);aa(c,t.memoizedState)||(ct=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,s]}function hh(e,t,a){var s=ye,o=nt(),c=Ne;if(c){if(a===void 0)throw Error(r(407));a=a()}else a=t();var f=!aa((Me||o).memoizedState,a);if(f&&(o.memoizedState=a,ct=!0),o=o.queue,Ec(gh.bind(null,s,o,e),[e]),o.getSnapshot!==t||f||ot!==null&&ot.memoizedState.tag&1){if(s.flags|=2048,wi(9,{destroy:void 0},mh.bind(null,s,o,a,t),null),$e===null)throw Error(r(349));c||(hn&127)!==0||fh(s,t,a)}return a}function fh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ye.updateQueue,t===null?(t=zr(),ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function mh(e,t,a,s){t.value=a,t.getSnapshot=s,yh(t)&&vh(e)}function gh(e,t,a){return a(function(){yh(t)&&vh(e)})}function yh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!aa(e,a)}catch{return!0}}function vh(e){var t=As(e,2);t!==null&&Zt(t,e,2)}function Sc(e){var t=$t();if(typeof e=="function"){var a=e;if(e=a(),Bs){La(!0);try{a()}finally{La(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},t}function ph(e,t,a,s){return e.baseState=a,_c(e,Me,typeof s=="function"?s:fn)}function Ug(e,t,a,s,o){if(Lr(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){c.listeners.push(f)}};z.T!==null?a(!0):c.isTransition=!1,s(c),a=t.pending,a===null?(c.next=t.pending=c,bh(t,c)):(c.next=a.next,t.pending=a.next=c)}}function bh(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=z.T,f={};z.T=f;try{var v=a(o,s),b=z.S;b!==null&&b(f,v),_h(e,t,v)}catch(A){xc(e,t,A)}finally{c!==null&&f.types!==null&&(c.types=f.types),z.T=c}}else try{c=a(o,s),_h(e,t,c)}catch(A){xc(e,t,A)}}function _h(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){wh(e,t,s)},function(s){return xc(e,t,s)}):wh(e,t,a)}function wh(e,t,a){t.status="fulfilled",t.value=a,Sh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,bh(e,a)))}function xc(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Sh(t),t=t.next;while(t!==s)}e.action=null}function Sh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function xh(e,t){return t}function Eh(e,t){if(Ne){var a=$e.formState;if(a!==null){e:{var s=ye;if(Ne){if(Ye){t:{for(var o=Ye,c=ba;o.nodeType!==8;){if(!c){o=null;break t}if(o=wa(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Ye=wa(o.nextSibling),s=o.data==="F!";break e}}qn(s)}s=!1}s&&(t=a[0])}}return a=$t(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xh,lastRenderedState:t},a.queue=s,a=Vh.bind(null,ye,s),s.dispatch=a,s=Sc(!1),c=kc.bind(null,ye,!1,s.queue),s=$t(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=Ug.bind(null,ye,o,c,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function jh(e){var t=nt();return Th(t,Me,e)}function Th(e,t,a){if(t=_c(e,t,xh)[0],e=Dr(fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=wl(t)}catch(f){throw f===yi?jr:f}else s=t;t=nt();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(ye.flags|=2048,wi(9,{destroy:void 0},Dg.bind(null,o,a),null)),[s,c,e]}function Dg(e,t){e.action=t}function Nh(e){var t=nt(),a=Me;if(a!==null)return Th(t,a,e);nt(),t=t.memoizedState,a=nt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function wi(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ye.updateQueue,t===null&&(t=zr(),ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Ah(){return nt().memoizedState}function Mr(e,t,a,s){var o=$t();ye.flags|=e,o.memoizedState=wi(1|t,{destroy:void 0},a,s===void 0?null:s)}function Br(e,t,a,s){var o=nt();s=s===void 0?null:s;var c=o.memoizedState.inst;Me!==null&&s!==null&&mc(s,Me.memoizedState.deps)?o.memoizedState=wi(t,c,a,s):(ye.flags|=e,o.memoizedState=wi(1|t,c,a,s))}function kh(e,t){Mr(8390656,8,e,t)}function Ec(e,t){Br(2048,8,e,t)}function Mg(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=zr(),ye.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Oh(e){var t=nt().memoizedState;return Mg({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Ch(e,t){return Br(4,2,e,t)}function Rh(e,t){return Br(4,4,e,t)}function zh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uh(e,t,a){a=a!=null?a.concat([e]):null,Br(4,4,zh.bind(null,t,e),a)}function jc(){}function Dh(e,t){var a=nt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&mc(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Mh(e,t){var a=nt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&mc(t,s[1]))return s[0];if(s=e(),Bs){La(!0);try{e()}finally{La(!1)}}return a.memoizedState=[s,t],s}function Tc(e,t,a){return a===void 0||(hn&1073741824)!==0&&(je&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Lf(),ye.lanes|=e,Xn|=e,a)}function Bh(e,t,a,s){return aa(a,t)?a:pi.current!==null?(e=Tc(e,a,s),aa(e,t)||(ct=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(je&261930)===0?(ct=!0,e.memoizedState=a):(e=Lf(),ye.lanes|=e,Xn|=e,t)}function Lh(e,t,a,s,o){var c=X.p;X.p=c!==0&&8>c?c:8;var f=z.T,v={};z.T=v,kc(e,!1,t,a);try{var b=o(),A=z.S;if(A!==null&&A(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var U=Cg(b,s);Sl(e,t,U,oa(e))}else Sl(e,t,s,oa(e))}catch(B){Sl(e,t,{then:function(){},status:"rejected",reason:B},oa())}finally{X.p=c,f!==null&&v.types!==null&&(f.types=v.types),z.T=f}}function Bg(){}function Nc(e,t,a,s){if(e.tag!==5)throw Error(r(476));var o=qh(e).queue;Lh(e,o,t,te,a===null?Bg:function(){return Hh(e),a(s)})}function qh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hh(e){var t=qh(e);t.next===null&&(t=e.alternate.memoizedState),Sl(e,t.next.queue,{},oa())}function Ac(){return xt(ql)}function $h(){return nt().memoizedState}function Gh(){return nt().memoizedState}function Lg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=oa();e=Gn(a);var s=Vn(t,e,a);s!==null&&(Zt(s,t,a),vl(s,t,a)),t={cache:nc()},e.payload=t;return}t=t.return}}function qg(e,t,a){var s=oa();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lr(e)?Yh(t,a):(a=Io(e,t,a,s),a!==null&&(Zt(a,e,s),Kh(a,t,s)))}function Vh(e,t,a){var s=oa();Sl(e,t,a,s)}function Sl(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lr(e))Yh(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,v=c(f,a);if(o.hasEagerState=!0,o.eagerState=v,aa(v,f))return pr(e,t,o,0),$e===null&&vr(),!1}catch{}if(a=Io(e,t,o,s),a!==null)return Zt(a,e,s),Kh(a,t,s),!0}return!1}function kc(e,t,a,s){if(s={lane:2,revertLane:ru(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lr(e)){if(t)throw Error(r(479))}else t=Io(e,a,s,2),t!==null&&Zt(t,e,2)}function Lr(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Yh(e,t){bi=Cr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Kh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,cr(e,a)}}var xl={readContext:xt,use:Ur,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};xl.useEffectEvent=We;var Ih={readContext:xt,use:Ur,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:kh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Mr(4194308,4,zh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Mr(4194308,4,e,t)},useInsertionEffect:function(e,t){Mr(4,2,e,t)},useMemo:function(e,t){var a=$t();t=t===void 0?null:t;var s=e();if(Bs){La(!0);try{e()}finally{La(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=$t();if(a!==void 0){var o=a(t);if(Bs){La(!0);try{a(t)}finally{La(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=qg.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:function(e){e=Sc(e);var t=e.queue,a=Vh.bind(null,ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:jc,useDeferredValue:function(e,t){var a=$t();return Tc(a,e,t)},useTransition:function(){var e=Sc(!1);return e=Lh.bind(null,ye,e.queue,!0,!1),$t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ye,o=$t();if(Ne){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),$e===null)throw Error(r(349));(je&127)!==0||fh(s,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,kh(gh.bind(null,s,c,e),[e]),s.flags|=2048,wi(9,{destroy:void 0},mh.bind(null,s,c,a,t),null),a},useId:function(){var e=$t(),t=$e.identifierPrefix;if(Ne){var a=Qa,s=Ia;a=(s&~(1<<32-lt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Rr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Rg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ac,useFormState:Eh,useActionState:Eh,useOptimistic:function(e){var t=$t();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=kc.bind(null,ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:bc,useCacheRefresh:function(){return $t().memoizedState=Lg.bind(null,ye)},useEffectEvent:function(e){var t=$t(),a={impl:e};return t.memoizedState=a,function(){if((Ce&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Oc={readContext:xt,use:Ur,useCallback:Dh,useContext:xt,useEffect:Ec,useImperativeHandle:Uh,useInsertionEffect:Ch,useLayoutEffect:Rh,useMemo:Mh,useReducer:Dr,useRef:Ah,useState:function(){return Dr(fn)},useDebugValue:jc,useDeferredValue:function(e,t){var a=nt();return Bh(a,Me.memoizedState,e,t)},useTransition:function(){var e=Dr(fn)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:wl(e),t]},useSyncExternalStore:hh,useId:$h,useHostTransitionStatus:Ac,useFormState:jh,useActionState:jh,useOptimistic:function(e,t){var a=nt();return ph(a,Me,e,t)},useMemoCache:bc,useCacheRefresh:Gh};Oc.useEffectEvent=Oh;var Qh={readContext:xt,use:Ur,useCallback:Dh,useContext:xt,useEffect:Ec,useImperativeHandle:Uh,useInsertionEffect:Ch,useLayoutEffect:Rh,useMemo:Mh,useReducer:wc,useRef:Ah,useState:function(){return wc(fn)},useDebugValue:jc,useDeferredValue:function(e,t){var a=nt();return Me===null?Tc(a,e,t):Bh(a,Me.memoizedState,e,t)},useTransition:function(){var e=wc(fn)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:wl(e),t]},useSyncExternalStore:hh,useId:$h,useHostTransitionStatus:Ac,useFormState:Nh,useActionState:Nh,useOptimistic:function(e,t){var a=nt();return Me!==null?ph(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bc,useCacheRefresh:Gh};Qh.useEffectEvent=Oh;function Cc(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:E({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Rc={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=oa(),o=Gn(s);o.payload=t,a!=null&&(o.callback=a),t=Vn(e,o,s),t!==null&&(Zt(t,e,s),vl(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=oa(),o=Gn(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Vn(e,o,s),t!==null&&(Zt(t,e,s),vl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=oa(),s=Gn(a);s.tag=2,t!=null&&(s.callback=t),t=Vn(e,s,a),t!==null&&(Zt(t,e,a),vl(t,e,a))}};function Xh(e,t,a,s,o,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,f):t.prototype&&t.prototype.isPureReactComponent?!cl(a,s)||!cl(o,c):!0}function Jh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Rc.enqueueReplaceState(t,t.state,null)}function Ls(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=E({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Zh(e){yr(e)}function Wh(e){console.error(e)}function Ph(e){yr(e)}function qr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Fh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function zc(e,t,a){return a=Gn(a),a.tag=3,a.payload={element:null},a.callback=function(){qr(e,t)},a}function ef(e){return e=Gn(e),e.tag=3,e}function tf(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){Fh(t,a,s)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Fh(t,a,s),typeof o!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function Hg(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&fi(t,a,o,!0),a=sa.current,a!==null){switch(a.tag){case 31:case 13:return _a===null?Wr():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===Tr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),su(e,s,o)),!1;case 22:return a.flags|=65536,s===Tr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),su(e,s,o)),!1}throw Error(r(435,a.tag))}return su(e,s,o),Wr(),!1}if(Ne)return t=sa.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Po&&(e=Error(r(422),{cause:s}),hl(ya(e,a)))):(s!==Po&&(t=Error(r(423),{cause:s}),hl(ya(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=ya(s,a),o=zc(e.stateNode,s,o),cc(e,o),Pe!==4&&(Pe=2)),!1;var c=Error(r(520),{cause:s});if(c=ya(c,a),Cl===null?Cl=[c]:Cl.push(c),Pe!==4&&(Pe=2),t===null)return!0;s=ya(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=zc(a.stateNode,s,e),cc(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Jn===null||!Jn.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=ef(o),tf(o,e,a,s),cc(a,o),!1}a=a.return}while(a!==null);return!1}var Uc=Error(r(461)),ct=!1;function Et(e,t,a,s){t.child=e===null?ih(t,null,a,s):Ms(t,e.child,a,s)}function af(e,t,a,s,o){a=a.render;var c=t.ref;if("ref"in s){var f={};for(var v in s)v!=="ref"&&(f[v]=s[v])}else f=s;return Rs(t),s=gc(e,t,a,f,c,o),v=yc(),e!==null&&!ct?(vc(e,t,o),mn(e,t,o)):(Ne&&v&&Zo(t),t.flags|=1,Et(e,t,s,o),t.child)}function nf(e,t,a,s,o){if(e===null){var c=a.type;return typeof c=="function"&&!Qo(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,sf(e,t,c,s,o)):(e=_r(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Gc(e,o)){var f=c.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(f,s)&&e.ref===t.ref)return mn(e,t,o)}return t.flags|=1,e=on(c,s),e.ref=t.ref,e.return=t,t.child=e}function sf(e,t,a,s,o){if(e!==null){var c=e.memoizedProps;if(cl(c,s)&&e.ref===t.ref)if(ct=!1,t.pendingProps=s=c,Gc(e,o))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,mn(e,t,o)}return Dc(e,t,a,s,o)}function lf(e,t,a,s){var o=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~c}else s=0,t.child=null;return rf(e,t,c,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Er(t,c!==null?c.cachePool:null),c!==null?oh(t,c):dc(),ch(t);else return s=t.lanes=536870912,rf(e,t,c!==null?c.baseLanes|a:a,a,s)}else c!==null?(Er(t,c.cachePool),oh(t,c),Kn(),t.memoizedState=null):(e!==null&&Er(t,null),dc(),Kn());return Et(e,t,o,a),t.child}function El(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function rf(e,t,a,s,o){var c=ic();return c=c===null?null:{parent:rt._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&Er(t,null),dc(),ch(t),e!==null&&fi(e,t,s,!0),t.childLanes=o,null}function Hr(e,t){return t=Gr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function of(e,t,a){return Ms(t,e.child,null,a),e=Hr(t,t.pendingProps),e.flags|=2,ia(t),t.memoizedState=null,e}function $g(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(s.mode==="hidden")return e=Hr(t,s),t.lanes=536870912,El(null,e);if(fc(t),(e=Ye)?(e=_m(e,ba),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:Ia,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},a=Yd(e),a.return=t,t.child=a,St=t,Ye=null)):e=null,e===null)throw qn(t);return t.lanes=536870912,null}return Hr(t,s)}var c=e.memoizedState;if(c!==null){var f=c.dehydrated;if(fc(t),o)if(t.flags&256)t.flags&=-257,t=of(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(ct||fi(e,t,a,!1),o=(a&e.childLanes)!==0,ct||o){if(s=$e,s!==null&&(f=Js(s,a),f!==0&&f!==c.retryLane))throw c.retryLane=f,As(e,f),Zt(s,e,f),Uc;Wr(),t=of(e,t,a)}else e=c.treeContext,Ye=wa(f.nextSibling),St=t,Ne=!0,Ln=null,ba=!1,e!==null&&Qd(t,e),t=Hr(t,s),t.flags|=4096;return t}return e=on(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function $r(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Dc(e,t,a,s,o){return Rs(t),a=gc(e,t,a,s,void 0,o),s=yc(),e!==null&&!ct?(vc(e,t,o),mn(e,t,o)):(Ne&&s&&Zo(t),t.flags|=1,Et(e,t,a,o),t.child)}function cf(e,t,a,s,o,c){return Rs(t),t.updateQueue=null,a=dh(t,s,a,o),uh(e),s=yc(),e!==null&&!ct?(vc(e,t,c),mn(e,t,c)):(Ne&&s&&Zo(t),t.flags|=1,Et(e,t,a,c),t.child)}function uf(e,t,a,s,o){if(Rs(t),t.stateNode===null){var c=ci,f=a.contextType;typeof f=="object"&&f!==null&&(c=xt(f)),c=new a(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Rc,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},rc(t),f=a.contextType,c.context=typeof f=="object"&&f!==null?xt(f):ci,c.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(Cc(t,a,f,s),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(f=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),f!==c.state&&Rc.enqueueReplaceState(c,c.state,null),bl(t,s,c,o),pl(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var v=t.memoizedProps,b=Ls(a,v);c.props=b;var A=c.context,U=a.contextType;f=ci,typeof U=="object"&&U!==null&&(f=xt(U));var B=a.getDerivedStateFromProps;U=typeof B=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,U||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||A!==f)&&Jh(t,c,s,f),$n=!1;var k=t.memoizedState;c.state=k,bl(t,s,c,o),pl(),A=t.memoizedState,v||k!==A||$n?(typeof B=="function"&&(Cc(t,a,B,s),A=t.memoizedState),(b=$n||Xh(t,a,b,s,k,A,f))?(U||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),c.props=s,c.state=A,c.context=f,s=b):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,oc(e,t),f=t.memoizedProps,U=Ls(a,f),c.props=U,B=t.pendingProps,k=c.context,A=a.contextType,b=ci,typeof A=="object"&&A!==null&&(b=xt(A)),v=a.getDerivedStateFromProps,(A=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==B||k!==b)&&Jh(t,c,s,b),$n=!1,k=t.memoizedState,c.state=k,bl(t,s,c,o),pl();var C=t.memoizedState;f!==B||k!==C||$n||e!==null&&e.dependencies!==null&&Sr(e.dependencies)?(typeof v=="function"&&(Cc(t,a,v,s),C=t.memoizedState),(U=$n||Xh(t,a,U,s,k,C,b)||e!==null&&e.dependencies!==null&&Sr(e.dependencies))?(A||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,C,b),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,C,b)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=C),c.props=s,c.state=C,c.context=b,s=U):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,$r(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=Ms(t,e.child,null,o),t.child=Ms(t,null,a,o)):Et(e,t,a,o),t.memoizedState=c.state,e=t.child):e=mn(e,t,o),e}function df(e,t,a,s){return Os(),t.flags|=256,Et(e,t,a,s),t.child}var Mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bc(e){return{baseLanes:e,cachePool:Fd()}}function Lc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ra),e}function hf(e,t,a){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(o?Yn(t):Kn(),(e=Ye)?(e=_m(e,ba),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:Ia,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},a=Yd(e),a.return=t,t.child=a,St=t,Ye=null)):e=null,e===null)throw qn(t);return _u(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,o?(Kn(),o=t.mode,v=Gr({mode:"hidden",children:v},o),s=ks(s,o,a,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=Bc(a),s.childLanes=Lc(e,f,a),t.memoizedState=Mc,El(null,s)):(Yn(t),qc(t,v))}var b=e.memoizedState;if(b!==null&&(v=b.dehydrated,v!==null)){if(c)t.flags&256?(Yn(t),t.flags&=-257,t=Hc(e,t,a)):t.memoizedState!==null?(Kn(),t.child=e.child,t.flags|=128,t=null):(Kn(),v=s.fallback,o=t.mode,s=Gr({mode:"visible",children:s.children},o),v=ks(v,o,a,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,Ms(t,e.child,null,a),s=t.child,s.memoizedState=Bc(a),s.childLanes=Lc(e,f,a),t.memoizedState=Mc,t=El(null,s));else if(Yn(t),_u(v)){if(f=v.nextSibling&&v.nextSibling.dataset,f)var A=f.dgst;f=A,s=Error(r(419)),s.stack="",s.digest=f,hl({value:s,source:null,stack:null}),t=Hc(e,t,a)}else if(ct||fi(e,t,a,!1),f=(a&e.childLanes)!==0,ct||f){if(f=$e,f!==null&&(s=Js(f,a),s!==0&&s!==b.retryLane))throw b.retryLane=s,As(e,s),Zt(f,e,s),Uc;bu(v)||Wr(),t=Hc(e,t,a)}else bu(v)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ye=wa(v.nextSibling),St=t,Ne=!0,Ln=null,ba=!1,e!==null&&Qd(t,e),t=qc(t,s.children),t.flags|=4096);return t}return o?(Kn(),v=s.fallback,o=t.mode,b=e.child,A=b.sibling,s=on(b,{mode:"hidden",children:s.children}),s.subtreeFlags=b.subtreeFlags&65011712,A!==null?v=on(A,v):(v=ks(v,o,a,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,El(null,s),s=t.child,v=e.child.memoizedState,v===null?v=Bc(a):(o=v.cachePool,o!==null?(b=rt._currentValue,o=o.parent!==b?{parent:b,pool:b}:o):o=Fd(),v={baseLanes:v.baseLanes|a,cachePool:o}),s.memoizedState=v,s.childLanes=Lc(e,f,a),t.memoizedState=Mc,El(e.child,s)):(Yn(t),a=e.child,e=a.sibling,a=on(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function qc(e,t){return t=Gr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Gr(e,t){return e=na(22,e,null,t),e.lanes=0,e}function Hc(e,t,a){return Ms(t,e.child,null,a),e=qc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ff(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),tc(e.return,t,a)}function $c(e,t,a,s,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=a,f.tailMode=o,f.treeForkCount=c)}function mf(e,t,a){var s=t.pendingProps,o=s.revealOrder,c=s.tail;s=s.children;var f=at.current,v=(f&2)!==0;if(v?(f=f&1|2,t.flags|=128):f&=1,J(at,f),Et(e,t,s,a),s=Ne?dl:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,a,t);else if(e.tag===19)ff(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Or(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),$c(t,!1,o,a,c,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Or(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}$c(t,!0,a,null,c,s);break;case"together":$c(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function mn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(fi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=on(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=on(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Gc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Sr(e)))}function Gg(e,t,a){switch(t.tag){case 3:Ve(t,t.stateNode.containerInfo),Hn(t,rt,e.memoizedState.cache),Os();break;case 27:case 5:xa(t);break;case 4:Ve(t,t.stateNode.containerInfo);break;case 10:Hn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,fc(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Yn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?hf(e,t,a):(Yn(t),e=mn(e,t,a),e!==null?e.sibling:null);Yn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(fi(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return mf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),J(at,at.current),s)break;return null;case 22:return t.lanes=0,lf(e,t,a,t.pendingProps);case 24:Hn(t,rt,e.memoizedState.cache)}return mn(e,t,a)}function gf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!Gc(e,a)&&(t.flags&128)===0)return ct=!1,Gg(e,t,a);ct=(e.flags&131072)!==0}else ct=!1,Ne&&(t.flags&1048576)!==0&&Id(t,dl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Us(t.elementType),t.type=e,typeof e=="function")Qo(e)?(s=Ls(e,s),t.tag=1,t=uf(null,t,e,s,a)):(t.tag=0,t=Dc(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===K){t.tag=11,t=af(null,t,e,s,a);break e}else if(o===I){t.tag=14,t=nf(null,t,e,s,a);break e}}throw t=ht(e)||e,Error(r(306,t,""))}}return t;case 0:return Dc(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=Ls(s,t.pendingProps),uf(e,t,s,o,a);case 3:e:{if(Ve(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,oc(e,t),bl(t,s,null,a);var f=t.memoizedState;if(s=f.cache,Hn(t,rt,s),s!==c.cache&&ac(t,[rt],a,!0),pl(),s=f.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=df(e,t,s,a);break e}else if(s!==o){o=ya(Error(r(424)),t),hl(o),t=df(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ye=wa(e.firstChild),St=t,Ne=!0,Ln=null,ba=!0,a=ih(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Os(),s===o){t=mn(e,t,a);break e}Et(e,t,s,a)}t=t.child}return t;case 26:return $r(e,t),e===null?(a=Tm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ne||(a=t.type,e=t.pendingProps,s=so(ge.current).createElement(a),s[ft]=t,s[_t]=e,jt(s,a,e),Je(s),t.stateNode=s):t.memoizedState=Tm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xa(t),e===null&&Ne&&(s=t.stateNode=xm(t.type,t.pendingProps,ge.current),St=t,ba=!0,o=Ye,Fn(t.type)?(wu=o,Ye=wa(s.firstChild)):Ye=o),Et(e,t,t.pendingProps.children,a),$r(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((o=s=Ye)&&(s=py(s,t.type,t.pendingProps,ba),s!==null?(t.stateNode=s,St=t,Ye=wa(s.firstChild),ba=!1,o=!0):o=!1),o||qn(t)),xa(t),o=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,s=c.children,yu(o,c)?s=null:f!==null&&yu(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=gc(e,t,zg,null,null,a),ql._currentValue=o),$r(e,t),Et(e,t,s,a),t.child;case 6:return e===null&&Ne&&((e=a=Ye)&&(a=by(a,t.pendingProps,ba),a!==null?(t.stateNode=a,St=t,Ye=null,e=!0):e=!1),e||qn(t)),null;case 13:return hf(e,t,a);case 4:return Ve(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ms(t,null,s,a):Et(e,t,s,a),t.child;case 11:return af(e,t,t.type,t.pendingProps,a);case 7:return Et(e,t,t.pendingProps,a),t.child;case 8:return Et(e,t,t.pendingProps.children,a),t.child;case 12:return Et(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Hn(t,t.type,s.value),Et(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Rs(t),o=xt(o),s=s(o),t.flags|=1,Et(e,t,s,a),t.child;case 14:return nf(e,t,t.type,t.pendingProps,a);case 15:return sf(e,t,t.type,t.pendingProps,a);case 19:return mf(e,t,a);case 31:return $g(e,t,a);case 22:return lf(e,t,a,t.pendingProps);case 24:return Rs(t),s=xt(rt),e===null?(o=ic(),o===null&&(o=$e,c=nc(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:s,cache:o},rc(t),Hn(t,rt,o)):((e.lanes&a)!==0&&(oc(e,t),bl(t,null,null,a),pl()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Hn(t,rt,s)):(s=c.cache,Hn(t,rt,s),s!==o.cache&&ac(t,[rt],a,!0))),Et(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function gn(e){e.flags|=4}function Vc(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Gf())e.flags|=8192;else throw Ds=Tr,lc}else e.flags&=-16777217}function yf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cm(t))if(Gf())e.flags|=8192;else throw Ds=Tr,lc}function Vr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?qa():536870912,e.lanes|=t,ji|=t)}function jl(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Vg(e,t,a){var s=t.pendingProps;switch(Wo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),dn(rt),Re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hi(t)?gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fo())),Ke(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(gn(t),c!==null?(Ke(t),yf(t,c)):(Ke(t),Vc(t,o,null,s,a))):c?c!==e.memoizedState?(gn(t),Ke(t),yf(t,c)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&gn(t),Ke(t),Vc(t,o,e,s,a)),null;case 27:if(Ea(t),a=ge.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ke(t),null}e=P.current,hi(t)?Xd(t):(e=xm(o,s,a),t.stateNode=e,gn(t))}return Ke(t),null;case 5:if(Ea(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ke(t),null}if(c=P.current,hi(t))Xd(t);else{var f=so(ge.current);switch(c){case 1:c=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=f.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?f.createElement("select",{is:s.is}):f.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?f.createElement(o,{is:s.is}):f.createElement(o)}}c[ft]=t,c[_t]=s;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)c.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=c;e:switch(jt(c,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&gn(t)}}return Ke(t),Vc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=ge.current,hi(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=St,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[ft]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||hm(e.nodeValue,a)),e||qn(t,!0)}else e=so(e).createTextNode(s),e[ft]=t,t.stateNode=e}return Ke(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=hi(t),a!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ft]=t}else Os(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else a=Fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(ia(t),t):(ia(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ke(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=hi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[ft]=t}else Os(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),o=!1}else o=Fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ia(t),t):(ia(t),null)}return ia(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Vr(t,t.updateQueue),Ke(t),null);case 4:return Re(),e===null&&du(t.stateNode.containerInfo),Ke(t),null;case 10:return dn(t.type),Ke(t),null;case 19:if(R(at),s=t.memoizedState,s===null)return Ke(t),null;if(o=(t.flags&128)!==0,c=s.rendering,c===null)if(o)jl(s,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Or(e),c!==null){for(t.flags|=128,jl(s,!1),e=c.updateQueue,t.updateQueue=e,Vr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Vd(a,e),a=a.sibling;return J(at,at.current&1|2),Ne&&cn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Mt()>Xr&&(t.flags|=128,o=!0,jl(s,!1),t.lanes=4194304)}else{if(!o)if(e=Or(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Vr(t,e),jl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!Ne)return Ke(t),null}else 2*Mt()-s.renderingStartTime>Xr&&a!==536870912&&(t.flags|=128,o=!0,jl(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,a=at.current,J(at,o?a&1|2:a&1),Ne&&cn(t,s.treeForkCount),e):(Ke(t),null);case 22:case 23:return ia(t),hc(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),a=t.updateQueue,a!==null&&Vr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&R(zs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),dn(rt),Ke(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Yg(e,t){switch(Wo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(rt),Re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ea(t),null;case 31:if(t.memoizedState!==null){if(ia(t),t.alternate===null)throw Error(r(340));Os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ia(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(at),null;case 4:return Re(),null;case 10:return dn(t.type),null;case 22:case 23:return ia(t),hc(),e!==null&&R(zs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dn(rt),null;case 25:return null;default:return null}}function vf(e,t){switch(Wo(t),t.tag){case 3:dn(rt),Re();break;case 26:case 27:case 5:Ea(t);break;case 4:Re();break;case 31:t.memoizedState!==null&&ia(t);break;case 13:ia(t);break;case 19:R(at);break;case 10:dn(t.type);break;case 22:case 23:ia(t),hc(),e!==null&&R(zs);break;case 24:dn(rt)}}function Tl(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var c=a.create,f=a.inst;s=c(),f.destroy=s}a=a.next}while(a!==o)}}catch(v){Ue(t,t.return,v)}}function In(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var f=s.inst,v=f.destroy;if(v!==void 0){f.destroy=void 0,o=t;var b=a,A=v;try{A()}catch(U){Ue(o,b,U)}}}s=s.next}while(s!==c)}}catch(U){Ue(t,t.return,U)}}function pf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{rh(t,a)}catch(s){Ue(e,e.return,s)}}}function bf(e,t,a){a.props=Ls(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ue(e,t,s)}}function Nl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Ue(e,t,o)}}function Xa(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Ue(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ue(e,t,o)}else a.current=null}function _f(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Ue(e,e.return,o)}}function Yc(e,t,a){try{var s=e.stateNode;hy(s,e.type,a,t),s[_t]=t}catch(o){Ue(e,e.return,o)}}function wf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function Kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ic(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=mt));else if(s!==4&&(s===27&&Fn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ic(e,t,a),e=e.sibling;e!==null;)Ic(e,t,a),e=e.sibling}function Yr(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Fn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yr(e,t,a),e=e.sibling;e!==null;)Yr(e,t,a),e=e.sibling}function Sf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);jt(t,s,a),t[ft]=e,t[_t]=a}catch(c){Ue(e,e.return,c)}}var yn=!1,ut=!1,Qc=!1,xf=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Kg(e,t){if(e=e.containerInfo,mu=ho,e=Ud(e),Ho(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var f=0,v=-1,b=-1,A=0,U=0,B=e,k=null;t:for(;;){for(var C;B!==a||o!==0&&B.nodeType!==3||(v=f+o),B!==c||s!==0&&B.nodeType!==3||(b=f+s),B.nodeType===3&&(f+=B.nodeValue.length),(C=B.firstChild)!==null;)k=B,B=C;for(;;){if(B===e)break t;if(k===a&&++A===o&&(v=f),k===c&&++U===s&&(b=f),(C=B.nextSibling)!==null)break;B=k,k=B.parentNode}B=C}a=v===-1||b===-1?null:{start:v,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(gu={focusedElem:e,selectionRange:a},ho=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,s=a.stateNode;try{var F=Ls(a.type,o);e=s.getSnapshotBeforeUpdate(F,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(re){Ue(a,a.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)pu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function Ef(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:pn(e,a),s&4&&Tl(5,a);break;case 1:if(pn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){Ue(a,a.return,f)}else{var o=Ls(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Ue(a,a.return,f)}}s&64&&pf(a),s&512&&Nl(a,a.return);break;case 3:if(pn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{rh(e,t)}catch(f){Ue(a,a.return,f)}}break;case 27:t===null&&s&4&&Sf(a);case 26:case 5:pn(e,a),t===null&&s&4&&_f(a),s&512&&Nl(a,a.return);break;case 12:pn(e,a);break;case 31:pn(e,a),s&4&&Nf(e,a);break;case 13:pn(e,a),s&4&&Af(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ey.bind(null,a),_y(e,a))));break;case 22:if(s=a.memoizedState!==null||yn,!s){t=t!==null&&t.memoizedState!==null||ut,o=yn;var c=ut;yn=s,(ut=t)&&!c?bn(e,a,(a.subtreeFlags&8772)!==0):pn(e,a),yn=o,ut=c}break;case 30:break;default:pn(e,a)}}function jf(e){var t=e.alternate;t!==null&&(e.alternate=null,jf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ys(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,It=!1;function vn(e,t,a){for(a=a.child;a!==null;)Tf(e,t,a),a=a.sibling}function Tf(e,t,a){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Ba,a)}catch{}switch(a.tag){case 26:ut||Xa(a,t),vn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||Xa(a,t);var s=Xe,o=It;Fn(a.type)&&(Xe=a.stateNode,It=!1),vn(e,t,a),Ml(a.stateNode),Xe=s,It=o;break;case 5:ut||Xa(a,t);case 6:if(s=Xe,o=It,Xe=null,vn(e,t,a),Xe=s,It=o,Xe!==null)if(It)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(c){Ue(a,t,c)}else try{Xe.removeChild(a.stateNode)}catch(c){Ue(a,t,c)}break;case 18:Xe!==null&&(It?(e=Xe,pm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zi(e)):pm(Xe,a.stateNode));break;case 4:s=Xe,o=It,Xe=a.stateNode.containerInfo,It=!0,vn(e,t,a),Xe=s,It=o;break;case 0:case 11:case 14:case 15:In(2,a,t),ut||In(4,a,t),vn(e,t,a);break;case 1:ut||(Xa(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&bf(a,t,s)),vn(e,t,a);break;case 21:vn(e,t,a);break;case 22:ut=(s=ut)||a.memoizedState!==null,vn(e,t,a),ut=s;break;default:vn(e,t,a)}}function Nf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zi(e)}catch(a){Ue(t,t.return,a)}}}function Af(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zi(e)}catch(a){Ue(t,t.return,a)}}function Ig(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new xf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new xf),t;default:throw Error(r(435,e.tag))}}function Kr(e,t){var a=Ig(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=ty.bind(null,e,s);s.then(o,o)}})}function Qt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],c=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 27:if(Fn(v.type)){Xe=v.stateNode,It=!1;break e}break;case 5:Xe=v.stateNode,It=!1;break e;case 3:case 4:Xe=v.stateNode.containerInfo,It=!0;break e}v=v.return}if(Xe===null)throw Error(r(160));Tf(c,f,o),Xe=null,It=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)kf(t,e),t=t.sibling}var Aa=null;function kf(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qt(t,e),Xt(e),s&4&&(In(3,e,e.return),Tl(3,e),In(5,e,e.return));break;case 1:Qt(t,e),Xt(e),s&512&&(ut||a===null||Xa(a,a.return)),s&64&&yn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Aa;if(Qt(t,e),Xt(e),s&512&&(ut||a===null||Xa(a,a.return)),s&4){var c=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[On]||c[ft]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),jt(c,s,a),c[ft]=e,Je(c),s=c;break e;case"link":var f=km("link","href",o).get(s+(a.href||""));if(f){for(var v=0;v<f.length;v++)if(c=f[v],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(v,1);break t}}c=o.createElement(s),jt(c,s,a),o.head.appendChild(c);break;case"meta":if(f=km("meta","content",o).get(s+(a.content||""))){for(v=0;v<f.length;v++)if(c=f[v],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(v,1);break t}}c=o.createElement(s),jt(c,s,a),o.head.appendChild(c);break;default:throw Error(r(468,s))}c[ft]=e,Je(c),s=c}e.stateNode=s}else Om(o,e.type,e.stateNode);else e.stateNode=Am(o,s,e.memoizedProps);else c!==s?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,s===null?Om(o,e.type,e.stateNode):Am(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Yc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Qt(t,e),Xt(e),s&512&&(ut||a===null||Xa(a,a.return)),a!==null&&s&4&&Yc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Qt(t,e),Xt(e),s&512&&(ut||a===null||Xa(a,a.return)),e.flags&32){o=e.stateNode;try{ea(o,"")}catch(F){Ue(e,e.return,F)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Yc(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Qc=!0);break;case 6:if(Qt(t,e),Xt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(F){Ue(e,e.return,F)}}break;case 3:if(ro=null,o=Aa,Aa=io(t.containerInfo),Qt(t,e),Aa=o,Xt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{zi(t.containerInfo)}catch(F){Ue(e,e.return,F)}Qc&&(Qc=!1,Of(e));break;case 4:s=Aa,Aa=io(e.stateNode.containerInfo),Qt(t,e),Xt(e),Aa=s;break;case 12:Qt(t,e),Xt(e);break;case 31:Qt(t,e),Xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Kr(e,s)));break;case 13:Qt(t,e),Xt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qr=Mt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Kr(e,s)));break;case 22:o=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,A=yn,U=ut;if(yn=A||o,ut=U||b,Qt(t,e),ut=U,yn=A,Xt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||b||yn||ut||qs(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){b=a=t;try{if(c=b.stateNode,o)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=b.stateNode;var B=b.memoizedProps.style,k=B!=null&&B.hasOwnProperty("display")?B.display:null;v.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(F){Ue(b,b.return,F)}}}else if(t.tag===6){if(a===null){b=t;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(F){Ue(b,b.return,F)}}}else if(t.tag===18){if(a===null){b=t;try{var C=b.stateNode;o?bm(C,!0):bm(b.stateNode,!1)}catch(F){Ue(b,b.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Kr(e,a))));break;case 19:Qt(t,e),Xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Kr(e,s)));break;case 30:break;case 21:break;default:Qt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(wf(s)){a=s;break}s=s.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,c=Kc(e);Yr(e,c,o);break;case 5:var f=a.stateNode;a.flags&32&&(ea(f,""),a.flags&=-33);var v=Kc(e);Yr(e,v,f);break;case 3:case 4:var b=a.stateNode.containerInfo,A=Kc(e);Ic(e,A,b);break;default:throw Error(r(161))}}catch(U){Ue(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Of(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Of(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ef(e,t.alternate,t),t=t.sibling}function qs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:In(4,t,t.return),qs(t);break;case 1:Xa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&bf(t,t.return,a),qs(t);break;case 27:Ml(t.stateNode);case 26:case 5:Xa(t,t.return),qs(t);break;case 22:t.memoizedState===null&&qs(t);break;case 30:qs(t);break;default:qs(t)}e=e.sibling}}function bn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,f=c.flags;switch(c.tag){case 0:case 11:case 15:bn(o,c,a),Tl(4,c);break;case 1:if(bn(o,c,a),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Ue(s,s.return,A)}if(s=c,o=s.updateQueue,o!==null){var v=s.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)lh(b[o],v)}catch(A){Ue(s,s.return,A)}}a&&f&64&&pf(c),Nl(c,c.return);break;case 27:Sf(c);case 26:case 5:bn(o,c,a),a&&s===null&&f&4&&_f(c),Nl(c,c.return);break;case 12:bn(o,c,a);break;case 31:bn(o,c,a),a&&f&4&&Nf(o,c);break;case 13:bn(o,c,a),a&&f&4&&Af(o,c);break;case 22:c.memoizedState===null&&bn(o,c,a),Nl(c,c.return);break;case 30:break;default:bn(o,c,a)}t=t.sibling}}function Xc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&fl(a))}function Jc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fl(e))}function ka(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cf(e,t,a,s),t=t.sibling}function Cf(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ka(e,t,a,s),o&2048&&Tl(9,t);break;case 1:ka(e,t,a,s);break;case 3:ka(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fl(e)));break;case 12:if(o&2048){ka(e,t,a,s),e=t.stateNode;try{var c=t.memoizedProps,f=c.id,v=c.onPostCommit;typeof v=="function"&&v(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Ue(t,t.return,b)}}else ka(e,t,a,s);break;case 31:ka(e,t,a,s);break;case 13:ka(e,t,a,s);break;case 23:break;case 22:c=t.stateNode,f=t.alternate,t.memoizedState!==null?c._visibility&2?ka(e,t,a,s):Al(e,t):c._visibility&2?ka(e,t,a,s):(c._visibility|=2,Si(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Xc(f,t);break;case 24:ka(e,t,a,s),o&2048&&Jc(t.alternate,t);break;default:ka(e,t,a,s)}}function Si(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,f=t,v=a,b=s,A=f.flags;switch(f.tag){case 0:case 11:case 15:Si(c,f,v,b,o),Tl(8,f);break;case 23:break;case 22:var U=f.stateNode;f.memoizedState!==null?U._visibility&2?Si(c,f,v,b,o):Al(c,f):(U._visibility|=2,Si(c,f,v,b,o)),o&&A&2048&&Xc(f.alternate,f);break;case 24:Si(c,f,v,b,o),o&&A&2048&&Jc(f.alternate,f);break;default:Si(c,f,v,b,o)}t=t.sibling}}function Al(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:Al(a,s),o&2048&&Xc(s.alternate,s);break;case 24:Al(a,s),o&2048&&Jc(s.alternate,s);break;default:Al(a,s)}t=t.sibling}}var kl=8192;function xi(e,t,a){if(e.subtreeFlags&kl)for(e=e.child;e!==null;)Rf(e,t,a),e=e.sibling}function Rf(e,t,a){switch(e.tag){case 26:xi(e,t,a),e.flags&kl&&e.memoizedState!==null&&Ry(a,Aa,e.memoizedState,e.memoizedProps);break;case 5:xi(e,t,a);break;case 3:case 4:var s=Aa;Aa=io(e.stateNode.containerInfo),xi(e,t,a),Aa=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=kl,kl=16777216,xi(e,t,a),kl=s):xi(e,t,a));break;default:xi(e,t,a)}}function zf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ol(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];vt=s,Df(s,e)}zf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uf(e),e=e.sibling}function Uf(e){switch(e.tag){case 0:case 11:case 15:Ol(e),e.flags&2048&&In(9,e,e.return);break;case 3:Ol(e);break;case 12:Ol(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ir(e)):Ol(e);break;default:Ol(e)}}function Ir(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];vt=s,Df(s,e)}zf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:In(8,t,t.return),Ir(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ir(t));break;default:Ir(t)}e=e.sibling}}function Df(e,t){for(;vt!==null;){var a=vt;switch(a.tag){case 0:case 11:case 15:In(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:fl(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,vt=s;else e:for(a=e;vt!==null;){s=vt;var o=s.sibling,c=s.return;if(jf(s),s===a){vt=null;break e}if(o!==null){o.return=c,vt=o;break e}vt=c}}}var Qg={getCacheForType:function(e){var t=xt(rt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return xt(rt).controller.signal}},Xg=typeof WeakMap=="function"?WeakMap:Map,Ce=0,$e=null,xe=null,je=0,ze=0,la=null,Qn=!1,Ei=!1,Zc=!1,_n=0,Pe=0,Xn=0,Hs=0,Wc=0,ra=0,ji=0,Cl=null,Jt=null,Pc=!1,Qr=0,Mf=0,Xr=1/0,Jr=null,Jn=null,gt=0,Zn=null,Ti=null,wn=0,Fc=0,eu=null,Bf=null,Rl=0,tu=null;function oa(){return(Ce&2)!==0&&je!==0?je&-je:z.T!==null?ru():gs()}function Lf(){if(ra===0)if((je&536870912)===0||Ne){var e=kt;kt<<=1,(kt&3932160)===0&&(kt=262144),ra=e}else ra=536870912;return e=sa.current,e!==null&&(e.flags|=32),ra}function Zt(e,t,a){(e===$e&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(Ni(e,0),Wn(e,je,ra,!1)),Gt(e,a),((Ce&2)===0||e!==$e)&&(e===$e&&((Ce&2)===0&&(Hs|=a),Pe===4&&Wn(e,je,ra,!1)),Ja(e))}function qf(e,t,a){if((Ce&6)!==0)throw Error(r(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ha(e,t),o=s?Wg(e,t):nu(e,t,!0),c=s;do{if(o===0){Ei&&!s&&Wn(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!Jg(a)){o=nu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var v=e;o=Cl;var b=v.current.memoizedState.isDehydrated;if(b&&(Ni(v,f).flags|=256),f=nu(v,f,!1),f!==2){if(Zc&&!b){v.errorRecoveryDisabledLanes|=c,Hs|=c,o=4;break e}c=Jt,Jt=o,c!==null&&(Jt===null?Jt=c:Jt.push.apply(Jt,c))}o=f}if(c=!1,o!==2)continue}}if(o===1){Ni(e,0),Wn(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Wn(s,t,ra,!Qn);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Qr+300-Mt(),10<o)){if(Wn(s,t,ra,!Qn),fs(s,0,!0)!==0)break e;wn=t,s.timeoutHandle=ym(Hf.bind(null,s,a,Jt,Jr,Pc,t,ra,Hs,ji,Qn,c,"Throttled",-0,0),o);break e}Hf(s,a,Jt,Jr,Pc,t,ra,Hs,ji,Qn,c,null,-0,0)}}break}while(!0);Ja(e)}function Hf(e,t,a,s,o,c,f,v,b,A,U,B,k,C){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mt},Rf(t,c,B);var F=(c&62914560)===c?Qr-Mt():(c&4194048)===c?Mf-Mt():0;if(F=zy(B,F),F!==null){wn=c,e.cancelPendingCommit=F(Xf.bind(null,e,t,c,a,s,o,f,v,b,U,B,null,k,C)),Wn(e,c,f,!A);return}}Xf(e,t,c,a,s,o,f,v,b)}function Jg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],c=o.getSnapshot;o=o.value;try{if(!aa(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t,a,s){t&=~Wc,t&=~Hs,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-lt(o),f=1<<c;s[c]=-1,o&=~f}a!==0&&ms(e,a,t)}function Zr(){return(Ce&6)===0?(zl(0),!1):!0}function au(){if(xe!==null){if(ze===0)var e=xe.return;else e=xe,un=Cs=null,pc(e),vi=null,gl=0,e=xe;for(;e!==null;)vf(e.alternate,e),e=e.return;xe=null}}function Ni(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,gy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wn=0,au(),$e=e,xe=a=on(e.current,null),je=t,ze=0,la=null,Qn=!1,Ei=ha(e,t),Zc=!1,ji=ra=Wc=Hs=Xn=Pe=0,Jt=Cl=null,Pc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-lt(s),c=1<<o;t|=e[o],s&=~c}return _n=t,vr(),a}function $f(e,t){ye=null,z.H=xl,t===yi||t===jr?(t=ah(),ze=3):t===lc?(t=ah(),ze=4):ze=t===Uc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,la=t,xe===null&&(Pe=1,qr(e,ya(t,e.current)))}function Gf(){var e=sa.current;return e===null?!0:(je&4194048)===je?_a===null:(je&62914560)===je||(je&536870912)!==0?e===_a:!1}function Vf(){var e=z.H;return z.H=xl,e===null?xl:e}function Yf(){var e=z.A;return z.A=Qg,e}function Wr(){Pe=4,Qn||(je&4194048)!==je&&sa.current!==null||(Ei=!0),(Xn&134217727)===0&&(Hs&134217727)===0||$e===null||Wn($e,je,ra,!1)}function nu(e,t,a){var s=Ce;Ce|=2;var o=Vf(),c=Yf();($e!==e||je!==t)&&(Jr=null,Ni(e,t)),t=!1;var f=Pe;e:do try{if(ze!==0&&xe!==null){var v=xe,b=la;switch(ze){case 8:au(),f=6;break e;case 3:case 2:case 9:case 6:sa.current===null&&(t=!0);var A=ze;if(ze=0,la=null,Ai(e,v,b,A),a&&Ei){f=0;break e}break;default:A=ze,ze=0,la=null,Ai(e,v,b,A)}}Zg(),f=Pe;break}catch(U){$f(e,U)}while(!0);return t&&e.shellSuspendCounter++,un=Cs=null,Ce=s,z.H=o,z.A=c,xe===null&&($e=null,je=0,vr()),f}function Zg(){for(;xe!==null;)Kf(xe)}function Wg(e,t){var a=Ce;Ce|=2;var s=Vf(),o=Yf();$e!==e||je!==t?(Jr=null,Xr=Mt()+500,Ni(e,t)):Ei=ha(e,t);e:do try{if(ze!==0&&xe!==null){t=xe;var c=la;t:switch(ze){case 1:ze=0,la=null,Ai(e,t,c,1);break;case 2:case 9:if(eh(c)){ze=0,la=null,If(t);break}t=function(){ze!==2&&ze!==9||$e!==e||(ze=7),Ja(e)},c.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:eh(c)?(ze=0,la=null,If(t)):(ze=0,la=null,Ai(e,t,c,7));break;case 5:var f=null;switch(xe.tag){case 26:f=xe.memoizedState;case 5:case 27:var v=xe;if(f?Cm(f):v.stateNode.complete){ze=0,la=null;var b=v.sibling;if(b!==null)xe=b;else{var A=v.return;A!==null?(xe=A,Pr(A)):xe=null}break t}}ze=0,la=null,Ai(e,t,c,5);break;case 6:ze=0,la=null,Ai(e,t,c,6);break;case 8:au(),Pe=6;break e;default:throw Error(r(462))}}Pg();break}catch(U){$f(e,U)}while(!0);return un=Cs=null,z.H=s,z.A=o,Ce=a,xe!==null?0:($e=null,je=0,vr(),Pe)}function Pg(){for(;xe!==null&&!Pa();)Kf(xe)}function Kf(e){var t=gf(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?Pr(e):xe=t}function If(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=cf(a,t,t.pendingProps,t.type,void 0,je);break;case 11:t=cf(a,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:pc(t);default:vf(a,t),t=xe=Vd(t,_n),t=gf(a,t,_n)}e.memoizedProps=e.pendingProps,t===null?Pr(e):xe=t}function Ai(e,t,a,s){un=Cs=null,pc(t),vi=null,gl=0;var o=t.return;try{if(Hg(e,o,t,a,je)){Pe=1,qr(e,ya(a,e.current)),xe=null;return}}catch(c){if(o!==null)throw xe=o,c;Pe=1,qr(e,ya(a,e.current)),xe=null;return}t.flags&32768?(Ne||s===1?e=!0:Ei||(je&536870912)!==0?e=!1:(Qn=e=!0,(s===2||s===9||s===3||s===6)&&(s=sa.current,s!==null&&s.tag===13&&(s.flags|=16384))),Qf(t,e)):Pr(t)}function Pr(e){var t=e;do{if((t.flags&32768)!==0){Qf(t,Qn);return}e=t.return;var a=Vg(t.alternate,t,_n);if(a!==null){xe=a;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Pe===0&&(Pe=5)}function Qf(e,t){do{var a=Yg(e.alternate,e);if(a!==null){a.flags&=32767,xe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=a}while(e!==null);Pe=6,xe=null}function Xf(e,t,a,s,o,c,f,v,b){e.cancelPendingCommit=null;do Fr();while(gt!==0);if((Ce&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Ko,Ii(e,a,c,f,v,b),e===$e&&(xe=$e=null,je=0),Ti=t,Zn=e,wn=a,Fc=c,eu=o,Bf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ay(ds,function(){return Ff(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,o=X.p,X.p=2,f=Ce,Ce|=4;try{Kg(e,t,a)}finally{Ce=f,X.p=o,z.T=s}}gt=1,Jf(),Zf(),Wf()}}function Jf(){if(gt===1){gt=0;var e=Zn,t=Ti,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var s=X.p;X.p=2;var o=Ce;Ce|=4;try{kf(t,e);var c=gu,f=Ud(e.containerInfo),v=c.focusedElem,b=c.selectionRange;if(f!==v&&v&&v.ownerDocument&&zd(v.ownerDocument.documentElement,v)){if(b!==null&&Ho(v)){var A=b.start,U=b.end;if(U===void 0&&(U=A),"selectionStart"in v)v.selectionStart=A,v.selectionEnd=Math.min(U,v.value.length);else{var B=v.ownerDocument||document,k=B&&B.defaultView||window;if(k.getSelection){var C=k.getSelection(),F=v.textContent.length,re=Math.min(b.start,F),Le=b.end===void 0?re:Math.min(b.end,F);!C.extend&&re>Le&&(f=Le,Le=re,re=f);var j=Rd(v,re),S=Rd(v,Le);if(j&&S&&(C.rangeCount!==1||C.anchorNode!==j.node||C.anchorOffset!==j.offset||C.focusNode!==S.node||C.focusOffset!==S.offset)){var T=B.createRange();T.setStart(j.node,j.offset),C.removeAllRanges(),re>Le?(C.addRange(T),C.extend(S.node,S.offset)):(T.setEnd(S.node,S.offset),C.addRange(T))}}}}for(B=[],C=v;C=C.parentNode;)C.nodeType===1&&B.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<B.length;v++){var M=B[v];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}ho=!!mu,gu=mu=null}finally{Ce=o,X.p=s,z.T=a}}e.current=t,gt=2}}function Zf(){if(gt===2){gt=0;var e=Zn,t=Ti,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var s=X.p;X.p=2;var o=Ce;Ce|=4;try{Ef(e,t.alternate,t)}finally{Ce=o,X.p=s,z.T=a}}gt=3}}function Wf(){if(gt===4||gt===3){gt=0,ir();var e=Zn,t=Ti,a=wn,s=Bf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?gt=5:(gt=0,Ti=Zn=null,Pf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Jn=null),Ot(a),t=t.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Ba,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=z.T,o=X.p,X.p=2,z.T=null;try{for(var c=e.onRecoverableError,f=0;f<s.length;f++){var v=s[f];c(v.value,{componentStack:v.stack})}}finally{z.T=t,X.p=o}}(wn&3)!==0&&Fr(),Ja(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===tu?Rl++:(Rl=0,tu=e):Rl=0,zl(0)}}function Pf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fl(t)))}function Fr(){return Jf(),Zf(),Wf(),Ff()}function Ff(){if(gt!==5)return!1;var e=Zn,t=Fc;Fc=0;var a=Ot(wn),s=z.T,o=X.p;try{X.p=32>a?32:a,z.T=null,a=eu,eu=null;var c=Zn,f=wn;if(gt=0,Ti=Zn=null,wn=0,(Ce&6)!==0)throw Error(r(331));var v=Ce;if(Ce|=4,Uf(c.current),Cf(c,c.current,f,a),Ce=v,zl(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Ba,c)}catch{}return!0}finally{X.p=o,z.T=s,Pf(e,t)}}function em(e,t,a){t=ya(a,t),t=zc(e.stateNode,t,2),e=Vn(e,t,2),e!==null&&(Gt(e,2),Ja(e))}function Ue(e,t,a){if(e.tag===3)em(e,e,a);else for(;t!==null;){if(t.tag===3){em(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jn===null||!Jn.has(s))){e=ya(a,e),a=ef(2),s=Vn(t,a,2),s!==null&&(tf(a,s,t,e),Gt(s,2),Ja(s));break}}t=t.return}}function su(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Xg;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Zc=!0,o.add(a),e=Fg.bind(null,e,t,a),t.then(e,e))}function Fg(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$e===e&&(je&a)===a&&(Pe===4||Pe===3&&(je&62914560)===je&&300>Mt()-Qr?(Ce&2)===0&&Ni(e,0):Wc|=a,ji===je&&(ji=0)),Ja(e)}function tm(e,t){t===0&&(t=qa()),e=As(e,t),e!==null&&(Gt(e,t),Ja(e))}function ey(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),tm(e,a)}function ty(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),tm(e,a)}function ay(e,t){return Ua(e,t)}var eo=null,ki=null,iu=!1,to=!1,lu=!1,Pn=0;function Ja(e){e!==ki&&e.next===null&&(ki===null?eo=ki=e:ki=ki.next=e),to=!0,iu||(iu=!0,sy())}function zl(e,t){if(!lu&&to){lu=!0;do for(var a=!1,s=eo;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var f=s.suspendedLanes,v=s.pingedLanes;c=(1<<31-lt(42|e)+1)-1,c&=o&~(f&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,im(s,c))}else c=je,c=fs(s,s===$e?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||ha(s,c)||(a=!0,im(s,c));s=s.next}while(a);lu=!1}}function ny(){am()}function am(){to=iu=!1;var e=0;Pn!==0&&my()&&(e=Pn);for(var t=Mt(),a=null,s=eo;s!==null;){var o=s.next,c=nm(s,t);c===0?(s.next=null,a===null?eo=o:a.next=o,o===null&&(ki=a)):(a=s,(e!==0||(c&3)!==0)&&(to=!0)),s=o}gt!==0&&gt!==5||zl(e),Pn!==0&&(Pn=0)}function nm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var f=31-lt(c),v=1<<f,b=o[f];b===-1?((v&a)===0||(v&s)!==0)&&(o[f]=Ki(v,t)):b<=t&&(e.expiredLanes|=v),c&=~v}if(t=$e,a=je,a=fs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Wa(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ha(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Wa(s),Ot(a)){case 2:case 8:a=Xs;break;case 32:a=ds;break;case 268435456:a=or;break;default:a=ds}return s=sm.bind(null,e),a=Ua(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Wa(s),e.callbackPriority=2,e.callbackNode=null,2}function sm(e,t){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Fr()&&e.callbackNode!==a)return null;var s=je;return s=fs(e,e===$e?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(qf(e,s,t),nm(e,Mt()),e.callbackNode!=null&&e.callbackNode===a?sm.bind(null,e):null)}function im(e,t){if(Fr())return null;qf(e,t,!0)}function sy(){yy(function(){(Ce&6)!==0?Ua(lr,ny):am()})}function ru(){if(Pn===0){var e=mi;e===0&&(e=Bt,Bt<<=1,(Bt&261888)===0&&(Bt=256)),Pn=e}return Pn}function lm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rn(""+e)}function rm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function iy(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var c=lm((o[_t]||null).action),f=s.submitter;f&&(t=(t=f[_t]||null)?lm(t.formAction):f.getAttribute("formAction"),t!==null&&(c=t,f=null));var v=new ai("action","action",null,s,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Pn!==0){var b=f?rm(o,f):new FormData(o);Nc(a,{pending:!0,data:b,method:o.method,action:c},null,b)}}else typeof c=="function"&&(v.preventDefault(),b=f?rm(o,f):new FormData(o),Nc(a,{pending:!0,data:b,method:o.method,action:c},c,b))},currentTarget:o}]})}}for(var ou=0;ou<Yo.length;ou++){var cu=Yo[ou],ly=cu.toLowerCase(),ry=cu[0].toUpperCase()+cu.slice(1);Na(ly,"on"+ry)}Na(Bd,"onAnimationEnd"),Na(Ld,"onAnimationIteration"),Na(qd,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(xg,"onTransitionRun"),Na(Eg,"onTransitionStart"),Na(jg,"onTransitionCancel"),Na(Hd,"onTransitionEnd"),qe("onMouseEnter",["mouseout","mouseover"]),qe("onMouseLeave",["mouseout","mouseover"]),qe("onPointerEnter",["pointerout","pointerover"]),qe("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function om(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var f=s.length-1;0<=f;f--){var v=s[f],b=v.instance,A=v.currentTarget;if(v=v.listener,b!==c&&o.isPropagationStopped())break e;c=v,o.currentTarget=A;try{c(o)}catch(U){yr(U)}o.currentTarget=null,c=b}else for(f=0;f<s.length;f++){if(v=s[f],b=v.instance,A=v.currentTarget,v=v.listener,b!==c&&o.isPropagationStopped())break e;c=v,o.currentTarget=A;try{c(o)}catch(U){yr(U)}o.currentTarget=null,c=b}}}}function Ee(e,t){var a=t[Qi];a===void 0&&(a=t[Qi]=new Set);var s=e+"__bubble";a.has(s)||(cm(t,e,2,!1),a.add(s))}function uu(e,t,a){var s=0;t&&(s|=4),cm(a,e,s,t)}var ao="_reactListening"+Math.random().toString(36).slice(2);function du(e){if(!e[ao]){e[ao]=!0,wt.forEach(function(a){a!=="selectionchange"&&(oy.has(a)||uu(a,!1,e),uu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ao]||(t[ao]=!0,uu("selectionchange",!1,t))}}function cm(e,t,a,s){switch(Lm(t)){case 2:var o=My;break;case 8:o=By;break;default:o=Tu}a=o.bind(null,t,a,e),o=void 0,!nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function hu(e,t,a,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var v=s.stateNode.containerInfo;if(v===o)break;if(f===4)for(f=s.return;f!==null;){var b=f.tag;if((b===3||b===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;v!==null;){if(f=Ha(v),f===null)return;if(b=f.tag,b===5||b===6||b===26||b===27){s=c=f;continue e}v=v.parentNode}}s=s.return}al(function(){var A=c,U=Fi(a),B=[];e:{var k=$d.get(e);if(k!==void 0){var C=ai,F=e;switch(e){case"keypress":if(ei(a)===0)break e;case"keydown":case"keyup":C=Mo;break;case"focusin":F="focus",C=de;break;case"focusout":F="blur",C=de;break;case"beforeblur":case"afterblur":C=de;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=ni;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=G;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=sg;break;case Bd:case Ld:case qd:C=fe;break;case Hd:C=lg;break;case"scroll":case"scrollend":C=Uo;break;case"wheel":C=og;break;case"copy":case"cut":case"paste":C=Ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=pd;break;case"toggle":case"beforetoggle":C=ug}var re=(t&4)!==0,Le=!re&&(e==="scroll"||e==="scrollend"),j=re?k!==null?k+"Capture":null:k;re=[];for(var S=A,T;S!==null;){var M=S;if(T=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||T===null||j===null||(M=he(S,j),M!=null&&re.push(Dl(S,M,T))),Le)break;S=S.return}0<re.length&&(k=new C(k,F,null,a,U),B.push({event:k,listeners:re}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",k&&a!==zn&&(F=a.relatedTarget||a.fromElement)&&(Ha(F)||F[kn]))break e;if((C||k)&&(k=U.window===U?U:(k=U.ownerDocument)?k.defaultView||k.parentWindow:window,C?(F=a.relatedTarget||a.toElement,C=A,F=F?Ha(F):null,F!==null&&(Le=d(F),re=F.tag,F!==Le||re!==5&&re!==27&&re!==6)&&(F=null)):(C=null,F=A),C!==F)){if(re=ni,M="onMouseLeave",j="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(re=pd,M="onPointerLeave",j="onPointerEnter",S="pointer"),Le=C==null?k:Fa(C),T=F==null?k:Fa(F),k=new re(M,S+"leave",C,a,U),k.target=Le,k.relatedTarget=T,M=null,Ha(U)===A&&(re=new re(j,S+"enter",F,a,U),re.target=T,re.relatedTarget=Le,M=re),Le=M,C&&F)t:{for(re=cy,j=C,S=F,T=0,M=j;M;M=re(M))T++;M=0;for(var ie=S;ie;ie=re(ie))M++;for(;0<T-M;)j=re(j),T--;for(;0<M-T;)S=re(S),M--;for(;T--;){if(j===S||S!==null&&j===S.alternate){re=j;break t}j=re(j),S=re(S)}re=null}else re=null;C!==null&&um(B,k,C,re,!1),F!==null&&Le!==null&&um(B,Le,F,re,!0)}}e:{if(k=A?Fa(A):window,C=k.nodeName&&k.nodeName.toLowerCase(),C==="select"||C==="input"&&k.type==="file")var ke=Td;else if(Ed(k))if(Nd)ke=_g;else{ke=pg;var ae=vg}else C=k.nodeName,!C||C.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?A&&ln(A.elementType)&&(ke=Td):ke=bg;if(ke&&(ke=ke(e,A))){jd(B,ke,a,U);break e}ae&&ae(e,k,A),e==="focusout"&&A&&k.type==="number"&&A.memoizedProps.value!=null&&Ta(k,"number",k.value)}switch(ae=A?Fa(A):window,e){case"focusin":(Ed(ae)||ae.contentEditable==="true")&&(li=ae,$o=A,ul=null);break;case"focusout":ul=$o=li=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,Dd(B,a,U);break;case"selectionchange":if(Sg)break;case"keydown":case"keyup":Dd(B,a,U)}var ve;if(Bo)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ii?Sd(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(bd&&a.locale!=="ko"&&(ii||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ii&&(ve=hr()):(Va=U,sl="value"in Va?Va.value:Va.textContent,ii=!0)),ae=no(A,Te),0<ae.length&&(Te=new ma(Te,e,null,a,U),B.push({event:Te,listeners:ae}),ve?Te.data=ve:(ve=xd(a),ve!==null&&(Te.data=ve)))),(ve=hg?fg(e,a):mg(e,a))&&(Te=no(A,"onBeforeInput"),0<Te.length&&(ae=new ma("onBeforeInput","beforeinput",null,a,U),B.push({event:ae,listeners:Te}),ae.data=ve)),iy(B,e,A,a,U)}om(B,t)})}function Dl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function no(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=he(e,a),o!=null&&s.unshift(Dl(e,o,c)),o=he(e,t),o!=null&&s.push(Dl(e,o,c))),e.tag===3)return s;e=e.return}return[]}function cy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function um(e,t,a,s,o){for(var c=t._reactName,f=[];a!==null&&a!==s;){var v=a,b=v.alternate,A=v.stateNode;if(v=v.tag,b!==null&&b===s)break;v!==5&&v!==26&&v!==27||A===null||(b=A,o?(A=he(a,c),A!=null&&f.unshift(Dl(a,A,b))):o||(A=he(a,c),A!=null&&f.push(Dl(a,A,b)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var uy=/\r\n?/g,dy=/\u0000|\uFFFD/g;function dm(e){return(typeof e=="string"?e:""+e).replace(uy,`
`).replace(dy,"")}function hm(e,t){return t=dm(t),dm(e)===t}function Be(e,t,a,s,o,c){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ea(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ea(e,""+s);break;case"className":vs(e,"class",s);break;case"tabIndex":vs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":vs(e,a,s);break;case"style":Cn(e,s,c);break;case"data":if(t!=="object"){vs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Rn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Be(e,t,"name",o.name,o,null),Be(e,t,"formEncType",o.formEncType,o,null),Be(e,t,"formMethod",o.formMethod,o,null),Be(e,t,"formTarget",o.formTarget,o,null)):(Be(e,t,"encType",o.encType,o,null),Be(e,t,"method",o.method,o,null),Be(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Rn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=mt);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Rn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),nn(e,"popover",s);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":nn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fs.get(a)||a,nn(e,a,s))}}function fu(e,t,a,s,o,c){switch(a){case"style":Cn(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof s=="string"?ea(e,s):(typeof s=="number"||typeof s=="bigint")&&ea(e,""+s);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"onClick":s!=null&&(e.onclick=mt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ji.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[_t]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):nn(e,a,s)}}}function jt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var s=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var f=a[c];if(f!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Be(e,t,c,f,a,null)}}o&&Be(e,t,"srcSet",a.srcSet,a,null),s&&Be(e,t,"src",a.src,a,null);return;case"input":Ee("invalid",e);var v=c=f=o=null,b=null,A=null;for(s in a)if(a.hasOwnProperty(s)){var U=a[s];if(U!=null)switch(s){case"name":o=U;break;case"type":f=U;break;case"checked":b=U;break;case"defaultChecked":A=U;break;case"value":c=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:Be(e,t,s,U,a,null)}}Kt(e,c,v,b,A,f,o,!1);return;case"select":Ee("invalid",e),s=f=c=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":c=v;break;case"defaultValue":f=v;break;case"multiple":s=v;default:Be(e,t,o,v,a,null)}t=c,a=f,e.multiple=!!s,t!=null?Ft(e,!!s,t,!1):a!=null&&Ft(e,!!s,a,!0);return;case"textarea":Ee("invalid",e),c=o=s=null;for(f in a)if(a.hasOwnProperty(f)&&(v=a[f],v!=null))switch(f){case"value":s=v;break;case"defaultValue":o=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Be(e,t,f,v,a,null)}ps(e,s,o,c);return;case"option":for(b in a)a.hasOwnProperty(b)&&(s=a[b],s!=null)&&(b==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Be(e,t,b,s,a,null));return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(s=0;s<Ul.length;s++)Ee(Ul[s],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(s=a[A],s!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Be(e,t,A,s,a,null)}return;default:if(ln(t)){for(U in a)a.hasOwnProperty(U)&&(s=a[U],s!==void 0&&fu(e,t,U,s,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(s=a[v],s!=null&&Be(e,t,v,s,a,null))}function hy(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,f=null,v=null,b=null,A=null,U=null;for(C in a){var B=a[C];if(a.hasOwnProperty(C)&&B!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":b=B;default:s.hasOwnProperty(C)||Be(e,t,C,null,s,B)}}for(var k in s){var C=s[k];if(B=a[k],s.hasOwnProperty(k)&&(C!=null||B!=null))switch(k){case"type":c=C;break;case"name":o=C;break;case"checked":A=C;break;case"defaultChecked":U=C;break;case"value":f=C;break;case"defaultValue":v=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:C!==B&&Be(e,t,k,C,s,B)}}ja(e,f,v,b,A,U,c,o);return;case"select":C=f=v=k=null;for(c in a)if(b=a[c],a.hasOwnProperty(c)&&b!=null)switch(c){case"value":break;case"multiple":C=b;default:s.hasOwnProperty(c)||Be(e,t,c,null,s,b)}for(o in s)if(c=s[o],b=a[o],s.hasOwnProperty(o)&&(c!=null||b!=null))switch(o){case"value":k=c;break;case"defaultValue":v=c;break;case"multiple":f=c;default:c!==b&&Be(e,t,o,c,s,b)}t=v,a=f,s=C,k!=null?Ft(e,!!a,k,!1):!!s!=!!a&&(t!=null?Ft(e,!!a,t,!0):Ft(e,!!a,a?[]:"",!1));return;case"textarea":C=k=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Be(e,t,v,null,s,o)}for(f in s)if(o=s[f],c=a[f],s.hasOwnProperty(f)&&(o!=null||c!=null))switch(f){case"value":k=o;break;case"defaultValue":C=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&Be(e,t,f,o,s,c)}Wi(e,k,C);return;case"option":for(var F in a)k=a[F],a.hasOwnProperty(F)&&k!=null&&!s.hasOwnProperty(F)&&(F==="selected"?e.selected=!1:Be(e,t,F,null,s,k));for(b in s)k=s[b],C=a[b],s.hasOwnProperty(b)&&k!==C&&(k!=null||C!=null)&&(b==="selected"?e.selected=k&&typeof k!="function"&&typeof k!="symbol":Be(e,t,b,k,s,C));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)k=a[re],a.hasOwnProperty(re)&&k!=null&&!s.hasOwnProperty(re)&&Be(e,t,re,null,s,k);for(A in s)if(k=s[A],C=a[A],s.hasOwnProperty(A)&&k!==C&&(k!=null||C!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,t));break;default:Be(e,t,A,k,s,C)}return;default:if(ln(t)){for(var Le in a)k=a[Le],a.hasOwnProperty(Le)&&k!==void 0&&!s.hasOwnProperty(Le)&&fu(e,t,Le,void 0,s,k);for(U in s)k=s[U],C=a[U],!s.hasOwnProperty(U)||k===C||k===void 0&&C===void 0||fu(e,t,U,k,s,C);return}}for(var j in a)k=a[j],a.hasOwnProperty(j)&&k!=null&&!s.hasOwnProperty(j)&&Be(e,t,j,null,s,k);for(B in s)k=s[B],C=a[B],!s.hasOwnProperty(B)||k===C||k==null&&C==null||Be(e,t,B,k,s,C)}function fm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],c=o.transferSize,f=o.initiatorType,v=o.duration;if(c&&v&&fm(f)){for(f=0,v=o.responseEnd,s+=1;s<a.length;s++){var b=a[s],A=b.startTime;if(A>v)break;var U=b.transferSize,B=b.initiatorType;U&&fm(B)&&(b=b.responseEnd,f+=U*(b<v?1:(v-A)/(b-A)))}if(--s,t+=8*(c+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mu=null,gu=null;function so(e){return e.nodeType===9?e:e.ownerDocument}function mm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vu=null;function my(){var e=window.event;return e&&e.type==="popstate"?e===vu?!1:(vu=e,!0):(vu=null,!1)}var ym=typeof setTimeout=="function"?setTimeout:void 0,gy=typeof clearTimeout=="function"?clearTimeout:void 0,vm=typeof Promise=="function"?Promise:void 0,yy=typeof queueMicrotask=="function"?queueMicrotask:typeof vm<"u"?function(e){return vm.resolve(null).then(e).catch(vy)}:ym;function vy(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function pm(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),zi(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ml(a);for(var c=a.firstChild;c;){var f=c.nextSibling,v=c.nodeName;c[On]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=f}}else a==="body"&&Ml(e.ownerDocument.body);a=o}while(a);zi(t)}function bm(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function pu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pu(a),ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function py(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[On])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=wa(e.nextSibling),e===null)break}return null}function by(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=wa(e.nextSibling),e===null))return null;return e}function _m(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=wa(e.nextSibling),e===null))return null;return e}function bu(e){return e.data==="$?"||e.data==="$~"}function _u(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _y(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var wu=null;function wm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return wa(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Sm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function xm(e,t,a){switch(t=so(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ml(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ys(e)}var Sa=new Map,Em=new Set;function io(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sn=X.d;X.d={f:wy,r:Sy,D:xy,C:Ey,L:jy,m:Ty,X:Ay,S:Ny,M:ky};function wy(){var e=Sn.f(),t=Zr();return e||t}function Sy(e){var t=Yt(e);t!==null&&t.tag===5&&t.type==="form"?Hh(t):Sn.r(e)}var Oi=typeof document>"u"?null:document;function jm(e,t,a){var s=Oi;if(s&&typeof t=="string"&&t){var o=Qe(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Em.has(o)||(Em.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),jt(t,"link",e),Je(t),s.head.appendChild(t)))}}function xy(e){Sn.D(e),jm("dns-prefetch",e,null)}function Ey(e,t){Sn.C(e,t),jm("preconnect",e,t)}function jy(e,t,a){Sn.L(e,t,a);var s=Oi;if(s&&e&&t){var o='link[rel="preload"][as="'+Qe(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Qe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Qe(a.imageSizes)+'"]')):o+='[href="'+Qe(e)+'"]';var c=o;switch(t){case"style":c=Ci(e);break;case"script":c=Ri(e)}Sa.has(c)||(e=E({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Sa.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Bl(c))||t==="script"&&s.querySelector(Ll(c))||(t=s.createElement("link"),jt(t,"link",e),Je(t),s.head.appendChild(t)))}}function Ty(e,t){Sn.m(e,t);var a=Oi;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Qe(s)+'"][href="'+Qe(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ri(e)}if(!Sa.has(c)&&(e=E({rel:"modulepreload",href:e},t),Sa.set(c,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(c)))return}s=a.createElement("link"),jt(s,"link",e),Je(s),a.head.appendChild(s)}}}function Ny(e,t,a){Sn.S(e,t,a);var s=Oi;if(s&&e){var o=$a(s).hoistableStyles,c=Ci(e);t=t||"default";var f=o.get(c);if(!f){var v={loading:0,preload:null};if(f=s.querySelector(Bl(c)))v.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Sa.get(c))&&Su(e,a);var b=f=s.createElement("link");Je(b),jt(b,"link",e),b._p=new Promise(function(A,U){b.onload=A,b.onerror=U}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,lo(f,t,s)}f={type:"stylesheet",instance:f,count:1,state:v},o.set(c,f)}}}function Ay(e,t){Sn.X(e,t);var a=Oi;if(a&&e){var s=$a(a).hoistableScripts,o=Ri(e),c=s.get(o);c||(c=a.querySelector(Ll(o)),c||(e=E({src:e,async:!0},t),(t=Sa.get(o))&&xu(e,t),c=a.createElement("script"),Je(c),jt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function ky(e,t){Sn.M(e,t);var a=Oi;if(a&&e){var s=$a(a).hoistableScripts,o=Ri(e),c=s.get(o);c||(c=a.querySelector(Ll(o)),c||(e=E({src:e,async:!0,type:"module"},t),(t=Sa.get(o))&&xu(e,t),c=a.createElement("script"),Je(c),jt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Tm(e,t,a,s){var o=(o=ge.current)?io(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Ci(a.href),a=$a(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ci(a.href);var c=$a(o).hoistableStyles,f=c.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,f),(c=o.querySelector(Bl(e)))&&!c._p&&(f.instance=c,f.state.loading=5),Sa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Sa.set(e,a),c||Oy(o,e,a,f.state))),t&&s===null)throw Error(r(528,""));return f}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ri(a),a=$a(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ci(e){return'href="'+Qe(e)+'"'}function Bl(e){return'link[rel="stylesheet"]['+e+"]"}function Nm(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Oy(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),jt(t,"link",a),Je(t),e.head.appendChild(t))}function Ri(e){return'[src="'+Qe(e)+'"]'}function Ll(e){return"script[async]"+e}function Am(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Qe(a.href)+'"]');if(s)return t.instance=s,Je(s),s;var o=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Je(s),jt(s,"style",o),lo(s,a.precedence,e),t.instance=s;case"stylesheet":o=Ci(a.href);var c=e.querySelector(Bl(o));if(c)return t.state.loading|=4,t.instance=c,Je(c),c;s=Nm(a),(o=Sa.get(o))&&Su(s,o),c=(e.ownerDocument||e).createElement("link"),Je(c);var f=c;return f._p=new Promise(function(v,b){f.onload=v,f.onerror=b}),jt(c,"link",s),t.state.loading|=4,lo(c,a.precedence,e),t.instance=c;case"script":return c=Ri(a.src),(o=e.querySelector(Ll(c)))?(t.instance=o,Je(o),o):(s=a,(o=Sa.get(c))&&(s=E({},a),xu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),Je(o),jt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,lo(s,a.precedence,e));return t.instance}function lo(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,f=0;f<s.length;f++){var v=s[f];if(v.dataset.precedence===t)c=v;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ro=null;function km(e,t,a){if(ro===null){var s=new Map,o=ro=new Map;o.set(a,s)}else o=ro,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[On]||c[ft]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var f=c.getAttribute(t)||"";f=e+f;var v=s.get(f);v?v.push(c):s.set(f,[c])}}return s}function Om(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Cy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Cm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ry(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Ci(s.href),c=t.querySelector(Bl(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=oo.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,Je(c);return}c=t.ownerDocument||t,s=Nm(s),(o=Sa.get(o))&&Su(s,o),c=c.createElement("link"),Je(c);var f=c;f._p=new Promise(function(v,b){f.onload=v,f.onerror=b}),jt(c,"link",s),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=oo.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Eu=0;function zy(e,t){return e.stylesheets&&e.count===0&&uo(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&uo(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Eu===0&&(Eu=62500*fy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uo(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Eu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var co=null;function uo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,co=new Map,t.forEach(Uy,e),co=null,oo.call(e))}function Uy(e,t){if(!(t.state.loading&4)){var a=co.get(e);if(a)var s=a.get(null);else{a=new Map,co.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var f=o[c];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),s=f)}s&&a.set(null,s)}o=t.instance,f=o.getAttribute("data-precedence"),c=a.get(f)||s,c===s&&a.set(null,o),a.set(f,o),this.count++,s=oo.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ql={$$typeof:$,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Dy(e,t,a,s,o,c,f,v,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.hiddenUpdates=Nn(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Rm(e,t,a,s,o,c,f,v,b,A,U,B){return e=new Dy(e,t,a,f,b,A,U,B,v),t=1,c===!0&&(t|=24),c=na(3,null,null,t),e.current=c,c.stateNode=e,t=nc(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:a,cache:t},rc(c),e}function zm(e){return e?(e=ci,e):ci}function Um(e,t,a,s,o,c){o=zm(o),s.context===null?s.context=o:s.pendingContext=o,s=Gn(t),s.payload={element:a},c=c===void 0?null:c,c!==null&&(s.callback=c),a=Vn(e,s,t),a!==null&&(Zt(a,e,t),vl(a,e,t))}function Dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ju(e,t){Dm(e,t),(e=e.alternate)&&Dm(e,t)}function Mm(e){if(e.tag===13||e.tag===31){var t=As(e,67108864);t!==null&&Zt(t,e,67108864),ju(e,67108864)}}function Bm(e){if(e.tag===13||e.tag===31){var t=oa();t=Zs(t);var a=As(e,t);a!==null&&Zt(a,e,t),ju(e,t)}}var ho=!0;function My(e,t,a,s){var o=z.T;z.T=null;var c=X.p;try{X.p=2,Tu(e,t,a,s)}finally{X.p=c,z.T=o}}function By(e,t,a,s){var o=z.T;z.T=null;var c=X.p;try{X.p=8,Tu(e,t,a,s)}finally{X.p=c,z.T=o}}function Tu(e,t,a,s){if(ho){var o=Nu(s);if(o===null)hu(e,t,s,fo,a),qm(e,s);else if(qy(o,e,t,a,s))s.stopPropagation();else if(qm(e,s),t&4&&-1<Ly.indexOf(e)){for(;o!==null;){var c=Yt(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=bt(c.pendingLanes);if(f!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;f;){var b=1<<31-lt(f);v.entanglements[1]|=b,f&=~b}Ja(c),(Ce&6)===0&&(Xr=Mt()+500,zl(0))}}break;case 31:case 13:v=As(c,2),v!==null&&Zt(v,c,2),Zr(),ju(c,2)}if(c=Nu(s),c===null&&hu(e,t,s,fo,a),c===o)break;o=c}o!==null&&s.stopPropagation()}else hu(e,t,s,null,a)}}function Nu(e){return e=Fi(e),Au(e)}var fo=null;function Au(e){if(fo=null,e=Ha(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fo=e,null}function Lm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Da()){case lr:return 2;case Xs:return 8;case ds:case rr:return 32;case or:return 268435456;default:return 32}default:return 32}}var ku=!1,es=null,ts=null,as=null,Hl=new Map,$l=new Map,ns=[],Ly="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qm(e,t){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(t.pointerId)}}function Gl(e,t,a,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Yt(t),t!==null&&Mm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function qy(e,t,a,s,o){switch(t){case"focusin":return es=Gl(es,e,t,a,s,o),!0;case"dragenter":return ts=Gl(ts,e,t,a,s,o),!0;case"mouseover":return as=Gl(as,e,t,a,s,o),!0;case"pointerover":var c=o.pointerId;return Hl.set(c,Gl(Hl.get(c)||null,e,t,a,s,o)),!0;case"gotpointercapture":return c=o.pointerId,$l.set(c,Gl($l.get(c)||null,e,t,a,s,o)),!0}return!1}function Hm(e){var t=Ha(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,An(e.priority,function(){Bm(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,An(e.priority,function(){Bm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Nu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);zn=s,a.target.dispatchEvent(s),zn=null}else return t=Yt(a),t!==null&&Mm(t),e.blockedOn=a,!1;t.shift()}return!0}function $m(e,t,a){mo(e)&&a.delete(t)}function Hy(){ku=!1,es!==null&&mo(es)&&(es=null),ts!==null&&mo(ts)&&(ts=null),as!==null&&mo(as)&&(as=null),Hl.forEach($m),$l.forEach($m)}function go(e,t){e.blockedOn===t&&(e.blockedOn=null,ku||(ku=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Hy)))}var yo=null;function Gm(e){yo!==e&&(yo=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yo===e&&(yo=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Au(s||a)===null)continue;break}var c=Yt(a);c!==null&&(e.splice(t,3),t-=3,Nc(c,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function zi(e){function t(b){return go(b,e)}es!==null&&go(es,e),ts!==null&&go(ts,e),as!==null&&go(as,e),Hl.forEach(t),$l.forEach(t);for(var a=0;a<ns.length;a++){var s=ns[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)Hm(a),a.blockedOn===null&&ns.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],c=a[s+1],f=o[_t]||null;if(typeof c=="function")f||Gm(a);else if(f){var v=null;if(c&&c.hasAttribute("formAction")){if(o=c,f=c[_t]||null)v=f.formAction;else if(Au(o)!==null)continue}else v=f.action;typeof v=="function"?a[s+1]=v:(a.splice(s,3),s-=3),Gm(a)}}}function Vm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Ou(e){this._internalRoot=e}vo.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,s=oa();Um(a,s,e,t,null,null)},vo.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Um(e.current,2,null,e,null,null),Zr(),t[kn]=null}};function vo(e){this._internalRoot=e}vo.prototype.unstable_scheduleHydration=function(e){if(e){var t=gs();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ns.length&&t!==0&&t<ns[a].priority;a++);ns.splice(a,0,e),a===0&&Hm(e)}};var Ym=n.version;if(Ym!=="19.2.3")throw Error(r(527,Ym,"19.2.3"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var $y={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{Ba=po.inject($y),pt=po}catch{}}return Yl.createRoot=function(e,t){if(!u(e))throw Error(r(299));var a=!1,s="",o=Zh,c=Wh,f=Ph;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Rm(e,1,!1,null,null,a,s,null,o,c,f,Vm),e[kn]=t.current,du(e),new Ou(t)},Yl.hydrateRoot=function(e,t,a){if(!u(e))throw Error(r(299));var s=!1,o="",c=Zh,f=Wh,v=Ph,b=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),t=Rm(e,1,!0,t,a??null,s,o,b,c,f,v,Vm),t.context=zm(null),a=t.current,s=oa(),s=Zs(s),o=Gn(s),o.callback=null,Vn(a,o,s),a=s,t.current.lanes=a,Gt(t,a),Ja(t),e[kn]=t.current,du(e),new vo(t)},Yl.version="19.2.3",Yl}var e0;function Py(){if(e0)return zu.exports;e0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),zu.exports=Wy(),zu.exports}var Fy=Py();const ev=C0(Fy),tv=["./words.txt"];let is=null;const av=async()=>{if(is)return is;try{const i=tv.map(u=>fetch(u).then(d=>{if(!d.ok)throw new Error(`Failed to load ${u}`);return d.text()}).catch(d=>(console.warn(`   ${u}:`,d),""))),l=(await Promise.all(i)).join(`
`);if(!l||l.length<100)throw new Error("  ");const r=l.split(/\r?\n/).map(u=>u.trim().toLowerCase().replace(//g,"")).filter(u=>u.length>1&&/^[-]+(-[-]+)*$/.test(u));return is=new Set(r),console.log(`  : ${is.size} `),is}catch(i){console.error("    :",i);const n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];return is=new Set(n),is}},os=()=>is,t0="",nv="",a0="",n0={bg:"./sound/Bg.mp3",click:"./sound/Click.mp3",success:"./sound/Succes.mp3",error:"./sound/Error.mp3",bonus:"./sound/Podskazka.mp3",rare_success:"./sound/Redkoe_slovo.mp3",reward_fanfare:"./sound/Redkoe_slovo.mp3"},xo=()=>new Date().toISOString().split("T")[0],s0=()=>{const i=localStorage.getItem("slovodel_streak_date")||"",n=parseInt(localStorage.getItem("slovodel_streak_count")||"0",10),l=xo();if(!i)return{count:0,status:"new"};const r=new Date(i),d=new Date(l).getTime()-r.getTime(),m=Math.floor(d/(1e3*60*60*24));return m===1?{count:n,status:"continue"}:m===0?{count:n,status:"same_day"}:{count:0,status:"reset"}},sv=i=>i>=30?"  ":i>=14?" ":i>=7?" ":i>=3?" ":null,Ys=i=>i<2e3?"-":i<5e3?" ":i<1e4?" ":i<2e4?" ":i<5e4?" ":i<1e5?" ":i<2e5?" ":i<5e5?" ":" ",iv=i=>{const n=Math.floor(i/60),l=i%60;return`${n}:${l.toString().padStart(2,"0")}`},lv=i=>i<2e3?i/2e3*100:i<5e3?(i-2e3)/3e3*100:i<1e4?(i-5e3)/5e3*100:i<2e4?(i-1e4)/1e4*100:i<5e4?(i-2e4)/3e4*100:i<1e5?(i-5e4)/5e4*100:i<2e5?(i-1e5)/1e5*100:i<5e5?(i-2e5)/3e5*100:100,rv=i=>i<2e3?2e3:i<5e3?5e3:i<1e4?1e4:i<2e4?2e4:i<5e4?5e4:i<1e5?1e5:i<2e5?2e5:i<5e5?5e5:null,ov=(i,n)=>{const l=new Set;let r=0;const u=Math.random,d=i===10?4:i===8?3:2,m=nv.split("").sort(()=>Math.random()-.5);for(const p of m){if(l.size>=d)break;l.add(p)}const y=u()<.3,g=(a0+t0).split("").sort(()=>Math.random()-.5);for(const p of g){if(l.size>=i)break;t0.includes(p)?y&&r<1&&(l.add(p),r++):l.add(p)}if(l.size<i){const p=a0.split("").sort(()=>Math.random()-.5);for(const _ of p){if(l.size>=i)break;l.add(_)}}return Array.from(l).sort(()=>Math.random()-.5)},Bu=(i=1)=>{const n=Math.random();let l,r=1;return n<.3?(l="time",r=Math.random()<.5?1:2):n<.57?(l="swap",r=Math.random()<.5?1:2):n<.82?l="wildcard":l="hint",{type:l,amount:Math.ceil(r*i)}},cv=i=>i===" "||i===" "?2:i===" "||i===" "?3:i===" "?4:i===" "?5:i===" "?10:1;const uv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,r)=>r?r.toUpperCase():l.toLowerCase()),i0=i=>{const n=dv(i);return n.charAt(0).toUpperCase()+n.slice(1)},R0=(...i)=>i.filter((n,l,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===l).join(" ").trim(),hv=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var fv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mv=H.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:u="",children:d,iconNode:m,...y},g)=>H.createElement("svg",{ref:g,...fv,width:n,height:n,stroke:i,strokeWidth:r?Number(l)*24/Number(n):l,className:R0("lucide",u),...!d&&!hv(y)&&{"aria-hidden":"true"},...y},[...m.map(([p,_])=>H.createElement(p,_)),...Array.isArray(d)?d:[d]]));const be=(i,n)=>{const l=H.forwardRef(({className:r,...u},d)=>H.createElement(mv,{ref:d,iconNode:n,className:R0(`lucide-${uv(i0(i))}`,`lucide-${i}`,r),...u}));return l.displayName=i0(i),l};const gv=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],yv=be("archive",gv);const vv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pv=be("arrow-left",vv);const bv=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_v=be("award",bv);const wv=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]],Qu=be("book-open-text",wv);const Sv=[["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],xv=be("book-plus",Sv);const Ev=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],z0=be("calendar",Ev);const jv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xu=be("check",jv);const Tv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],U0=be("circle-check-big",Tv);const Nv=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],Av=be("delete",Nv);const kv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ov=be("eye",kv);const Cv=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],D0=be("flame",Cv);const Rv=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],zv=be("gift",Rv);const Uv=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Dv=be("hash",Uv);const Mv=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],er=be("hourglass",Mv);const Bv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cd=be("info",Bv);const Lv=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],tr=be("lightbulb",Lv);const qv=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Hv=be("megaphone",qv);const $v=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],M0=be("message-circle",$v);const Gv=[["path",{d:"M5 12h14",key:"1ays0h"}]],Vv=be("minus",Gv);const Yv=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Kv=be("moon",Yv);const Iv=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Qv=be("music",Iv);const Xv=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Jv=be("pen",Xv);const Zv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ud=be("plus",Zv);const Wv=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ar=be("refresh-cw",Wv);const Pv=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],Fv=be("reply",Pv);const ep=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tp=be("save",ep);const ap=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],np=be("search",ap);const sp=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ju=be("send",sp);const ip=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dd=be("settings",ip);const lp=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],B0=be("shield",lp);const rp=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],op=be("shopping-bag",rp);const cp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8.5 14 7-4",key:"12hpby"}],["path",{d:"m8.5 10 7 4",key:"wwy2dy"}]],nr=be("square-asterisk",cp);const up=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],L0=be("star",up);const dp=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],hp=be("sun",dp);const fp=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zu=be("trash-2",fp);const mp=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],hd=be("trophy",mp);const gp=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yp=be("user",gp);const vp=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],pp=be("volume-2",vp);const bp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Za=be("x",bp);const _p=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Eo=be("zap",_p),wp=({words:i,onClose:n,playSfx:l})=>{const r=[...i].sort((u,d)=>d.length!==u.length?d.length-u.length:d.score-u.score);return h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content max-w-sm text-left flex flex-col max-h-[85vh]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Qu,{size:28,className:"modal-header-icon"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:" "}),h.jsxs("p",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:[" : ",i.length]})]})]}),h.jsx("button",{onClick:()=>{l("click"),n()},className:"modal-close-btn",children:h.jsx(Za,{size:24,className:"modal-icon"})})]}),h.jsx("div",{className:"about-scroll-container",children:r.length===0?h.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 py-10 opacity-60",children:[h.jsx(Qu,{size:64,strokeWidth:1,className:"text-gray-400 dark:text-gray-600"}),h.jsxs("p",{className:"empty-state-text",children:["  ...",h.jsx("br",{}),"       !"]})]}):r.map((u,d)=>h.jsxs("div",{className:"collection-item animate-pop",children:[h.jsxs("div",{className:"flex flex-col text-left",children:[h.jsx("span",{className:"collection-word",children:u.text}),h.jsxs("span",{className:"collection-meta",children:[u.length," "]})]}),h.jsxs("div",{className:"collection-score",children:["+",u.score]})]},d))}),h.jsx("div",{className:"mt-4 text-center opacity-30 text-[10px] font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400 shrink-0",children:" "})]})})},Sp=({data:i,onClose:n,playSfx:l,currentUserId:r,currentUserRankData:u,totalPlayers:d,getUserRank:m,activeTab:y,onTabChange:g,isLoading:p,onPlayerClick:_})=>{const E=x=>x===0?h.jsx("span",{className:"text-xl",children:""}):x===1?h.jsx("span",{className:"text-xl",children:""}):x===2?h.jsx("span",{className:"text-xl",children:""}):h.jsxs("span",{className:"leaderboard-place",children:[x+1,"."]});return h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content h-[85vh] flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(hd,{size:28,className:"modal-header-icon text-yellow-500"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:" "})]}),h.jsx("button",{onClick:()=>{l("click"),n()},className:"modal-close-btn",children:h.jsx(Za,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"tabs-group mb-4 shrink-0",children:[h.jsx("button",{onClick:()=>g("all"),className:`tab-item ${y==="all"?"tab-item-active":""}`,children:" "}),h.jsxs("button",{onClick:()=>g("daily"),className:`tab-item ${y==="daily"?"tab-item-active":""}`,children:[h.jsx(Eo,{size:12,fill:"currentColor"}),""]}),h.jsxs("button",{onClick:()=>g("previous"),className:`tab-item ${y==="previous"?"tab-item-active":""}`,children:[h.jsx(Eo,{size:12,fill:"currentColor"}),""]})]}),h.jsx("div",{className:"text-center mb-2 shrink-0",children:h.jsxs("p",{className:"leaderboard-total-players",children:[y==="all"?" :":y==="daily"?"  |  :":"  |  :"," ",h.jsx("span",{className:"leaderboard-total-count",children:d||0})]})}),h.jsx("div",{className:"leaderboard-scroll",children:p?h.jsx("p",{className:"text-center opacity-50",children:" ..."}):i.length===0?h.jsx("p",{className:"text-center opacity-50",children:"  "}):h.jsxs(h.Fragment,{children:[(()=>{let x=1;return i.map((O,D)=>{D>0&&O.score<i[D-1].score&&x++;const L=x,V=O.telegram_id===r;return h.jsxs("div",{onClick:()=>_?.(O),className:`leaderboard-card ${V?"leaderboard-card-active":""} cursor-pointer active:scale-[0.98]`,children:[h.jsx("div",{className:"w-6 flex justify-center items-center",children:E(L-1)}),h.jsx("img",{src:O.avatar_url||"./image/book_face.png",alt:"avatar",className:"w-8 h-8 rounded-full bg-indigo-100"}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("p",{className:`leaderboard-name ${V?"leaderboard-name-active":""}`,children:O.name}),h.jsx("p",{className:"leaderboard-subtext",children:y==="all"?m(O.score):"  "})]}),h.jsx("span",{className:"leaderboard-points",children:O.score})]},D)})})(),u&&y==="all"&&h.jsxs(h.Fragment,{children:[u.rank>i.length+1&&h.jsx("div",{className:"text-center font-bold opacity-50 my-4",children:"..."}),h.jsxs("div",{className:"leaderboard-card leaderboard-card-active cursor-pointer active:scale-[0.98]",onClick:()=>_?.({...u,telegram_id:r}),children:[h.jsx("div",{className:"w-6 flex justify-center items-center",children:E(u.rank-1)}),h.jsx("img",{src:u.avatar_url||"./image/book_face.png",alt:"avatar",className:"w-10 h-10 rounded-full bg-indigo-100"}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("p",{className:"leaderboard-name leaderboard-name-active",children:u.username}),h.jsx("p",{className:"leaderboard-subtext",children:m(u.score)})]}),h.jsx("span",{className:"leaderboard-points",children:u.score})]})]})]})}),h.jsx("div",{className:"mt-2 shrink-0",children:h.jsx("button",{onClick:()=>{l("click"),n()},className:"leaderboard-close",children:""})})]})})},xp=({musicVolume:i,setMusicVolume:n,sfxVolume:l,setSfxVolume:r,theme:u,setTheme:d,onClose:m,onExit:y,playSfx:g,showExitButton:p,isAdmin:_,onOpenAdmin:E})=>{const x=()=>{g("click"),n(i>0?0:.3)},O=()=>{g("click"),r(l>0?0:.5)},D=()=>{g("click"),d(u==="light"?"dark":"light")};return h.jsx("div",{className:"modal-overlay z-[300]",children:h.jsxs("div",{className:"modal-content max-w-sm text-left",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(dd,{size:28,className:"modal-icon"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:""})]}),h.jsx("button",{onClick:()=>{g("click"),m()},className:"modal-close-btn",children:h.jsx(Za,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"settings-row",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(pp,{size:24,className:"text-green-500"}),h.jsx("span",{className:"font-bold",children:""})]}),h.jsx("button",{onClick:O,className:`w-14 h-8 rounded-full p-1 transition-colors duration-300 ${l>0?"bg-green-500":"toggle-btn-inactive"}`,children:h.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${l>0?"translate-x-6":"translate-x-0"}`})})]}),h.jsxs("div",{className:"settings-row",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Qv,{size:24,className:"text-indigo-500"}),h.jsx("span",{className:"font-bold",children:""})]}),h.jsx("button",{onClick:x,className:`w-14 h-8 rounded-full p-1 transition-colors duration-300 ${i>0?"bg-indigo-500":"toggle-btn-inactive"}`,children:h.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${i>0?"translate-x-6":"translate-x-0"}`})})]}),h.jsxs("div",{className:"settings-row",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[u==="light"?h.jsx(hp,{size:24,className:"text-amber-500"}):h.jsx(Kv,{size:24,className:"text-purple-400"}),h.jsx("span",{className:"font-bold",children:""})]}),h.jsx("button",{onClick:D,className:`w-14 h-8 rounded-full p-1 transition-colors duration-300 ${u==="dark"?"bg-purple-600":"bg-amber-400"}`,children:h.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${u==="dark"?"translate-x-6":"translate-x-0"}`})})]}),_&&E&&h.jsxs("button",{onClick:()=>{g("click"),E()},className:"btn-action-indigo",children:[h.jsx(B0,{size:18}),"  "]}),p&&h.jsx("button",{onClick:()=>{g("click"),y(),m()},className:"btn-action-red",children:" "})]}),h.jsx("div",{className:"settings-footer",children:"Slovodel Settings"})]})})},Ep=({onClose:i,playSfx:n,bonuses:l,onOpenShop:r,onSubmitFeedback:u,showRanks:d=!0,isDailyMode:m})=>{const[y,g]=H.useState(""),[p,_]=H.useState(!1),E=os()?.size||0,x=()=>{y.trim()&&(u(y),g(""),_(!0),setTimeout(()=>_(!1),3e3))};return h.jsx("div",{className:"modal-overlay z-[300]",children:h.jsxs("div",{className:"modal-content max-w-sm text-left flex flex-col max-h-[85vh]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(cd,{size:28,className:"modal-header-icon"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"modal-close-btn",children:h.jsx(Za,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"about-scroll-container",children:[h.jsxs("section",{className:"about-block",children:[h.jsx("h3",{className:"about-block-title",children:" "}),h.jsx("p",{className:"text-sm opacity-90",children:"    .   ,   !   60 ."}),h.jsxs("p",{className:"text-xs mt-2 opacity-60",children:["     ",h.jsx("span",{className:"font-bold",children:E>0?E.toLocaleString("ru-RU"):"..."})," ."]})]}),h.jsxs("section",{className:"space-y-3 mt-5",children:[h.jsx("h3",{className:"about-block-title",children:":"}),h.jsx("div",{className:"space-y-2",children:[{icon:h.jsx(er,{size:24,className:"text-icon-indigo shrink-0"}),title:"",desc:" 15    ",count:l.time,color:"text-title-indigo"},{icon:h.jsx(tr,{size:24,className:"text-icon-amber shrink-0"}),title:"",desc:"        ",count:l.hint,color:"text-title-amber"},{icon:h.jsx(nr,{size:24,className:"text-icon-purple shrink-0"}),title:"",desc:"  15  *    ",count:l.wildcard,color:"text-title-purple"},{icon:h.jsx(ar,{size:24,className:"text-icon-pink shrink-0"}),title:"",desc:"      ",count:l.swap,color:"text-title-pink"}].map((O,D)=>h.jsxs("div",{className:"hint-item",children:[O.icon,h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:`font-bold text-sm uppercase truncate ${O.color}`,children:O.title}),h.jsx("p",{className:"text-[10px] leading-tight opacity-70",children:O.desc})]}),h.jsx("div",{className:"bonus-count-badge",children:h.jsx("span",{className:"font-bold text-sm",children:O.count})})]},D))}),m?h.jsx("div",{className:"p-3 bg-amber-500/10 dark:bg-amber-500/20 rounded-xl border border-amber-500/20 text-center",children:h.jsx("p",{className:"text-xs font-bold text-amber-700 dark:text-amber-300",children:"     ."})}):h.jsxs("button",{onClick:()=>{n("click"),r()},className:"btn-action-indigo py-3 text-xs ",children:[h.jsx(ud,{size:16}),"  "]})]}),d&&h.jsxs("section",{className:"space-y-3",children:[h.jsx("h3",{className:"about-block-title mt-5",children:" :"}),h.jsx("div",{className:"grid grid-cols-1",children:[{rank:"-",points:" 2 000",img:"./image/face.png"},{rank:" ",points:" 2 000",img:"./image/worm.png"},{rank:" ",points:" 5 000",img:"./image/ranger.png"},{rank:" ",points:" 10 000",img:"./image/scaut.png"},{rank:" ",points:" 20 000",img:"./image/adept.png"},{rank:" ",points:" 50 000",img:"./image/master.png"},{rank:" ",points:" 100 000",img:"./image/wizard.png"},{rank:" ",points:" 200 000",img:"./image/book_master.png"},{rank:" ",points:" 500 000",img:"./image/oracul.png"}].map((O,D)=>h.jsxs("div",{className:"rank-item",children:[h.jsx("img",{src:O.img,alt:O.rank,className:"w-8 h-8 object-contain"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"rank-title",children:O.rank}),h.jsx("p",{className:"text-[10px] font-bold opacity-50 uppercase",children:O.points})]})]},D))})]}),h.jsxs("section",{className:"about-block",children:[h.jsxs("h3",{className:"about-block-title mb-2",children:[h.jsx(M0,{size:16}),"  "]}),h.jsx("p",{className:"text-xs mb-3 opacity-80",children:"     ?     "}),p?h.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-green-500/20 text-green-600 dark:text-green-400 rounded-xl font-bold text-sm animate-in fade-in zoom-in",children:[h.jsx(Xu,{size:18})," !"]}):h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("input",{type:"text",value:y,onChange:O=>g(O.target.value),placeholder:"...",className:"feedback-input"}),h.jsx("button",{onClick:()=>{n("click"),x()},disabled:!y.trim(),className:`feedback-send-btn ${y.trim()?"feedback-send-btn-active":"feedback-send-btn-disabled"}`,children:h.jsx(Ju,{size:18})})]})]})]}),h.jsx("div",{className:"mt-4 shrink-0",children:h.jsx("div",{className:"text-center opacity-30 text-[10px] font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400",children:"Created by @AleXX_4D"})})]})})},l0=({onClose:i,playSfx:n,username:l,avatarUrl:r,rank:u,totalScore:d,highScore:m,streak:y,totalWords:g,rareWords:p,bonuses:_,onOpenShop:E,place:x,daysPlayed:O,dailyPlaces:D,coins:L,isPublicView:V=!1})=>{const q=I=>I.includes("")?"./image/face.png":I.includes("")?"./image/worm.png":I.includes("")?"./image/ranger.png":I.includes("")?"./image/scaut.png":I.includes("")?"./image/adept.png":I.includes("")?"./image/master.png":I.includes("")?"./image/wizard.png":I.includes("")?"./image/book_master.png":I.includes("")?"./image/oracul.png":"./image/face.png",Y=lv(d),$=rv(d),K=p.filter(I=>I.length>=7&&I.length<=8).length,W=p.filter(I=>I.length>=9&&I.length<=10).length,ne=p.filter(I=>I.length>=11).length;return h.jsx("div",{className:"modal-overlay z-[900] text-left",children:h.jsxs("div",{className:"modal-content max-w-sm text-left flex flex-col max-h-[85vh]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(yp,{size:28,className:"modal-header-icon text-amber-500"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"modal-close-btn",children:h.jsx(Za,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"about-scroll-container space-y-6",children:[h.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:r||"./image/book_face.png",alt:"avatar",className:"profile-avatar"}),h.jsx("div",{className:"profile-rank-badge",children:h.jsx("img",{src:q(u),alt:"rank",className:"w-6 h-6"})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"profile-name",children:l}),h.jsx("p",{className:"profile-rank",children:u})]})]}),h.jsxs("div",{className:"profile-block",children:[h.jsxs("div",{className:"flex justify-between profile-label",children:[h.jsx("span",{children:" "}),$&&h.jsxs("span",{children:[d," / ",$]})]}),h.jsx("div",{className:"level-progress-bg",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-amber-400 to-orange-500 transition-all duration-1000",style:{width:`${Y}%`}})})]}),!V&&h.jsx("div",{className:"profile-block cursor-pointer active:scale-95 transition-transform",onClick:()=>{n("click"),E("coins")},children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"profile-label mb-0",children:" :"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:"./image/coin.svg",alt:"coin",className:"w-6 h-6 object-contain"}),h.jsx("span",{className:"shop-balance-value",children:L})]})]})}),!V&&h.jsxs("div",{className:"space-y-3",children:[h.jsx("h3",{className:"profile-label",children:" :"}),h.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{icon:h.jsx(er,{size:20,className:"text-indigo-500"}),count:_.time},{icon:h.jsx(tr,{size:20,className:"text-amber-500"}),count:_.hint},{icon:h.jsx(nr,{size:20,className:"text-purple-500"}),count:_.wildcard},{icon:h.jsx(ar,{size:20,className:"text-pink-500"}),count:_.swap}].map((I,le)=>h.jsxs("div",{className:"bonus-card",children:[h.jsx("div",{className:"mb-1",children:I.icon}),h.jsx("span",{className:"bonus-count-badge font-bold text-sm",children:I.count})]},le))}),h.jsxs("button",{onClick:()=>{n("click"),E()},className:"w-full py-3 bg-violet-600 text-white font-bold rounded-xl shadow-lg active:scale-95 transition-all uppercase text-sm flex items-center justify-center gap-2",children:[h.jsx(ud,{size:18}),"  "]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"profile-label",children:" "}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(_v,{className:"w-5 h-5 text-indigo-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:d.toLocaleString()}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(L0,{className:"w-5 h-5 text-rose-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:m.toLocaleString()}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(hd,{className:"w-5 h-5 text-amber-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:x>0?x:"-"}),h.jsx("span",{className:"stat-label-text",children:" "})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"profile-label",children:" "}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2 bg-yellow-100/50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-700/30",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:D.first}),h.jsx("span",{className:"stat-label-text",children:"1 "})]}),h.jsxs("div",{className:"stat-box p-2 bg-gray-100/50 dark:bg-gray-800/30 border-gray-200 dark:border-gray-600/30",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:D.second}),h.jsx("span",{className:"stat-label-text",children:"2 "})]}),h.jsxs("div",{className:"stat-box p-2 bg-orange-100/50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-700/30",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:D.third}),h.jsx("span",{className:"stat-label-text",children:"3 "})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"profile-label",children:""}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(z0,{className:"w-5 h-5 text-blue-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:O}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(D0,{className:"w-5 h-5 text-orange-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:y}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(Dv,{className:"w-5 h-5 text-green-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:g.toLocaleString()}),h.jsx("span",{className:"stat-label-text",children:" "})]})]})]}),h.jsxs("div",{className:"space-y-2 mb-1",children:[h.jsx("h3",{className:"profile-label",children:" "}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xs font-bold mb-1 text-indigo-500",children:"7-8 "}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:K})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xs font-bold mb-1 text-purple-500",children:"9-10 "}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:W})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xs font-bold mb-1 text-pink-500",children:"11+ "}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:ne})]})]})]})]})]})})},jp=({streak:i,streakMilestone:n,setStreakMilestone:l,hasPlayedToday:r,openGlobalRanking:u,openAchievements:d,playSfx:m,setShowCollection:y,onOpenAbout:g,setIsMenuOpen:p,userName:_,totalScore:E,highScore:x,isDailyPlayedToday:O,startGame:D,openDailyChallenge:L,dailyScore:V,challengeEndTime:q,coins:Y,onOpenShop:$})=>{const[K,W]=H.useState("");return H.useEffect(()=>{const ne=()=>{if(!q){W("...");return}const le=Date.now(),_e=new Date(q).getTime()-le;if(_e<=0){W("00:00:00");return}const At=Math.floor(_e/(1e3*60*60)),st=Math.floor(_e%(1e3*60*60)/(1e3*60)),De=Math.floor(_e%(1e3*60)/1e3);W(`${At.toString().padStart(2,"0")}:${st.toString().padStart(2,"0")}:${De.toString().padStart(2,"0")}`)};ne();const I=setInterval(ne,1e3);return()=>clearInterval(I)},[q]),h.jsxs("div",{className:"h-[100dvh] w-full max-w-md mx-auto p-4 flex flex-col relative overflow-hidden",children:[n&&h.jsx("div",{className:"modal-overlay z-[100]",children:h.jsxs("div",{className:"modal-content",children:[h.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),h.jsx("h2",{className:"modal-title text-amber-500",children:" !"}),h.jsxs("p",{className:"text-lg font-bold my-4 italic text-gray-800 dark:text-white break-words px-4",children:['"',n,'"']}),h.jsxs("p",{className:"text-sm opacity-70 mb-6 text-gray-600 dark:text-gray-200",children:[" : ",i," ."]}),h.jsx("button",{onClick:()=>{m("click"),l(null)},className:"w-full py-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-2xl shadow-lg active:scale-95 transition-transform uppercase",children:""})]})}),h.jsxs("div",{className:"w-full flex justify-between items-center z-10 shrink-0 gap-2",children:[h.jsxs("div",{className:"flex gap-1 shrink-0",children:[h.jsx("button",{onClick:u,className:"stat-card text-yellow-400",children:h.jsx(hd,{size:24})}),h.jsxs("div",{className:"px-2 py-2 rounded-2xl font-bold flex items-center gap-2 shadow-lg stat-card",title:" ",children:[h.jsx("span",{className:`${r?"animate-pulse text-red-500":"opacity-50 grayscale text-gray-500"}`,children:h.jsx(D0,{size:24,fill:r?"currentColor":"none"})}),h.jsx("span",{className:`text-sm ${r?"text-red-500":"opacity-50 text-gray-600 dark:text-gray-300"}`,children:i})]})]}),h.jsxs("div",{className:"flex gap-1 shrink-0",children:[h.jsx("button",{onClick:()=>{m("click"),y(!0)},className:"stat-card text-blue-600",children:h.jsx(Qu,{size:24})}),h.jsx("button",{onClick:()=>{m("click"),g()},className:"stat-card text-cyan-500",children:h.jsx(cd,{size:24})}),h.jsx("button",{onClick:()=>p(!0),className:"stat-card main_up",children:h.jsx(dd,{size:24})})]})]}),h.jsx("div",{className:"flex items-center justify-center relative z-0 min-h-0 mt-10 w-full px-8",children:h.jsx("div",{className:"logo-svg text-gradient-custom drop-shadow-lg"})}),h.jsxs("div",{className:"w-full shrink-0 flex flex-col gap-4 pb-2 mt-auto",children:[h.jsxs("div",{className:"flex justify-center items-center gap-3",children:[h.jsxs("button",{onClick:()=>{m("click"),d()},className:"player-card active:scale-95 transition-transform",children:[h.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-gradient-custom",children:_}),h.jsx("p",{className:"text-[10px] font-bold tracking-widest opacity-60 stat-label",children:Ys(E)})]}),h.jsxs("button",{onClick:()=>{m("click"),$("coins")},className:"coin-card",title:"",children:[h.jsx("img",{src:"./image/coin.svg",alt:"coins",className:"w-5 h-5"}),h.jsx("span",{className:"coin-value",children:Y})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[h.jsxs("div",{className:"stat-card ",children:[h.jsx("div",{className:"stat-label mb-1 uppercase",children:" "}),h.jsx("div",{className:"stat-value",children:x})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-label mb-1 uppercase",children:" "}),h.jsx("div",{className:"stat-value",children:E})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:()=>{m("click"),L()},className:`w-full py-3 font-bold rounded-2xl border transition-all uppercase text-sm flex flex-col items-center justify-center relative overflow-hidden group
            ${O?"game-day-end":"game-day"}`,children:[O?h.jsxs("span",{className:"text-lg relative z-10 flex items-center gap-2",children:[h.jsx(U0,{size:20}),"  "]}):h.jsxs("span",{className:"text-lg relative z-10 flex items-center gap-2",children:[h.jsx(Eo,{size:20,fill:"currentColor"}),"  "]}),O?h.jsxs("span",{className:"text-[10px] lowercase normal-case mt-1 opacity-70",children:[" : ",V,"    : ",K]}):h.jsxs("span",{className:"text-[10px] lowercase normal-case mt-1 opacity-90",children:[" : ",K]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[h.jsxs("button",{onClick:()=>D(10),className:"game_easy font-bold",children:[" ",h.jsx("span",{className:"opacity-80 ml-1 normal-case font-medium",children:"( x 1 )"})]}),h.jsxs("button",{onClick:()=>D(8),className:"game_medium font-bold",children:[" ",h.jsx("span",{className:"opacity-80 ml-1 normal-case font-medium",children:"( x 1.5 )"})]}),h.jsxs("button",{onClick:()=>D(6),className:"game_hard font-bold",children:[" ",h.jsx("span",{className:"opacity-80 ml-1 normal-case font-medium",children:"( x 2 )"})]})]})]}),h.jsx("div",{className:"text-center opacity-30 text-[10px] font-bold uppercase tracking-widest text-gray-500",children:"Slovodel  2026"})]})]})},Tp=i=>{const{score:n,isDailyMode:l,timeLeft:r,onOpenAbout:u,onOpenMenu:d,hintWord:m,isDefinitionLoading:y,hintDefinition:g,foundWords:p,currentInput:_,setCurrentInput:E,playSfx:x,handleAddTime:O,bonusTimeLeft:D,handleHint:L,bonusHintLeft:V,handleWildcard:q,bonusWildcardLeft:Y,wildcardActiveSeconds:$,hintActiveSeconds:K,toggleSwapMode:W,bonusSwapLeft:ne,isSwapActive:I,grid:le,hintIndices:_e,startSwap:At,checkWord:st,performSwap:De,swapTargetIdx:Dt,setSwapTargetIdx:ht,showConfirm:it,setShowConfirm:z,finishGame:X,setGrid:te,onOpenShop:pe}=i;return h.jsxs("div",{className:"game-container",children:[Dt!==null&&h.jsx("div",{className:"modal-overlay z-[60]",children:h.jsxs("div",{className:"modal-content",children:[h.jsx("h3",{className:"swap-modal-title",children:""}),h.jsx("p",{className:"swap-modal-text",children:" :"}),h.jsx("input",{autoFocus:!0,className:"swap-modal-input",maxLength:1,onChange:ee=>De(ee.target.value)}),h.jsx("button",{onClick:()=>ht(null),className:"swap-modal-cancel-btn",children:""})]})}),h.jsxs("header",{className:"game-header",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("div",{className:"game-score",children:n}),l&&h.jsx("div",{className:"text-[10px] font-bold uppercase text-amber-500 tracking-wider",children:" "})]}),h.jsx("div",{className:`timer-base ${r<10?"timer-warning":"timer-normal"}`,children:iv(r)}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>{x("click"),u()},className:"game-header-btn text-cyan-500",children:h.jsx(cd,{size:24})}),h.jsx("button",{onClick:()=>{x("click"),d()},className:"game-header-btn",children:h.jsx(dd,{size:24})})]})]}),h.jsxs("div",{className:"game-board-area",children:[m&&h.jsxs("div",{className:"hint-box",children:[h.jsx("div",{className:"hint-label",children:""}),K>0?h.jsx("div",{className:"hint-text",children:y?"...":g}):h.jsx("div",{className:"hint-word",children:m})]}),h.jsx("div",{className:"flex flex-wrap gap-2 content-start",children:p.map((ee,w)=>h.jsxs("div",{className:"found-word-item",children:[h.jsx("span",{className:ee.text.length>=7?"text-amber-500":"",children:ee.text.toUpperCase()}),h.jsxs("span",{className:"found-word-score",children:["+",ee.score]})]},w))})]}),h.jsxs("div",{className:"game-panel",children:[h.jsx("div",{className:"mb-5 flex justify-around items-center",children:[{icon:h.jsx(er,{size:32,className:"text-icon-indigo bonus-icon-base"}),count:D,action:O,active:!0},{icon:h.jsx(tr,{size:32,className:"text-icon-amber bonus-icon-base"}),count:K>0?`${K}c`:V,action:L,active:!0,pulse:K>0,ringClass:"ring-amber-400/50"},{icon:h.jsx(nr,{size:32,className:"text-icon-purple bonus-icon-base"}),count:$>0?`${$}c`:Y,action:q,active:$>0,pulse:$>0,ringClass:"ring-purple-400/50"},{icon:h.jsx(ar,{size:32,className:"text-icon-pink bonus-icon-base"}),count:ne,action:W,active:I}].map((ee,w)=>{const R=typeof ee.count=="number"&&ee.count<=0&&!ee.pulse;return h.jsxs("button",{onClick:R?l?void 0:()=>{x("click"),pe()}:ee.action,className:`bonus-btn-wrapper ${R&&l?"bonus-btn-disabled":"bonus-btn-active"}`,disabled:R&&l,children:[h.jsx("div",{className:`bonus-btn-container ${ee.pulse?`animate-pulse ring-4 ${ee.ringClass}`:""}`,children:ee.icon}),h.jsx("span",{className:`bonus-badge ${R&&!l?"bonus-badge-zero":"bonus-badge-normal"}`,children:R?l?"0":"+":ee.count})]},w)})}),h.jsxs("div",{className:"input-field-container",children:[_.length>0&&h.jsx("button",{onClick:()=>{x("click"),E([])},className:"absolute left-2 p-2 input-field-element hover:text-red-400 transition-colors",title:" ",children:h.jsx(Zu,{size:24})}),h.jsx("div",{className:`input-text ${_.length>12?"text-right":"text-center"}`,style:{direction:_.length>12?"rtl":"ltr"},children:_.length>0?h.jsx("span",{style:{direction:"ltr",unicodeBidi:"embed"},children:_.join("")}):h.jsx("span",{className:"input-placeholder",children:"..."})}),_.length>0&&h.jsx("button",{onClick:()=>{x("click"),E(ee=>ee.slice(0,-1))},className:"absolute right-2 p-2 input-field-element hover:text-indigo-500 transition-colors",children:h.jsx(Av,{size:24})})]}),h.jsx("div",{className:`grid ${le.length===10?"grid-cols-5":le.length===8?"grid-cols-4":"grid-cols-3"} gap-2 mb-4`,children:le.map((ee,w)=>h.jsx("button",{onClick:()=>{I?At(w):(x("click"),E(R=>[...R,ee]))},className:`${le.length===10?"aspect-square":le.length===8?"aspect-[5/4]":"aspect-[5/3]"} letter-btn ${_e.has(w)?"letter-btn-hint":""}`,children:ee},w))}),h.jsxs("div",{className:"game-controls",children:[h.jsx("button",{onClick:()=>{x("click"),te([...le].sort(()=>Math.random()-.5))},className:"btn-control-mix",children:""}),h.jsx("button",{onClick:st,disabled:_.length===0,className:`btn-control-enter ${_.length>0?"btn-control-enter-active":"btn-enter-disabled"}`,children:""})]})]}),it&&h.jsx("div",{className:"modal-overlay z-[70]",children:h.jsxs("div",{className:"modal-content",children:[h.jsx("h3",{className:"modal-title",children:" ?"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>{x("click"),z(!1)},className:"confirm-modal-cancel",children:""}),h.jsx("button",{onClick:()=>{x("click"),X()},className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold shadow-lg shadow-red-500/30",children:""})]})]})})]})},Np=({score:i,lastRoundRecordBeaten:n,totalScore:l,userName:r,onMenu:u,newRankReached:d,onRankModalClose:m})=>{const[y,g]=H.useState(!!d),p=_=>_<2e3?_/2e3*100:_<5e3?(_-2e3)/3e3*100:_<1e4?(_-5e3)/5e3*100:_<5e4?(_-1e4)/4e4*100:_<1e5?(_-5e4)/5e4*100:_<2e5?(_-1e5)/1e5*100:_<5e5?(_-2e5)/3e5*100:100;return h.jsxs("div",{className:"h-full w-full max-w-md mx-auto p-6 flex flex-col items-center justify-center animate-pop relative",children:[y&&d&&h.jsx("div",{className:"rank-modal-overlay",children:h.jsxs("div",{className:"rank-modal-content",children:[h.jsx("div",{className:"rank-modal-gradient-bar"}),h.jsx("img",{src:"./image/crown.png",alt:"Rank Up",className:"rank-modal-icon"}),h.jsx("h2",{className:"rank-modal-title",children:"!"}),h.jsx("p",{className:"rank-modal-subtitle",children:"  !  :"}),h.jsx("div",{className:"rank-modal-box",children:h.jsx("p",{className:"rank-modal-rank-name",children:d})}),h.jsx("button",{onClick:()=>{g(!1),m()},className:"rank-modal-button",children:"!"})]})}),h.jsx("h2",{className:"round-end-up",children:" "}),h.jsx("div",{className:"relative",children:h.jsx("div",{className:"round-end-score",children:i})}),n!==null&&h.jsx("div",{className:"mb-8 text-center animate-bounce",children:h.jsx("div",{className:"round-end-record",children:h.jsx("p",{className:"font-bold text-sm uppercase tracking-wide",children:"  !"})})}),h.jsxs("div",{className:"round-end-bg",children:[h.jsx("div",{className:"round-end-progress",children:" "}),h.jsx("div",{className:"round-end-progress-rank",children:h.jsx("div",{className:"round-end-progress-scale",style:{width:`${Math.min(100,p(l))}%`}})}),h.jsxs("div",{className:"flex justify-between items-end",children:[h.jsx("p",{className:"round-end-name",children:r}),h.jsx("p",{className:"round-end-rank",children:Ys(l)})]})]}),h.jsx("button",{onClick:u,className:"leaderboard-close",children:" "})]})},Ap=({onClose:i,playSfx:n,coins:l,onBuyBonuses:r,initialTab:u="bonuses"})=>{const[d,m]=H.useState(u),[y,g]=H.useState({}),p=q=>y[q]||0,_=(q,Y)=>{n("click"),g($=>{const K=$[q]||0,W=Math.max(0,Math.min(99,K+Y));return{...$,[q]:W}})},E=[{id:"time",name:"",icon:h.jsx(er,{size:24,className:"text-indigo-500"}),cost:30,type:"time"},{id:"swap",name:"",icon:h.jsx(ar,{size:24,className:"text-pink-500"}),cost:40,type:"swap"},{id:"hint",name:"",icon:h.jsx(tr,{size:24,className:"text-amber-500"}),cost:50,type:"hint"},{id:"wildcard",name:"",icon:h.jsx(nr,{size:24,className:"text-purple-500"}),cost:60,type:"wildcard"}],x=[{id:1,amount:100,price:50,label:""},{id:2,amount:250,price:100,label:""},{id:3,amount:500,price:200,label:""},{id:4,amount:1e3,price:350,label:""},{id:5,amount:1500,price:500,label:" "}],O=q=>{n("click"),alert(`     ${q.price} Telegram Stars  ${q.amount} .`)},D=E.reduce((q,Y)=>q+Y.cost*p(Y.id),0),L=E.reduce((q,Y)=>q+p(Y.id),0),V=()=>{if(L===0)return;const q=E.map(Y=>({type:Y.type,cost:Y.cost*p(Y.id),amount:p(Y.id)})).filter(Y=>Y.amount>0);r(q)&&g({})};return h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content max-w-sm h-[80vh] flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(op,{size:28,className:"modal-header-icon"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"modal-close-btn",children:h.jsx(Za,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"shop-balance-card",children:[h.jsx("span",{className:"shop-balance-label",children:" "}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:"./image/coin.svg",alt:"coin",className:"w-8 h-8 object-contain"}),h.jsx("span",{className:"shop-balance-value",children:l})]})]}),h.jsxs("div",{className:"tabs-group mb-4 shrink-0",children:[h.jsx("button",{onClick:()=>{n("click"),m("bonuses")},className:`tab-item ${d==="bonuses"?"tab-item-active":""}`,children:" "}),h.jsx("button",{onClick:()=>{n("click"),m("coins")},className:`tab-item ${d==="coins"?"tab-item-active":""}`,children:" "})]}),h.jsx("div",{className:"shop-list-container",children:d==="bonuses"?h.jsxs(h.Fragment,{children:[E.map(q=>{const Y=p(q.id);return h.jsx("div",{className:"shop-item-card !flex-col !items-stretch !h-auto gap-3",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"shop-item-icon-bg",children:q.icon}),h.jsxs("div",{children:[h.jsx("p",{className:"shop-item-title",children:q.name}),h.jsxs("p",{className:"shop-item-cost flex items-center",children:[h.jsx("img",{src:"./image/coin.svg",alt:"C",className:"w-3 h-3 mr-1"}),q.cost]})]})]}),h.jsxs("div",{className:"shop-item-control",children:[h.jsx("button",{onClick:()=>_(q.id,-1),className:"shop-item-control-plus",children:h.jsx(Vv,{size:14})}),h.jsx("span",{className:"shop-item-control-count ",children:Y}),h.jsx("button",{onClick:()=>_(q.id,1),className:"shop-item-control-plus",children:h.jsx(ud,{size:14})})]})]})},q.id)}),h.jsx("p",{className:"shop-item-info",children:"        ,  ,       ."})]}):x.map(q=>h.jsxs("div",{className:"coin-pack-card",children:[h.jsxs("div",{className:"relative z-10 text-left",children:[h.jsxs("p",{className:"coin-pack-amount flex items-center gap-1",children:[h.jsx("img",{src:"./image/coin.svg",alt:"c",className:"w-5 h-5"}),q.amount]}),h.jsx("p",{className:"coin-pack-label",children:q.label})]}),h.jsxs("button",{onClick:()=>O(q),className:"coin-pack-btn",children:[q.price," ",h.jsx(L0,{size:12,fill:"currentColor"})]}),h.jsx("img",{src:"./image/coin.svg",className:"coin-pack-bg-icon w-16 h-16"})]},q.id))}),d==="bonuses"&&h.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-white/10 mt-auto",children:h.jsxs("button",{onClick:V,disabled:L===0,className:`shop-footer-btn ${L>0?"shop-footer-btn-active":"shop-footer-btn-disabled"}`,children:[h.jsx("span",{children:L>0?`  ${D}`:" "}),L>0&&h.jsx("img",{src:"./image/coin.svg",className:"w-6 h-6"})]})})]})})},kp=({onClose:i,playSfx:n,fetchFeedbacks:l,addCustomWord:r,fetchAdminCustomWords:u,deleteCustomWord:d,updateCustomWord:m,onReply:y,onArchive:g,onDelete:p,onBroadcast:_,onTestModal:E})=>{const[x,O]=H.useState("feedback"),[D,L]=H.useState([]),[V,q]=H.useState([]),[Y,$]=H.useState(""),[K,W]=H.useState(!1),[ne,I]=H.useState("idle"),[le,_e]=H.useState(null),[At,st]=H.useState(""),[De,Dt]=H.useState(""),[ht,it]=H.useState(null),[z,X]=H.useState(null),[te,pe]=H.useState(""),[ee,w]=H.useState("all"),[R,J]=H.useState("");H.useEffect(()=>{x==="feedback"?(W(!0),l().then(Q=>{L(Q),W(!1)})):x==="dictionary"&&(W(!0),u().then(Q=>{q(Q),W(!1)}))},[x,l,u]);const P=async()=>{if(!Y.trim())return;const Q=Y.trim().toLowerCase(),Ie=os();if(Ie&&Ie.has(Q)){alert("     !");return}await r(Q)?(Ie?.add(Q),$(""),I("success"),setTimeout(()=>I("idle"),2e3),u().then(q)):I("error")},oe=async(Q,Ie)=>{window.confirm(`  "${Ie}"?`)&&await d(Q)&&(os()?.delete(Ie),q(Ua=>Ua.filter(Wa=>Wa.id!==Q)))},ge=Q=>{_e(Q.id),st(Q.word)},we=()=>{_e(null),st("")},Ve=async(Q,Ie)=>{const tt=At.trim().toLowerCase();if(!tt||tt===Ie){we();return}if(await m(Q,tt)){const Ua=os();Ua?.delete(Ie),Ua?.add(tt),q(Wa=>Wa.map(Pa=>Pa.id===Q?{...Pa,word:tt}:Pa)),we()}},Re=()=>{if(!De.trim())return;const Q=os(),Ie=De.trim().toLowerCase().replace(//g,"");Q&&Q.has(Ie)?it("found"):it("not-found")},xa=V.filter(Q=>Q.word.toLowerCase().includes(De.toLowerCase())),Ea=D.filter(Q=>ee==="archived"?Q.status==="archived":Q.status==="archived"?!1:ee==="new"?Q.status!=="replied":ee==="replied"?Q.status==="replied":!0),cs=async Q=>{if(!te.trim())return;await y(Q.id,Q.telegram_id,te)?(X(null),pe(""),l().then(L)):alert("  ")},jn=async Q=>{await g(Q)&&L(Ie=>Ie.map(tt=>tt.id===Q?{...tt,status:"archived"}:tt))},Wt=async Q=>{window.confirm("  ?")&&await p(Q)&&L(Ie=>Ie.filter(tt=>tt.id!==Q))},za=async()=>{R.trim()&&window.confirm(" ,       ?")&&(await _(R)?(J(""),alert("   !")):alert("  "))};return h.jsx("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-slate-900 animate-in fade-in duration-300",children:h.jsxs("div",{className:"flex flex-col h-full p-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(B0,{size:28,className:"modal-header-icon"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight text-gray-900 dark:text-white",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"p-2 bg-white/70 dark:bg-white/10 rounded-xl hover:bg-black/10 transition-colors",children:h.jsx(pv,{size:24,className:"text-gray-800 dark:text-white"})})]}),h.jsxs("div",{className:"tabs-group mb-4 shrink-0",children:[h.jsxs("button",{onClick:()=>O("feedback"),className:`tab-item ${x==="feedback"?"tab-item-active":""}`,children:[h.jsx(M0,{size:16})," "]}),h.jsxs("button",{onClick:()=>O("dictionary"),className:`tab-item ${x==="dictionary"?"tab-item-active":""}`,children:[h.jsx(xv,{size:16})," "]}),h.jsxs("button",{onClick:()=>O("broadcast"),className:`tab-item ${x==="broadcast"?"tab-item-active":""}`,children:[h.jsx(Hv,{size:16})," "]}),h.jsxs("button",{onClick:()=>O("testing"),className:`tab-item ${x==="testing"?"tab-item-active":""}`,children:[h.jsx(Ov,{size:16})," UI "]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:x==="feedback"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:[h.jsx("button",{onClick:()=>w("all"),className:`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap transition-colors ${ee==="all"?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-400"}`,children:""}),h.jsx("button",{onClick:()=>w("new"),className:`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap transition-colors ${ee==="new"?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-400"}`,children:""}),h.jsx("button",{onClick:()=>w("replied"),className:`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap transition-colors ${ee==="replied"?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-400"}`,children:" "}),h.jsx("button",{onClick:()=>w("archived"),className:`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap transition-colors ${ee==="archived"?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-400"}`,children:""})]}),K?h.jsx("p",{className:"text-center opacity-50 mt-10",children:"..."}):Ea.length===0?h.jsx("p",{className:"text-center opacity-50 mt-10",children:" "}):Ea.map((Q,Ie)=>h.jsxs("div",{className:"bg-white/40 dark:bg-white/5 p-4 rounded-2xl border border-white/10",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-300 text-sm",children:Q.username}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] opacity-50",children:new Date(Q.created_at).toLocaleDateString()}),h.jsx("button",{onClick:()=>jn(Q.id),className:"text-gray-400 hover:text-indigo-500 transition-colors",title:" ",children:h.jsx(yv,{size:14})}),h.jsx("button",{onClick:()=>Wt(Q.id),className:"text-gray-400 hover:text-red-500 transition-colors",title:"",children:h.jsx(Zu,{size:14})})]})]}),h.jsx("p",{className:"text-sm text-gray-800 dark:text-white/90 whitespace-pre-wrap",children:Q.message}),Q.status==="replied"?h.jsxs("div",{className:"mt-3 pl-3 border-l-2 border-green-500",children:[h.jsx("p",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 uppercase",children:" :"}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:Q.admin_reply})]}):h.jsx("div",{className:"mt-3",children:z===Q.id?h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{value:te,onChange:tt=>pe(tt.target.value),placeholder:" ...",className:"flex-1 bg-white/50 dark:bg-black/20 border border-white/10 rounded-xl px-3 py-2 text-sm outline-none"}),h.jsx("button",{onClick:()=>cs(Q),className:"p-2 bg-green-500 text-white rounded-xl",children:h.jsx(Ju,{size:16})}),h.jsx("button",{onClick:()=>X(null),className:"p-2 bg-gray-300 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-xl",children:h.jsx(Za,{size:16})})]}):h.jsxs("button",{onClick:()=>{X(Q.id),pe("")},className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 flex items-center gap-1 hover:underline",children:[h.jsx(Fv,{size:12})," "]})})]},Ie))]}):x==="dictionary"?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-white/40 dark:bg-white/5 p-4 rounded-2xl border border-white/10",children:[h.jsx("label",{className:"text-xs font-bold uppercase opacity-60 mb-2 block",children:"  "}),h.jsxs("div",{className:"flex gap-2 mb-2",children:[h.jsx("input",{value:De,onChange:Q=>{Dt(Q.target.value),it(null)},placeholder:"...",className:"flex-1 bg-white/50 dark:bg-black/20 border border-white/10 rounded-xl px-3 py-2 outline-none",onKeyDown:Q=>Q.key==="Enter"&&Re()}),h.jsx("button",{onClick:Re,className:"p-3 rounded-xl text-white bg-blue-500 hover:bg-blue-600 transition-all",children:h.jsx(np,{size:20})})]}),ht==="found"&&h.jsxs("div",{className:"text-green-600 dark:text-green-400 text-sm font-bold flex items-center gap-2 animate-in fade-in slide-in-from-top-1",children:[h.jsx(Xu,{size:16}),"    "]}),ht==="not-found"&&h.jsxs("div",{className:"text-red-500 dark:text-red-400 text-sm font-bold flex items-center gap-2 animate-in fade-in slide-in-from-top-1",children:[h.jsx(Za,{size:16}),"   "]})]}),h.jsxs("div",{className:"bg-white/40 dark:bg-white/5 p-4 rounded-2xl border border-white/10",children:[h.jsx("label",{className:"text-xs font-bold uppercase opacity-60 mb-2 block",children:"   "}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{value:Y,onChange:Q=>$(Q.target.value),placeholder:"...",className:"flex-1 bg-white/50 dark:bg-black/20 border border-white/10 rounded-xl px-3 py-2 outline-none"}),h.jsx("button",{onClick:P,className:`p-3 rounded-xl text-white transition-all ${ne==="success"?"bg-green-500":"bg-indigo-600"}`,children:ne==="success"?h.jsx(Xu,{size:20}):h.jsx(Ju,{size:20})})]})]}),h.jsx("div",{className:"space-y-2 pb-4",children:V.length===0?h.jsx("p",{className:"text-center opacity-50 text-xs",children:"  "}):xa.length===0?h.jsx("p",{className:"text-center opacity-50 text-xs",children:"  "}):xa.map(Q=>h.jsx("div",{className:"bg-white/40 dark:bg-white/5 p-3 rounded-xl border border-white/10 flex items-center justify-between gap-2",children:le===Q.id?h.jsxs(h.Fragment,{children:[h.jsx("input",{value:At,onChange:Ie=>st(Ie.target.value),className:"flex-1 bg-white/50 dark:bg-black/20 border border-white/10 rounded-lg px-2 py-1 outline-none text-sm",autoFocus:!0}),h.jsx("button",{onClick:()=>Ve(Q.id,Q.word),className:"p-2 text-green-600 hover:bg-green-100 dark:hover:bg-green-900/30 rounded-lg",children:h.jsx(tp,{size:16})}),h.jsx("button",{onClick:we,className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:h.jsx(Za,{size:16})})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"font-bold text-gray-800 dark:text-white flex-1",children:Q.word}),h.jsx("button",{onClick:()=>ge(Q),className:"p-2 text-indigo-600 hover:bg-indigo-100 dark:hover:bg-indigo-900/30 rounded-lg",children:h.jsx(Jv,{size:16})}),h.jsx("button",{onClick:()=>oe(Q.id,Q.word),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg",children:h.jsx(Zu,{size:16})})]})},Q.id))})]}):x==="broadcast"?h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"bg-white/40 dark:bg-white/5 p-4 rounded-2xl border border-white/10",children:[h.jsx("label",{className:"text-xs font-bold uppercase opacity-60 mb-2 block text-gray-800 dark:text-white",children:"   "}),h.jsx("textarea",{value:R,onChange:Q=>J(Q.target.value),className:"w-full bg-white/50 dark:bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-sm outline-none min-h-[120px] mb-4 text-gray-900 dark:text-white placeholder:text-gray-500",placeholder:"  ..."}),h.jsx("button",{onClick:za,disabled:!R.trim(),className:`w-full py-3 rounded-xl text-white font-bold transition-all ${R.trim()?"bg-indigo-600 hover:bg-indigo-700 active:scale-95":"bg-gray-300 dark:bg-gray-700 cursor-not-allowed"}`,children:""}),h.jsx("p",{className:"text-[10px] opacity-50 mt-2 text-center text-gray-600 dark:text-gray-400",children:"    ,  ."})]})}):h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"bg-white/40 dark:bg-white/5 p-4 rounded-2xl border border-white/10",children:[h.jsx("label",{className:"text-xs font-bold uppercase opacity-60 mb-4 block text-gray-800 dark:text-white",children:"  "}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx("button",{onClick:()=>{n("click"),E("reward")},className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-xl font-bold text-sm hover:opacity-80 transition-opacity",children:" "}),h.jsx("button",{onClick:()=>{n("click"),E("rank_up")},className:"p-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-xl font-bold text-sm hover:opacity-80 transition-opacity",children:" "})]})]})})})]})})},Op=({onClose:i,onStart:n,playSfx:l,completedLevels:r,currentScore:u=0})=>h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content max-w-sm",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Eo,{size:28,className:"modal-header-icon text-amber-500",fill:"currentColor"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:" "})]}),h.jsx("button",{onClick:()=>{l("click"),i()},className:"modal-close-btn",children:h.jsx(Za,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"daychallenge-bg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("div",{className:"daychallenge-callendar",children:[h.jsx(z0,{size:14}),h.jsx("span",{children:""})]}),h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsx("span",{className:"daychallenge-points text-[10px] uppercase opacity-60",children:" "}),h.jsx("span",{className:"daychallenge-points text-xl leading-none",children:u})]})]}),h.jsx("p",{className:"daychallenge-info",children:"  ,      .        1   .   ,       !"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-center text-xs font-bold uppercase opacity-50 mb-2",children:" "}),[{lvl:10,label:"",mult:"( x 1 )",color:"daychallenge-easy-color",border:"daychallenge-easy-border",hover:"hover:bg-green-500/10"},{lvl:8,label:"",mult:"( x 1.5 )",color:"daychallenge-normal-color",border:"daychallenge-normal-border",hover:"hover:bg-blue-500/10"},{lvl:6,label:"",mult:"( x 2 )",color:"daychallenge-hard-color",border:"daychallenge-hard-border",hover:"hover:bg-red-500/10"}].map(d=>{const m=r.includes(d.lvl);return h.jsxs("button",{onClick:()=>!m&&n(d.lvl),disabled:m,className:`daychallenge-button
                    ${m?"opacity-50 cursor-not-allowed border-gray-200 text-gray-400":`${d.color} ${d.border} ${d.hover} active:scale-[0.98]`}`,children:[h.jsxs("span",{className:"uppercase",children:[d.label," ",h.jsx("span",{className:"normal-case opacity-60 ml-1",children:d.mult})]}),m&&h.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[h.jsx(U0,{size:20})," ",h.jsx("span",{className:"text-[10px]",children:""})]})]},d.lvl)})]})]})]})}),Cp={time:h.jsx(er,{size:48,className:"text-indigo-500"}),hint:h.jsx(tr,{size:48,className:"text-amber-500"}),swap:h.jsx(ar,{size:48,className:"text-pink-500"}),wildcard:h.jsx(nr,{size:48,className:"text-purple-500"})},Rp={time:"",hint:"",swap:"",wildcard:""},zp=({onClose:i,playSfx:n,achievement:l,reward:r})=>h.jsx("div",{className:"fixed inset-0 z-[500] flex items-center justify-center dark:bg-black/80 backdrop-blur-md p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"reward-modal-content",children:[h.jsx("div",{className:"reward-gradient-bar"}),h.jsx(zv,{size:64,className:"reward-icon"}),h.jsx("h2",{className:"reward-title",children:"!"}),h.jsx("p",{className:"reward-subtitle",children:l}),h.jsxs("div",{className:"reward-box",children:[h.jsx("p",{className:"reward-box-label",children:" :"}),Cp[r.type],h.jsxs("p",{className:"reward-box-value",children:[Rp[r.type]," +",r.amount]})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"reward-button",children:""})]})}),Up=()=>{const[i,n]=H.useState(()=>localStorage.getItem("slovodel_theme")||"light");return H.useEffect(()=>{i==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.style.colorScheme="dark"):(document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light"),localStorage.setItem("slovodel_theme",i)},[i]),{theme:i,setTheme:n}};function Dp({saveUserData:i,saveDailyScore:n,getUserData:l,getActiveChallenge:r,getLeaderboard:u,getDailyLeaderboard:d,fetchPreviousDailyLeaderboard:m,getUserDailyScore:y,fetchUserRank:g,saveFeedback:p,fetchFeedbacks:_,addCustomWord:E,fetchCustomWords:x,fetchAdminCustomWords:O,deleteCustomWord:D,updateCustomWord:L,sendFeedbackReply:V,archiveFeedback:q,deleteFeedback:Y,sendBroadcast:$,tg:K}){const W=window.Telegram?.WebApp?.initDataUnsafe?.user,ne=W?W.first_name+(W.last_name?" "+W.last_name:""):" ",I="818790686, 6162543835".split(",").map(N=>Number(N.trim())).filter(N=>!isNaN(N)),[le,_e]=H.useState("menu"),[At,st]=H.useState(!0),[De,Dt]=H.useState(60),[ht,it]=H.useState(0),[z,X]=H.useState(1),[te,pe]=H.useState(!1),[ee,w]=H.useState(!1),[R,J]=H.useState(!1),[P,oe]=H.useState(!1),[ge,we]=H.useState(!1),[Ve,Re]=H.useState(!1),[xa,Ea]=H.useState(null),[cs,jn]=H.useState("bonuses"),[Wt,za]=H.useState(!1),[Q,Ie]=H.useState(()=>{const N=localStorage.getItem("slovodel_daily_play_v2");if(N)try{const G=JSON.parse(N);if(G.challengeId)return G.challengeId}catch{}return"1"}),[tt,us]=H.useState(null),[Ua,Wa]=H.useState(null),[Pa,ir]=H.useState(!1),[Mt,Da]=H.useState([]),[lr,Xs]=H.useState(null),[ds,rr]=H.useState("all"),[or,Ma]=H.useState(0),[Co,Ba]=H.useState(!1),{theme:pt,setTheme:La}=Up(),[lt,Ro]=H.useState(()=>Number(localStorage.getItem("slovodel_music_vol")??.3)),[hs,zo]=H.useState(()=>Number(localStorage.getItem("slovodel_sfx_vol")??.5)),Bt=H.useRef(null),[kt,Tn]=H.useState(()=>{const N=localStorage.getItem("slovodel_total_score");return N?parseInt(N,10):0}),[bt,fs]=H.useState(()=>{const N=localStorage.getItem("slovodel_high_score");return N?parseInt(N,10):0}),[ha,Ki]=H.useState(()=>{const N=localStorage.getItem("slovodel_total_words");return N?parseInt(N,10):0}),[qa,Nn]=H.useState(()=>{const N=localStorage.getItem("slovodel_coins");return N?parseInt(N,10):0}),[Gt,Ii]=H.useState(()=>s0().count),[ms,cr]=H.useState(()=>localStorage.getItem("slovodel_streak_date")===xo()),[Js,Zs]=H.useState(null),[Ot,gs]=H.useState(()=>{const N=localStorage.getItem("slovodel_rare_words");if(N)try{return JSON.parse(N)}catch(G){console.error("   :",G)}return[]}),[An,fa]=H.useState(0),[ft,_t]=H.useState({first:0,second:0,third:0}),[kn,Qi]=H.useState(0);H.useEffect(()=>{localStorage.setItem("slovodel_rare_words",JSON.stringify(Ot))},[Ot]);const[Vt,Xi]=H.useState(()=>{const N=localStorage.getItem("slovodel_daily_play_v2");if(N)try{const G=JSON.parse(N);if(G.userId===W?.id&&G.challengeId&&G.scores)return G}catch(G){console.error("  :",G)}return{challengeId:"1",scores:{},userId:W?.id}}),[ur,On]=H.useState(null),[ys,Ha]=H.useState(null),[Yt,Fa]=H.useState(null),[$a,Je]=H.useState([]),[wt,Ji]=H.useState(null),en=N=>{_e("menu"),setTimeout(()=>{switch(N){case"reward":Fa({achievement:" ",reward:{type:"hint",amount:5}}),he("reward_fanfare");break;case"rank_up":Ha(" "),_e("results");break}},100)},qe=H.useCallback((N,G)=>{Lt({text:N,type:G}),setTimeout(()=>Lt(null),3500)},[]);H.useEffect(()=>{if(K){K.ready(),K.expand();const N=pt==="light"?"#c7d2fe":"#0f172a";K.setHeaderColor(N),K.setBackgroundColor&&K.setBackgroundColor(N)}},[pt,K]),H.useEffect(()=>{s0().status==="reset"&&Gt>0&&(qe("  ...  ,       !   !","bad"),Ii(0),localStorage.setItem("slovodel_streak_count","0"))},[]);const[tn,Ws]=H.useState([]),[Ps,an]=H.useState([]),[nn,vs]=H.useState([]),[Pt,Lt]=H.useState(null),[dr,Zi]=H.useState(!1),[qt,Ga]=H.useState(()=>Number(localStorage.getItem("slovodel_bonus_time")??2)),[Ct,sn]=H.useState(()=>Number(localStorage.getItem("slovodel_bonus_swap")??2)),[Qe,ja]=H.useState(()=>Number(localStorage.getItem("slovodel_bonus_hint")??2)),[Kt,Ta]=H.useState(()=>Number(localStorage.getItem("slovodel_bonus_wildcard")??2)),Ft=H.useRef({time:0,hint:0,swap:0,wildcard:0}),[Wi,ps]=H.useState(0),[ea,bs]=H.useState(0),[_s,Cn]=H.useState(0),[ln,Fs]=H.useState(null),[Pi,Rn]=H.useState(!1),[mt,zn]=H.useState(null),[Fi,Rt]=H.useState(null),[Un,el]=H.useState(!1),[tl,al]=H.useState(new Set);H.useEffect(()=>{mt&&ea===0&&_s===0&&(zn(null),Rt(null))},[ea,_s,mt]);const he=H.useCallback(N=>{if(N==="bg")return;const G=new Audio(n0[N]);G.volume=hs,G.play().catch(()=>{}),(N==="success"||N==="rare_success")&&K?.HapticFeedback?.notificationOccurred("success"),N==="error"&&K?.HapticFeedback?.notificationOccurred("error"),N==="bonus"&&K?.HapticFeedback?.impactOccurred("medium")},[hs,K]);H.useEffect(()=>{Bt.current||(Bt.current=new Audio(n0.bg),Bt.current.loop=!0,Bt.current.volume=lt)},[lt]),H.useEffect(()=>{Bt.current&&(le==="playing"&&!te&&!ee&&!Ve?Bt.current.play().catch(N=>console.log("Audio play failed",N)):(Bt.current.pause(),le!=="playing"&&(Bt.current.currentTime=0)))},[le,te,ee,Ve]),H.useEffect(()=>{Bt.current&&(Bt.current.volume=lt),localStorage.setItem("slovodel_music_vol",lt.toString())},[lt]),H.useEffect(()=>{localStorage.setItem("slovodel_sfx_vol",hs.toString())},[hs]),H.useEffect(()=>{av().then(async()=>{if(st(!1),x){const Z=await x(),de=os();de&&Z.length>0&&(Z.forEach(Se=>de.add(Se)),console.log(`[]  ${Z.length}    `))}});const N=()=>{r&&r().then(Z=>{Z&&(Ie(de=>de!==Z.id?Z.id:de),us(de=>JSON.stringify(de)!==JSON.stringify(Z.letters)?Z.letters:de),Wa(de=>de!==Z.endTime?Z.endTime:de))})};N();const G=setInterval(N,3e4);return()=>clearInterval(G)},[x,r]),H.useEffect(()=>{localStorage.setItem("slovodel_total_score",kt.toString()),localStorage.setItem("slovodel_high_score",bt.toString()),localStorage.setItem("slovodel_rare_words",JSON.stringify(Ot)),localStorage.setItem("slovodel_total_words",ha.toString()),localStorage.setItem("slovodel_coins",qa.toString())},[kt,bt,Ot,ha]),H.useEffect(()=>{localStorage.setItem("slovodel_bonus_time",qt.toString())},[qt]),H.useEffect(()=>{localStorage.setItem("slovodel_bonus_swap",Ct.toString())},[Ct]),H.useEffect(()=>{localStorage.setItem("slovodel_bonus_hint",Qe.toString())},[Qe]),H.useEffect(()=>{localStorage.setItem("slovodel_bonus_wildcard",Kt.toString())},[Kt]),H.useEffect(()=>{W?.id&&l&&(l(W.id).then(N=>{if(N){if(Tn(N.score??0),Nn(N.coins??0),Ga(N.bonus_time??2),ja(N.bonus_hint??2),sn(N.bonus_swap??2),Ta(N.bonus_wildcard??2),gs(Array.isArray(N.rare_words)?N.rare_words:[]),Ki(N.total_words??0),(N.streak??0)>Gt){const G=N.updated_at?new Date(N.updated_at):new Date(0),Z=new Date,de=new Date(Z);de.setDate(Z.getDate()-1);const Se=G.toDateString()===Z.toDateString(),fe=G.toDateString()===de.toDateString();(Se||fe)&&(Ii(N.streak),localStorage.setItem("slovodel_streak_count",N.streak.toString()))}fa(N.days_played??0),_t({first:N.daily_1_place??0,second:N.daily_2_place??0,third:N.daily_3_place??0}),g&&g(W.id).then(G=>{G&&typeof G.rank=="number"&&Qi(G.rank)})}else Tn(0),fs(0),gs([]),Nn(0),Ga(2),ja(2),sn(2),Ta(2),Ki(0),fa(0),_t({first:0,second:0,third:0})}).catch(N=>{console.warn("    (,  ).   .",N)}),y&&y(W.id,Q).then(N=>{Xi(N?G=>({...G,challengeId:Q,scores:N.level_scores||G.scores,bonuses:{time:N.bonus_time??2,hint:N.bonus_hint??2,swap:N.bonus_swap??2,wildcard:N.bonus_wildcard??2}}):G=>G.challengeId!==Q?{challengeId:Q,scores:{},userId:W.id,bonuses:{time:1,hint:1,swap:1,wildcard:1}}:G)}))},[W,l,y,Q,g]);const ta=H.useCallback(()=>{const N=ht,G=bt,Z=kt+N,de=Ys(kt),Se=Ys(Z);Ha(de!==Se?Se:null);let fe=Gt,He=An;const Ae=xo();ms||(fe=Gt+1,He=An+1);const Ht=N>bt?N:bt;Tn(Z);const ma=R?Ft.current:{time:qt,hint:Qe,swap:Ct,wildcard:Kt},mr={time:qt,hint:Qe,swap:Ct,wildcard:Kt};if(Promise.resolve(i({telegramId:W?.id,username:ne,score:Z,bonuses:ma,avatarUrl:W?.photo_url,rareWords:Ot,totalWords:ha,highScore:Ht,daysPlayed:He,streak:fe,coins:qa})).catch(Ya=>{console.error("  :",Ya)}),N>G?(fs(N),On(N-G)):On(null),!ms){Ii(fe),fa(He),cr(!0),localStorage.setItem("slovodel_streak_count",fe.toString()),localStorage.setItem("slovodel_streak_date",Ae);const Ya=sv(fe);if([3,7,14,30].includes(fe)){Zs(Ya);let Ka=1;fe>=30?Ka=5:fe>=14?Ka=3:fe>=7&&(Ka=2);const si=Bu(Ka);Je(js=>[...js,{achievement:`: ${fe} !`,reward:si}])}else qe("    !      !","good")}if(R){const Ya=tn.length,Ka={...Vt.scores,[Ya]:N},si={challengeId:Q,scores:Ka,bonuses:mr,userId:W?.id};Xi(si),localStorage.setItem("slovodel_daily_play_v2",JSON.stringify(si));const js=Object.values(Ka).reduce((Do,Mo)=>Do+Mo,0);n&&W?.id&&n({telegramId:W.id,username:ne,avatarUrl:W.photo_url,score:js,challengeId:Q,bonuses:mr,levelScores:Ka})}if(Zi(!1),pe(!1),R&&(Ga(Ft.current.time),ja(Ft.current.hint),sn(Ft.current.swap),Ta(Ft.current.wildcard)),ps(0),bs(0),Cn(0),he("bonus"),K){K.MainButton.setText("  "),K.MainButton.show();const Ya=()=>{_e("menu"),K.MainButton.hide(),K.MainButton.offClick(Ya)};K.MainButton.onClick(Ya),K.disableClosingConfirmation()}_e("results")},[ht,ne,i,n,bt,kt,qt,Qe,Ct,Kt,W,Ot,Gt,ms,R,he,qe,K,ha,Q,An,Vt.scores]),nl=()=>{if(!Yt)return;const{type:N,amount:G}=Yt.reward;switch(N){case"time":Ga(Z=>Z+G);break;case"hint":ja(Z=>Z+G);break;case"swap":sn(Z=>Z+G);break;case"wildcard":Ta(Z=>Z+G);break;case"coins":Nn(Z=>Z+G);break}he("bonus"),Fa(null)};H.useEffect(()=>{if(le==="menu"&&$a.length>0&&!Yt&&!Js&&!te&&!ee&&!P&&!ge&&!Ve&&!Wt&&!Pa){const N=$a[0];Fa(N),Je(G=>G.slice(1)),he("reward_fanfare")}},[le,$a,Yt,Js,te,ee,P,ge,Ve,Wt,Pa,he]),H.useEffect(()=>{let N;return le==="playing"&&De>0&&!te&&!ee&&!Ve&&ln===null?N=window.setInterval(()=>{Dt(G=>G-1),ps(G=>Math.max(0,G-1)),ea>0?bs(G=>G-1):_s>0&&Cn(G=>G-1)},1e3):De===0&&le==="playing"&&ta(),()=>clearInterval(N)},[le,De,te,ee,Ve,ta,ln,ea,_s]);const Dn=(N,G=!1)=>{if(At)return;if(he("click"),X(N===10?1:N===8?1.5:2),J(G),za(!1),G){Ft.current={time:qt,hint:Qe,swap:Ct,wildcard:Kt};const de=Vt.challengeId===Q&&Vt.bonuses?Vt.bonuses:{time:1,hint:1,swap:1,wildcard:1};Ga(de.time),ja(de.hint),sn(de.swap),Ta(de.wildcard)}const Z=G&&tt?tt[N]:ov(N);Ws(Z),vs([]),an([]),it(0),Dt(60),ps(0),bs(0),Cn(0),Fs(null),Rn(!1),zn(null),Rt(null),al(new Set),_e("playing"),K?.enableClosingConfirmation(),K?.MainButton.hide()},Va=H.useMemo(()=>{if(!mt)return new Set;const N=new Set,G=[...tn];for(const Z of mt.toLowerCase()){const de=G.findIndex(Se=>Se.toLowerCase()===Z);de!==-1&&(N.add(de),G[de]="USED")}return N},[mt,tn]),sl=()=>{const N=Ps.join("").toLowerCase(),G=os();if(N.length<2)return he("error"),qe("!","bad");let Z=N,de=!1;if(N.includes("*")){const Se="^"+N.replace(/\*/g,".")+"$",fe=new RegExp(Se);if(G){const He=new Set(nn.map(Ae=>Ae.text.toLowerCase()));for(const Ae of G)if(fe.test(Ae)&&!He.has(Ae)){Z=Ae,de=!0;break}}}else{const Se=N.replace(//g,"");G&&G.has(Se)&&(de=!0)}if(!N.includes("*")&&nn.some(Se=>Se.text===Z)){he("error"),qe(" !","bad"),an([]);return}if(de){const Se=Math.round(Z.length*10*z);if(Z.length>=7){he("rare_success");const fe=Z.toLowerCase(),He=Ot.findIndex(Ae=>Ae.text===fe);if(He===-1){qe(`  : ${Z.toUpperCase()}!`,"good");const Ae=[...Ot,{text:fe,length:Z.length,score:Se}];if(gs(Ae),Ae.length%5===0){const Ht=Bu();Je(ma=>[...ma,{achievement:`: ${Ae.length} !`,reward:Ht}]),he("reward_fanfare")}}else Se>Ot[He].score?(qe(`  : ${Z.toUpperCase()}!`,"good"),gs(Ae=>Ae.map((Ht,ma)=>ma===He?{...Ht,score:Se}:Ht))):qe(`  : ${Z.toUpperCase()}!`,"good")}else he("success"),qe(`+${Se}`,"good");vs(fe=>[{text:Z,score:Se},...fe]),it(fe=>fe+Se),Ki(fe=>fe+1),mt&&Z===mt.toLowerCase()&&(zn(null),Rt(null),bs(0),Cn(0)),an([])}else he("error"),qe("  ","bad"),an([])},ws=async(N="all")=>{he("click"),ir(!0),rr(N),Da([]),Xs(null),Ma(0),Ba(!0);try{if(N==="all"){const{players:G,count:Z}=await u();if(Da(G),Ma(Z),W?.id&&g&&!G.some(Se=>Se.telegram_id===W.id)){const Se=await g(W.id);Se&&Xs(Se)}}else if(N==="daily"){const{players:G,count:Z}=await d(Q);Da(G),Ma(Z)}else{const{players:G,count:Z}=await m(Q);Da(G),Ma(Z)}}finally{Ba(!1)}},hr=async N=>{he("click"),rr(N),Da([]),Xs(null),Ma(0),Ba(!0);try{if(N==="all"){const{players:G,count:Z}=await u();Da(G),Ma(Z)}else if(N==="daily"){const{players:G,count:Z}=await d(Q);Da(G),Ma(Z)}else{const{players:G,count:Z}=await m(Q);Da(G),Ma(Z)}}finally{Ba(!1)}},ei=async N=>{if(he("click"),N.telegram_id===W?.id){oe(!0);return}if(l)try{const G=await l(N.telegram_id);let Z=0;if(g){const de=await g(N.telegram_id);de&&typeof de.rank=="number"&&(Z=de.rank)}G&&Ji({...G,rank:Z})}catch(G){console.error("    ",G)}},ti=()=>{qt<=0||(he("bonus"),Ga(N=>N-1),Dt(N=>N+15),qe("+15 !","good"))},fr=()=>{if(Wi>0){if(Ps.includes("*")){he("error");return}he("click"),an(N=>[...N,"*"]);return}Kt<=0||(he("bonus"),Ta(N=>N-1),ps(15),an(N=>[...N,"*"]),qe(" !","good"))},zt=async N=>{el(!0);try{const G=`https://ru.wiktionary.org/w/api.php?action=query&prop=revisions&rvprop=content&rvslots=main&titles=${encodeURIComponent(N.toLowerCase())}&redirects=1&format=json&origin=*`,Se=(await(await fetch(G)).json()).query.pages,fe=Object.keys(Se)[0];if(fe==="-1"){Rt("    .");return}const Ae=Se[fe].revisions[0].slots.main["*"].match(/#\s*([^{#\n][^#\n]+)/);if(Ae&&Ae[1]){let Ht=Ae[1].replace(/\[\[|\]\]/g,"").replace(/\{\{[^}]+\}\}/g,"").replace(/''+/g,"").trim();Rt(Ht?Ht.split(".")[0]+".":" ,     .")}else Rt("    .")}catch(G){console.error(" :",G),Rt("   .")}finally{el(!1)}},rn=async()=>{if(Qe<=0)return;const N=os();if(!N)return;const G=tn.join("").toLowerCase(),Z=[],de=new Set(nn.map(fe=>fe.text.toLowerCase())),Se=mt?.toLowerCase();for(const fe of N){if(fe.length<3||fe.length>5||de.has(fe)||fe===Se||tl.has(fe))continue;let He=G,Ae=!0;for(const Ht of fe){const ma=He.indexOf(Ht);if(ma===-1){Ae=!1;break}He=He.substring(0,ma)+He.substring(ma+1)}Ae&&Z.push(fe)}if(Z.length>0){he("bonus"),Z.sort((He,Ae)=>Ae.length-He.length);let fe=Z[0];al(He=>new Set(He).add(fe)),zn(fe.toUpperCase()),Rt(null),ja(He=>He-1),bs(20),Cn(5),qe(" !","good"),zt(fe)}else he("error"),qe("  ","bad")},ai=()=>{if(!(Ct<=0)){if(ea>0){he("error"),qe("     !","bad");return}he("click"),Pi||qe(" ,  ","good"),Rn(!Pi)}},Ss=N=>{he("click"),Fs(N),Rn(!1)},Uo=N=>{if(ln===null)return;const G=N.toUpperCase();if(!/[-]/.test(G)){G.length>0&&(he("error"),qe(" !","bad"));return}if(tn.includes(G)){he("error"),qe("   !","bad");return}he("bonus");const Z=[...tn];Z[ln]=G,Ws(Z),sn(de=>de-1),Fs(null)},il=N=>{const G=N.reduce((Z,de)=>Z+de.cost,0);if(qa>=G){const Z=qa-G;Nn(Z);let de=qt,Se=Qe,fe=Ct,He=Kt;return N.forEach(Ae=>{switch(Ae.type){case"time":de+=Ae.amount;break;case"hint":Se+=Ae.amount;break;case"swap":fe+=Ae.amount;break;case"wildcard":He+=Ae.amount;break}}),Ga(de),ja(Se),sn(fe),Ta(He),he("bonus"),qe(` : ${N.reduce((Ae,Ht)=>Ae+Ht.amount,0)}`,"good"),i({telegramId:W?.id,username:ne,score:kt,bonuses:{time:de,hint:Se,swap:fe,wildcard:He},rareWords:Ot,totalWords:ha,highScore:bt,daysPlayed:An,streak:Gt,coins:Z}),!0}else return he("error"),qe(" !","bad"),!1},xs=Vt.challengeId===Q,Es=xs&&Vt.scores?Object.keys(Vt.scores).map(Number):[],Mn=xs&&[10,8,6].every(N=>Vt.scores&&Object.prototype.hasOwnProperty.call(Vt.scores,N)),ni=xs&&Vt.scores?Object.values(Vt.scores).reduce((N,G)=>N+G,0):0;return At?h.jsxs("div",{className:"app-wrapper items-center justify-center p-6",children:[h.jsx("div",{className:"logo-loading text-gradient-custom drop-shadow-lg mb-8 animate-pulse"}),h.jsx("div",{className:"spinner w-8 h-8 text-indigo-600 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"}),h.jsx("p",{className:"text-sm opacity-50 mt-4 text-gray-900 dark:text-white font-bold uppercase tracking-widest",children:"..."})]}):h.jsxs("div",{className:"app-wrapper",children:[te&&h.jsx(xp,{musicVolume:lt,setMusicVolume:Ro,sfxVolume:hs,setSfxVolume:zo,theme:pt,setTheme:La,onClose:()=>pe(!1),onExit:()=>Zi(!0),playSfx:he,showExitButton:le==="playing",isAdmin:W?.id?I.includes(W.id):!1,onOpenAdmin:()=>{pe(!1),_e("admin")}}),ee&&h.jsx(Ep,{onClose:()=>w(!1),playSfx:he,bonuses:{time:qt,hint:Qe,swap:Ct,wildcard:Kt},onOpenShop:()=>{w(!1),Ea("about"),Re(!0)},showRanks:le!=="playing",onSubmitFeedback:N=>p&&p({telegramId:W?.id,username:ne,message:N}),isDailyMode:R}),Yt&&h.jsx(zp,{achievement:Yt.achievement,reward:Yt.reward,onClose:nl,playSfx:he}),ge&&h.jsx(wp,{words:Ot,onClose:()=>we(!1),playSfx:he}),Ve&&h.jsx(Ap,{coins:qa,onBuyBonuses:il,initialTab:cs,onClose:()=>{Re(!1),jn("bonuses"),xa==="about"?w(!0):xa==="achievements"&&oe(!0)},playSfx:he}),le==="admin"&&h.jsx(kp,{onClose:()=>_e("menu"),playSfx:he,fetchFeedbacks:_,addCustomWord:N=>E(N,W?.id),fetchAdminCustomWords:O,deleteCustomWord:D,updateCustomWord:L,onReply:V,onArchive:q,onDelete:Y,onBroadcast:$,onTestModal:en}),Wt&&h.jsx(Op,{onClose:()=>za(!1),onStart:N=>Dn(N,!0),playSfx:he,completedLevels:Es,currentScore:ni}),Pa&&h.jsx(Sp,{data:Mt,onClose:()=>ir(!1),playSfx:he,currentUserId:W?.id,currentUserRankData:lr,userScore:ds==="all"?kt:ni,totalPlayers:or,getUserRank:Ys,activeTab:ds,onTabChange:hr,isLoading:Co,onPlayerClick:ei}),P&&h.jsx(l0,{onClose:()=>oe(!1),playSfx:he,username:ne,avatarUrl:W?.photo_url,rank:Ys(kt),totalScore:kt,highScore:bt,streak:Gt,totalWords:ha,rareWords:Ot,bonuses:{time:qt,hint:Qe,swap:Ct,wildcard:Kt},onOpenShop:N=>{oe(!1),Ea("achievements"),N&&jn(N),Re(!0)},place:kn,daysPlayed:An,dailyPlaces:ft,coins:qa}),wt&&h.jsx(l0,{onClose:()=>Ji(null),playSfx:he,username:wt.username||"",avatarUrl:wt.avatar_url,rank:Ys(Number(wt.score)||0),totalScore:Number(wt.score)||0,highScore:wt.high_score||0,streak:wt.streak||0,totalWords:wt.total_words||0,rareWords:wt.rare_words||[],bonuses:{time:0,hint:0,swap:0,wildcard:0},onOpenShop:()=>{},place:wt.rank||0,daysPlayed:wt.days_played||0,dailyPlaces:{first:wt.daily_1_place||0,second:wt.daily_2_place||0,third:wt.daily_3_place||0},coins:0,isPublicView:!0}),le==="menu"&&h.jsx(jp,{streak:Gt,streakMilestone:Js,setStreakMilestone:Zs,hasPlayedToday:ms,openGlobalRanking:()=>ws("all"),openAchievements:()=>oe(!0),playSfx:he,setShowCollection:we,onOpenAbout:()=>w(!0),setIsMenuOpen:pe,userName:ne,totalScore:kt,highScore:bt,isDailyPlayedToday:Mn,startGame:Dn,openDailyChallenge:()=>Mn?ws("daily"):za(!0),dailyScore:ni,challengeId:Q,challengeEndTime:Ua,coins:qa,onOpenShop:N=>{N&&jn(N),Re(!0)}}),le==="results"&&h.jsx(Np,{score:ht,lastRoundRecordBeaten:ur,totalScore:kt,userName:ne,onMenu:()=>{_e("menu"),K?.MainButton.hide(),R&&(Mn||za(!0),J(!1))},newRankReached:ys,onRankModalClose:()=>{if(ys){const N=cv(ys),G=Bu(N);Je(Z=>[...Z,{achievement:"  !",reward:G}])}}}),le==="playing"&&h.jsx(Tp,{score:ht,isDailyMode:R,timeLeft:De,onOpenAbout:()=>w(!0),onOpenMenu:()=>pe(!0),hintWord:mt,isDefinitionLoading:Un,hintDefinition:Fi,foundWords:nn,currentInput:Ps,setCurrentInput:an,playSfx:he,handleAddTime:ti,bonusTimeLeft:qt,handleHint:rn,bonusHintLeft:Qe,handleWildcard:fr,bonusWildcardLeft:Kt,wildcardActiveSeconds:Wi,hintActiveSeconds:ea,toggleSwapMode:ai,bonusSwapLeft:Ct,isSwapActive:Pi,grid:tn,hintIndices:Va,startSwap:Ss,checkWord:sl,performSwap:Uo,swapTargetIdx:ln,setSwapTargetIdx:Fs,showConfirm:dr,setShowConfirm:Zi,finishGame:ta,setGrid:Ws,onOpenShop:()=>{Ea(null),Re(!0)}}),Pt&&h.jsx("div",{className:`fixed top-24 left-1/2 -translate-x-1/2 px-6 py-3 rounded-2xl font-bold text-white shadow-2xl z-[1000] animate-bounce text-center backdrop-blur-md border border-white/20 ${Pt?.type==="good"?"bg-indigo-600/90":"bg-red-500/90"}`,children:Pt?.text})]})}function Ao(i,n){var l={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(l[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(i);u<r.length;u++)n.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(i,r[u])&&(l[r[u]]=i[r[u]]);return l}function Mp(i,n,l,r){function u(d){return d instanceof l?d:new l(function(m){m(d)})}return new(l||(l=Promise))(function(d,m){function y(_){try{p(r.next(_))}catch(E){m(E)}}function g(_){try{p(r.throw(_))}catch(E){m(E)}}function p(_){_.done?d(_.value):u(_.value).then(y,g)}p((r=r.apply(i,n||[])).next())})}const Bp=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class fd extends Error{constructor(n,l="FunctionsError",r){super(n),this.name=l,this.context=r}}class Lp extends fd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class r0 extends fd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class o0 extends fd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Wu;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Wu||(Wu={}));class qp{constructor(n,{headers:l={},customFetch:r,region:u=Wu.Any}={}){this.url=n,this.headers=l,this.region=u,this.fetch=Bp(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Mp(this,arguments,void 0,function*(l,r={}){var u;let d,m;try{const{headers:y,method:g,body:p,signal:_,timeout:E}=r;let x={},{region:O}=r;O||(O=this.region);const D=new URL(`${this.url}/${l}`);O&&O!=="any"&&(x["x-region"]=O,D.searchParams.set("forceFunctionRegion",O));let L;p&&(y&&!Object.prototype.hasOwnProperty.call(y,"Content-Type")||!y)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",L=p):typeof p=="string"?(x["Content-Type"]="text/plain",L=p):typeof FormData<"u"&&p instanceof FormData?L=p:(x["Content-Type"]="application/json",L=JSON.stringify(p)):L=p;let V=_;E&&(m=new AbortController,d=setTimeout(()=>m.abort(),E),_?(V=m.signal,_.addEventListener("abort",()=>m.abort())):V=m.signal);const q=yield this.fetch(D.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),y),body:L,signal:V}).catch(W=>{throw new Lp(W)}),Y=q.headers.get("x-relay-error");if(Y&&Y==="true")throw new r0(q);if(!q.ok)throw new o0(q);let $=((u=q.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),K;return $==="application/json"?K=yield q.json():$==="application/octet-stream"||$==="application/pdf"?K=yield q.blob():$==="text/event-stream"?K=q:$==="multipart/form-data"?K=yield q.formData():K=yield q.text(),{data:K,error:null,response:q}}catch(y){return{data:null,error:y,response:y instanceof o0||y instanceof r0?y.context:void 0}}finally{d&&clearTimeout(d)}})}}var Hp=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},$p=class{constructor(i){var n,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let u=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let m=null,y=null,g=null,p=d.status,_=d.statusText;if(d.ok){var E,x;if(l.method!=="HEAD"){var O;const q=await d.text();q===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((O=l.headers.get("Accept"))===null||O===void 0)&&O.includes("application/vnd.pgrst.plan+text"))?y=q:y=JSON.parse(q))}const L=(E=l.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),V=(x=d.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");L&&V&&V.length>1&&(g=parseInt(V[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,p=406,_="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{var D;const L=await d.text();try{m=JSON.parse(L),Array.isArray(m)&&d.status===404&&(y=[],m=null,p=200,_="OK")}catch{d.status===404&&L===""?(p=204,_="No Content"):m={message:L}}if(m&&l.isMaybeSingle&&(!(m==null||(D=m.details)===null||D===void 0)&&D.includes("0 rows"))&&(m=null,p=200,_="OK"),m&&l.shouldThrowOnError)throw new Hp(m)}return{error:m,data:y,count:g,status:p,statusText:_}});return this.shouldThrowOnError||(u=u.catch(d=>{var m;let y="";const g=d?.cause;if(g){var p,_,E,x;const D=(p=g?.message)!==null&&p!==void 0?p:"",L=(_=g?.code)!==null&&_!==void 0?_:"";y=`${(E=d?.name)!==null&&E!==void 0?E:"FetchError"}: ${d?.message}`,y+=`

Caused by: ${(x=g?.name)!==null&&x!==void 0?x:"Error"}: ${D}`,L&&(y+=` (${L})`),g?.stack&&(y+=`
${g.stack}`)}else{var O;y=(O=d?.stack)!==null&&O!==void 0?O:""}return{error:{message:`${(m=d?.name)!==null&&m!==void 0?m:"FetchError"}: ${d?.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,n)}returns(){return this}overrideTypes(){return this}},Gp=class extends $p{select(i){let n=!1;const l=(i??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:l,foreignTable:r,referencedTable:u=r}={}){const d=u?`${u}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${i}.${n?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:l=n}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,n,{foreignTable:l,referencedTable:r=l}={}){const u=typeof r>"u"?"offset":`${r}.offset`,d=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:l=!1,buffers:r=!1,wal:u=!1,format:d="text"}={}){var m;const y=[i?"analyze":null,n?"verbose":null,l?"settings":null,r?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${y};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const c0=new RegExp("[,()]");var Hi=class extends Gp{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&c0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}notIn(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&c0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`not.in.(${l})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:l,type:r}={}){let u="";r==="plain"?u="pl":r==="phrase"?u="ph":r==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${n}`),this}match(i){return Object.entries(i).forEach(([n,l])=>{this.url.searchParams.append(n,`eq.${l}`)}),this}not(i,n,l){return this.url.searchParams.append(i,`not.${n}.${l}`),this}or(i,{foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,n,l){return this.url.searchParams.append(i,`${n}.${l}`),this}},Vp=class{constructor(i,{headers:n={},schema:l,fetch:r}){this.url=i,this.headers=new Headers(n),this.schema=l,this.fetch=r}select(i,n){const{head:l=!1,count:r}=n??{},u=l?"HEAD":"GET";let d=!1;const m=(i??"*").split("").map(y=>/\s/.test(y)&&!d?"":(y==='"'&&(d=!d),y)).join("");return this.url.searchParams.set("select",m),r&&this.headers.append("Prefer",`count=${r}`),new Hi({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:l=!0}={}){var r;const u="POST";if(n&&this.headers.append("Prefer",`count=${n}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(d.length>0){const m=[...new Set(d)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new Hi({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:l=!1,count:r,defaultToNull:u=!0}={}){var d;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),r&&this.headers.append("Prefer",`count=${r}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(y.length>0){const g=[...new Set(y)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new Hi({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:n}={}){var l;const r="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Hi({method:r,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var n;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new Hi({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Yp=class q0{constructor(n,{headers:l={},schema:r,fetch:u}={}){this.url=n,this.headers=new Headers(l),this.schemaName=r,this.fetch=u}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Vp(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new q0(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,l={},{head:r=!1,get:u=!1,count:d}={}){var m;let y;const g=new URL(`${this.url}/rpc/${n}`);let p;r||u?(y=r?"HEAD":"GET",Object.entries(l).filter(([E,x])=>x!==void 0).map(([E,x])=>[E,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([E,x])=>{g.searchParams.append(E,x)})):(y="POST",p=l);const _=new Headers(this.headers);return d&&_.set("Prefer",`count=${d}`),new Hi({method:y,url:g,headers:_,schema:this.schemaName,body:p,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};class Kp{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const r=l.node,u=parseInt(r.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const r=this.getWebSocketConstructor();return new r(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Ip="2.89.0",Qp=`realtime-js/${Ip}`,H0="1.0.0",Xp="2.0.0",u0=H0,Pu=1e4,Jp=1e3,Zp=100;var ls;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(ls||(ls={}));var yt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(yt||(yt={}));var Ra;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Ra||(Ra={}));var Fu;(function(i){i.websocket="websocket"})(Fu||(Fu={}));var Ks;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Ks||(Ks={}));class Wp{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,l){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var l;return this._isArrayBuffer((l=n.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var l,r;const u=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var l,r;const u=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},m=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,m)}_encodeUserBroadcastPush(n,l,r){var u,d;const m=n.topic,y=(u=n.ref)!==null&&u!==void 0?u:"",g=(d=n.join_ref)!==null&&d!==void 0?d:"",p=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},E=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`ref length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`topic length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`metadata length ${E.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+y.length+m.length+p.length+E.length,O=new ArrayBuffer(this.HEADER_LENGTH+x);let D=new DataView(O),L=0;D.setUint8(L++,this.KINDS.userBroadcastPush),D.setUint8(L++,g.length),D.setUint8(L++,y.length),D.setUint8(L++,m.length),D.setUint8(L++,p.length),D.setUint8(L++,E.length),D.setUint8(L++,l),Array.from(g,q=>D.setUint8(L++,q.charCodeAt(0))),Array.from(y,q=>D.setUint8(L++,q.charCodeAt(0))),Array.from(m,q=>D.setUint8(L++,q.charCodeAt(0))),Array.from(p,q=>D.setUint8(L++,q.charCodeAt(0))),Array.from(E,q=>D.setUint8(L++,q.charCodeAt(0)));var V=new Uint8Array(O.byteLength+r.byteLength);return V.set(new Uint8Array(O),0),V.set(new Uint8Array(r),O.byteLength),V.buffer}decode(n,l){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return l(r)}if(typeof n=="string"){const r=JSON.parse(n),[u,d,m,y,g]=r;return l({join_ref:u,ref:d,topic:m,event:y,payload:g})}return l({})}_binaryDecode(n){const l=new DataView(n),r=l.getUint8(0),u=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,l,u)}_decodeUserBroadcast(n,l,r){const u=l.getUint8(1),d=l.getUint8(2),m=l.getUint8(3),y=l.getUint8(4);let g=this.HEADER_LENGTH+4;const p=r.decode(n.slice(g,g+u));g=g+u;const _=r.decode(n.slice(g,g+d));g=g+d;const E=r.decode(n.slice(g,g+m));g=g+m;const x=n.slice(g,n.byteLength),O=y===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,D={type:this.BROADCAST_EVENT,event:_,payload:O};return m>0&&(D.meta=JSON.parse(E)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:D}}_isArrayBuffer(n){var l;return n instanceof ArrayBuffer||((l=n?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(n,l){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>l.includes(r)))}}class $0{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ge||(Ge={}));const d0=(i,n,l={})=>{var r;const u=(r=l.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((d,m)=>(d[m]=Pp(m,i,n,u),d),{}):{}},Pp=(i,n,l,r)=>{const u=n.find(y=>y.name===i),d=u?.type,m=l[i];return d&&!r.includes(d)?G0(d,m):ed(m)},G0=(i,n)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return ab(n,l)}switch(i){case Ge.bool:return Fp(n);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return eb(n);case Ge.json:case Ge.jsonb:return tb(n);case Ge.timestamp:return nb(n);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return ed(n);default:return ed(n)}},ed=i=>i,Fp=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},eb=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},tb=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},ab=(i,n)=>{if(typeof i!="string")return i;const l=i.length-1,r=i[l];if(i[0]==="{"&&r==="}"){let d;const m=i.slice(1,l);try{d=JSON.parse("["+m+"]")}catch{d=m?m.split(","):[]}return d.map(y=>G0(n,y))}return i},nb=i=>typeof i=="string"?i.replace(" ","T"):i,V0=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Lu{constructor(n,l,r={},u=Pu){this.channel=n,this.event=l,this.payload=r,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var r;return this._hasReceived(n)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var h0;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(h0||(h0={}));class Il{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},u=>{const{onJoin:d,onLeave:m,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Il.syncState(this.state,u,d,m),this.pendingDiffs.forEach(g=>{this.state=Il.syncDiff(this.state,g,d,m)}),this.pendingDiffs=[],y()}),this.channel._on(r.diff,{},u=>{const{onJoin:d,onLeave:m,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Il.syncDiff(this.state,u,d,m),y())}),this.onJoin((u,d,m)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:m})}),this.onLeave((u,d,m)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,r,u){const d=this.cloneDeep(n),m=this.transformState(l),y={},g={};return this.map(d,(p,_)=>{m[p]||(g[p]=_)}),this.map(m,(p,_)=>{const E=d[p];if(E){const x=_.map(V=>V.presence_ref),O=E.map(V=>V.presence_ref),D=_.filter(V=>O.indexOf(V.presence_ref)<0),L=E.filter(V=>x.indexOf(V.presence_ref)<0);D.length>0&&(y[p]=D),L.length>0&&(g[p]=L)}else y[p]=_}),this.syncDiff(d,{joins:y,leaves:g},r,u)}static syncDiff(n,l,r,u){const{joins:d,leaves:m}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),u||(u=()=>{}),this.map(d,(y,g)=>{var p;const _=(p=n[y])!==null&&p!==void 0?p:[];if(n[y]=this.cloneDeep(g),_.length>0){const E=n[y].map(O=>O.presence_ref),x=_.filter(O=>E.indexOf(O.presence_ref)<0);n[y].unshift(...x)}r(y,_,g)}),this.map(m,(y,g)=>{let p=n[y];if(!p)return;const _=g.map(E=>E.presence_ref);p=p.filter(E=>_.indexOf(E.presence_ref)<0),n[y]=p,u(y,p,g),p.length===0&&delete n[y]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(r=>l(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,r)=>{const u=n[r];return"metas"in u?l[r]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[r]=u,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var f0;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(f0||(f0={}));var Ql;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ql||(Ql={}));var xn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(xn||(xn={}));class Vi{constructor(n,l={config:{}},r){var u,d;if(this.topic=n,this.params=l,this.socket=r,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Lu(this,Ra.join,this.params,this.timeout),this.rejoinTimer=new $0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ra.reply,{},(m,y)=>{this._trigger(this._replyEventName(y),m)}),this.presence=new Il(this),this.broadcastEndpointURL=V0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var r,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:m,presence:y,private:g}}=this.params,p=(u=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(O=>O.filter))!==null&&u!==void 0?u:[],_=!!this.bindings[Ql.PRESENCE]&&this.bindings[Ql.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,E={},x={broadcast:m,presence:Object.assign(Object.assign({},y),{enabled:_}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(O=>n?.(xn.CHANNEL_ERROR,O)),this._onClose(()=>n?.(xn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},E)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:O})=>{var D;if(this.socket._isManualToken()||this.socket.setAuth(),O===void 0){n?.(xn.SUBSCRIBED);return}else{const L=this.bindings.postgres_changes,V=(D=L?.length)!==null&&D!==void 0?D:0,q=[];for(let Y=0;Y<V;Y++){const $=L[Y],{filter:{event:K,schema:W,table:ne,filter:I}}=$,le=O&&O[Y];if(le&&le.event===K&&Vi.isFilterValueEqual(le.schema,W)&&Vi.isFilterValueEqual(le.table,ne)&&Vi.isFilterValueEqual(le.filter,I))q.push(Object.assign(Object.assign({},$),{id:le.id}));else{this.unsubscribe(),this.state=yt.errored,n?.(xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,n&&n(xn.SUBSCRIBED);return}}).receive("error",O=>{this.state=yt.errored,n?.(xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{n?.(xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,l={}){return await this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,l,r){return this.state===yt.joined&&n===Ql.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,l,r)}async httpSend(n,l,r={}){var u;if(l==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(u=r.timeout)!==null&&u!==void 0?u:this.timeout);if(y.status===202)return{success:!0};let g=y.statusText;try{const p=await y.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(n,l={}){var r,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:m}=n,y={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(y.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:y,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:m,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var m,y,g;const p=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(y=(m=this.params)===null||m===void 0?void 0:m.config)===null||y===void 0?void 0:y.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=yt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ra.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(u=>{r=new Lu(this,Ra.leave,{},n),r.receive("ok",()=>{l(),u("ok")}).receive("timeout",()=>{l(),u("timed out")}).receive("error",()=>{u("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(n,l,r){const u=new AbortController,d=setTimeout(()=>u.abort(),r),m=await this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:u.signal}));return clearTimeout(d),m}_push(n,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Lu(this,n,l,r);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Zp){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,r){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,r){var u,d;const m=n.toLocaleLowerCase(),{close:y,error:g,leave:p,join:_}=Ra;if(r&&[y,g,p,_].indexOf(m)>=0&&r!==this._joinRef())return;let x=this._onMessage(m,l,r);if(l&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(O=>{var D,L,V;return((D=O.filter)===null||D===void 0?void 0:D.event)==="*"||((V=(L=O.filter)===null||L===void 0?void 0:L.event)===null||V===void 0?void 0:V.toLocaleLowerCase())===m}).map(O=>O.callback(x,r)):(d=this.bindings[m])===null||d===void 0||d.filter(O=>{var D,L,V,q,Y,$;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in O){const K=O.id,W=(D=O.filter)===null||D===void 0?void 0:D.event;return K&&((L=l.ids)===null||L===void 0?void 0:L.includes(K))&&(W==="*"||W?.toLocaleLowerCase()===((V=l.data)===null||V===void 0?void 0:V.type.toLocaleLowerCase()))}else{const K=(Y=(q=O?.filter)===null||q===void 0?void 0:q.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return K==="*"||K===(($=l?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===m}).map(O=>{if(typeof x=="object"&&"ids"in x){const D=x.data,{schema:L,table:V,commit_timestamp:q,type:Y,errors:$}=D;x=Object.assign(Object.assign({},{schema:L,table:V,commit_timestamp:q,eventType:Y,new:{},old:{},errors:$}),this._getPayloadRecords(D))}O.callback(x,r)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,r){const u=n.toLocaleLowerCase(),d={type:u,filter:l,callback:r};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,l){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&Vi.isEqual(u.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const r in n)if(n[r]!==l[r])return!1;return!0}static isFilterValueEqual(n,l){return(n??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ra.close,{},n)}_onError(n){this._on(Ra.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=d0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=d0(n.columns,n.old_record)),l}}const qu=()=>{},bo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sb=[1e3,2e3,5e3,1e4],ib=1e4,lb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rb{constructor(n,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pu,this.transport=null,this.heartbeatIntervalMs=bo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qu,this.ref=0,this.reconnectTimer=null,this.vsn=u0,this.logger=qu,this.conn=null,this.sendBuffer=[],this.serializer=new Wp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((r=l?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${Fu.websocket}`,this.httpEndpoint=V0(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kp.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const l=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const n=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,l,r){this.logger(n,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ls.connecting:return Ks.Connecting;case ls.open:return Ks.Open;case ls.closing:return Ks.Closing;default:return Ks.Closed}}isConnected(){return this.connectionState()===Ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const r=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===r);if(u)return u;{const d=new Vi(`realtime:${n}`,l,this);return this.channels.push(d),d}}push(n){const{topic:l,event:r,payload:u,ref:d}=n,m=()=>{this.encode(n,y=>{var g;(g=this.conn)===null||g===void 0||g.send(y)})};this.log("push",`${l} ${r} (${d})`,u),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Jp,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},bo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:u,payload:d,ref:m}=l,y=m?`(${m})`:"",g=d.status||"";this.log("receive",`${g} ${r} ${u} ${y}`.trim(),d),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(u,d,m)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ls.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ls.open||this.conn.readyState===ls.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ra.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const r=n.match(/\?/)?"&":"?",u=new URLSearchParams(l);return`${n}${r}${u}`}_workerObjectUrl(n){let l;if(n)l=n;else{const r=new Blob([lb],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(n=null){let l,r=!1;if(n)l=n,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(u=>{const d={access_token:l,version:Qp};l&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(Ra.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(l)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var l,r,u,d,m,y,g,p,_,E,x,O;switch(this.transport=(l=n?.transport)!==null&&l!==void 0?l:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:Pu,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:bo.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(m=n?.accessToken)!==null&&m!==void 0?m:null,this.heartbeatCallback=(y=n?.heartbeatCallback)!==null&&y!==void 0?y:qu,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:u0,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(D=>sb[D-1]||ib),this.vsn){case H0:this.encode=(_=n?.encode)!==null&&_!==void 0?_:((D,L)=>L(JSON.stringify(D))),this.decode=(E=n?.decode)!==null&&E!==void 0?E:((D,L)=>L(JSON.parse(D)));break;case Xp:this.encode=(x=n?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(O=n?.decode)!==null&&O!==void 0?O:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Xl=class extends Error{constructor(i,n){super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ob(i,n,l){const r=new URL(n,i);if(l)for(const[u,d]of Object.entries(l))d!==void 0&&r.searchParams.set(u,d);return r.toString()}async function cb(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function ub(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:u,body:d,headers:m}){const y=ob(i.baseUrl,r,u),g=await cb(i.auth),p=await n(y,{method:l,headers:{...d?{"Content-Type":"application/json"}:{},...g,...m},body:d?JSON.stringify(d):void 0}),_=await p.text(),E=(p.headers.get("content-type")||"").includes("application/json"),x=E&&_?JSON.parse(_):_;if(!p.ok){const O=E?x:void 0,D=O?.error;throw new Xl(D?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:D?.type,icebergCode:D?.code,details:O})}return{status:p.status,headers:p.headers,data:x}}}}function _o(i){return i.join("")}var db=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:_o(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,n){const l={namespace:i.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_o(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_o(i.namespace)}`}),!0}catch(n){if(n instanceof Xl&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(l){if(l instanceof Xl&&l.status===409)return;throw l}}};function Ui(i){return i.join("")}var hb=class{constructor(i,n="",l){this.client=i,this.prefix=n,this.accessDelegation=l}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ui(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ui(i.namespace)}/tables`,body:n,headers:l})).data.metadata}async updateTable(i,n){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ui(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ui(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ui(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ui(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(l){if(l instanceof Xl&&l.status===404)return!1;throw l}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(l){if(l instanceof Xl&&l.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw l}}},fb=class{constructor(i){let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const l=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=ub({baseUrl:l,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new db(this.client,n),this.tableOps=new hb(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},ko=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Ze(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var mb=class extends ko{constructor(i,n,l){super(i),this.name="StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},td=class extends ko{constructor(i,n){super(i),this.name="StorageUnknownError",this.originalError=n}};const md=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),gb=()=>Response,ad=i=>{if(Array.isArray(i))return i.map(l=>ad(l));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([l,r])=>{const u=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=ad(r)}),n},yb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},vb=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Jl(i){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jl(i)}function pb(i,n){if(Jl(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function bb(i){var n=pb(i,"string");return Jl(n)=="symbol"?n:n+""}function _b(i,n,l){return(n=bb(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function m0(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),l.push.apply(l,r)}return l}function ue(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?m0(Object(l),!0).forEach(function(r){_b(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):m0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const Hu=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},wb=async(i,n,l)=>{i instanceof await gb()&&!l?.noResolveJson?i.json().then(r=>{const u=i.status||500,d=r?.statusCode||u+"";n(new mb(Hu(r),u,d))}).catch(r=>{n(new td(Hu(r),r))}):n(new td(Hu(i),i))},Sb=(i,n,l,r)=>{const u={method:i,headers:n?.headers||{}};return i==="GET"||!r?u:(yb(r)?(u.headers=ue({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(r)):u.body=r,n?.duplex&&(u.duplex=n.duplex),ue(ue({},u),l))};async function sr(i,n,l,r,u,d){return new Promise((m,y)=>{i(l,Sb(n,r,u,d)).then(g=>{if(!g.ok)throw g;return r?.noResolveJson?g:g.json()}).then(g=>m(g)).catch(g=>wb(g,y,r))})}async function Zl(i,n,l,r){return sr(i,"GET",n,l,r)}async function Ca(i,n,l,r,u){return sr(i,"POST",n,r,u,l)}async function nd(i,n,l,r,u){return sr(i,"PUT",n,r,u,l)}async function xb(i,n,l,r){return sr(i,"HEAD",n,ue(ue({},l),{},{noResolveJson:!0}),r)}async function gd(i,n,l,r,u){return sr(i,"DELETE",n,r,u,l)}var Eb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}};let Y0;Y0=Symbol.toStringTag;var jb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[Y0]="BlobDownloadBuilder",this.promise=null}asStream(){return new Eb(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}};const Tb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},g0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Nb=class{constructor(i,n={},l,r){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.bucketId=l,this.fetch=md(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,n,l,r){var u=this;try{let d;const m=ue(ue({},g0),r);let y=ue(ue({},u.headers),i==="POST"&&{"x-upsert":String(m.upsert)});const g=m.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),g&&d.append("metadata",u.encodeMetadata(g)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.has("cacheControl")||d.append("cacheControl",m.cacheControl),g&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(g))):(d=l,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType,g&&(y["x-metadata"]=u.toBase64(u.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!m.duplex&&(m.duplex="half")),r?.headers&&(y=ue(ue({},y),r.headers));const p=u._removeEmptyFolders(n),_=u._getFinalPath(p),E=await(i=="PUT"?nd:Ca)(u.fetch,`${u.url}/object/${_}`,d,ue({headers:y},m?.duplex?{duplex:m.duplex}:{}));return{data:{path:p,id:E.Id,fullPath:E.Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Ze(d))return{data:null,error:d};throw d}}async upload(i,n,l){return this.uploadOrUpdate("POST",i,n,l)}async uploadToSignedUrl(i,n,l,r){var u=this;const d=u._removeEmptyFolders(i),m=u._getFinalPath(d),y=new URL(u.url+`/object/upload/sign/${m}`);y.searchParams.set("token",n);try{let g;const p=ue({upsert:g0.upsert},r),_=ue(ue({},u.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&l instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",l)):typeof FormData<"u"&&l instanceof FormData?(g=l,g.append("cacheControl",p.cacheControl)):(g=l,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType),{data:{path:d,fullPath:(await nd(u.fetch,y.toString(),g,{headers:_})).Key},error:null}}catch(g){if(u.shouldThrowOnError)throw g;if(Ze(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(i,n){var l=this;try{let r=l._getFinalPath(i);const u=ue({},l.headers);n?.upsert&&(u["x-upsert"]="true");const d=await Ca(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:u}),m=new URL(l.url+d.url),y=m.searchParams.get("token");if(!y)throw new ko("No token returned by API");return{data:{signedUrl:m.toString(),path:i,token:y},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}}async update(i,n,l){return this.uploadOrUpdate("PUT",i,n,l)}async move(i,n,l){var r=this;try{return{data:await Ca(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers}),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}}async copy(i,n,l){var r=this;try{return{data:{path:(await Ca(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}}async createSignedUrl(i,n,l){var r=this;try{let u=r._getFinalPath(i),d=await Ca(r.fetch,`${r.url}/object/sign/${u}`,ue({expiresIn:n},l?.transform?{transform:l.transform}:{}),{headers:r.headers});const m=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${r.url}${d.signedURL}${m}`)},{data:d,error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}}async createSignedUrls(i,n,l){var r=this;try{const u=await Ca(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:i},{headers:r.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(m=>ue(ue({},m),{},{signedUrl:m.signedURL?encodeURI(`${r.url}${m.signedURL}${d}`):null})),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}}download(i,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),u=r?`?${r}`:"",d=this._getFinalPath(i),m=()=>Zl(this.fetch,`${this.url}/${l}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new jb(m,this.shouldThrowOnError)}async info(i){var n=this;const l=n._getFinalPath(i);try{return{data:ad(await Zl(n.fetch,`${n.url}/object/info/${l}`,{headers:n.headers})),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}}async exists(i){var n=this;const l=n._getFinalPath(i);try{return await xb(n.fetch,`${n.url}/object/${l}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ze(r)&&r instanceof td){const u=r.originalError;if([400,404].includes(u?.status))return{data:!1,error:r}}throw r}}getPublicUrl(i,n){const l=this._getFinalPath(i),r=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&r.push(u);const d=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&r.push(m);let y=r.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${l}${y}`)}}}async remove(i){var n=this;try{return{data:await gd(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async list(i,n,l){var r=this;try{const u=ue(ue(ue({},Tb),n),{},{prefix:i||""});return{data:await Ca(r.fetch,`${r.url}/object/list/${r.bucketId}`,u,{headers:r.headers},l),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}}async listV2(i,n){var l=this;try{const r=ue({},i);return{data:await Ca(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},n),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const K0="2.89.0",I0={"X-Client-Info":`storage-js/${K0}`};var Ab=class{constructor(i,n={},l,r){this.shouldThrowOnError=!1;const u=new URL(i);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=ue(ue({},I0),n),this.fetch=md(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var n=this;try{const l=n.listBucketOptionsToQueryString(i);return{data:await Zl(n.fetch,`${n.url}/bucket${l}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async getBucket(i){var n=this;try{return{data:await Zl(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async createBucket(i,n={public:!1}){var l=this;try{return{data:await Ca(l.fetch,`${l.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}}async updateBucket(i,n){var l=this;try{return{data:await nd(l.fetch,`${l.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}}async emptyBucket(i){var n=this;try{return{data:await Ca(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async deleteBucket(i){var n=this;try{return{data:await gd(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},kb=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ue(ue({},I0),n),this.fetch=md(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await Ca(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async listBuckets(i){var n=this;try{const l=new URLSearchParams;i?.limit!==void 0&&l.set("limit",i.limit.toString()),i?.offset!==void 0&&l.set("offset",i.offset.toString()),i?.sortColumn&&l.set("sortColumn",i.sortColumn),i?.sortOrder&&l.set("sortOrder",i.sortOrder),i?.search&&l.set("search",i.search);const r=l.toString(),u=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return{data:await Zl(n.fetch,u,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async deleteBucket(i){var n=this;try{return{data:await gd(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}from(i){var n=this;if(!vb(i))throw new ko("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new fb({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(u,d){const m=u[d];return typeof m!="function"?m:async(...y)=>{try{return{data:await m.apply(u,y),error:null}}catch(g){if(r)throw g;return{data:null,error:g}}}}})}};const yd={"X-Client-Info":`storage-js/${K0}`,"Content-Type":"application/json"};var Q0=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ua(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var $u=class extends Q0{constructor(i,n,l){super(i),this.name="StorageVectorsApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ob=class extends Q0{constructor(i,n){super(i),this.name="StorageVectorsUnknownError",this.originalError=n}};const vd=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Cb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},y0=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Rb=async(i,n,l)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!l?.noResolveJson){const r=i.status||500,u=i;if(typeof u.json=="function")u.json().then(d=>{const m=d?.statusCode||d?.code||r+"";n(new $u(y0(d),r,m))}).catch(()=>{const d=r+"";n(new $u(u.statusText||`HTTP ${r} error`,r,d))});else{const d=r+"";n(new $u(u.statusText||`HTTP ${r} error`,r,d))}}else n(new Ob(y0(i),i))},zb=(i,n,l,r)=>{const u={method:i,headers:n?.headers||{}};return r?(Cb(r)?(u.headers=ue({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(r)):u.body=r,ue(ue({},u),l)):u};async function Ub(i,n,l,r,u,d){return new Promise((m,y)=>{i(l,zb(n,r,u,d)).then(g=>{if(!g.ok)throw g;if(r?.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>m(g)).catch(g=>Rb(g,y,r))})}async function da(i,n,l,r,u){return Ub(i,"POST",n,r,u,l)}var Db=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ue(ue({},yd),n),this.fetch=vd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var n=this;try{return{data:await da(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}}async getIndex(i,n){var l=this;try{return{data:await da(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(ua(r))return{data:null,error:r};throw r}}async listIndexes(i){var n=this;try{return{data:await da(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}}async deleteIndex(i,n){var l=this;try{return{data:await da(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers})||{},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(ua(r))return{data:null,error:r};throw r}}},Mb=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ue(ue({},yd),n),this.fetch=vd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var n=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await da(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}}async getVectors(i){var n=this;try{return{data:await da(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}}async listVectors(i){var n=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await da(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}}async queryVectors(i){var n=this;try{return{data:await da(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}}async deleteVectors(i){var n=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await da(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}}},Bb=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ue(ue({},yd),n),this.fetch=vd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await da(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}}async getBucket(i){var n=this;try{return{data:await da(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}}async listBuckets(i={}){var n=this;try{return{data:await da(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}}async deleteBucket(i){var n=this;try{return{data:await da(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}}},Lb=class extends Bb{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new qb(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,l=this;return n().call(l,i)}async getBucket(i){var n=()=>super.getBucket,l=this;return n().call(l,i)}async listBuckets(i={}){var n=()=>super.listBuckets,l=this;return n().call(l,i)}async deleteBucket(i){var n=()=>super.deleteBucket,l=this;return n().call(l,i)}},qb=class extends Db{constructor(i,n,l,r){super(i,n,r),this.vectorBucketName=l}async createIndex(i){var n=()=>super.createIndex,l=this;return n().call(l,ue(ue({},i),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,l=this;return n().call(l,ue(ue({},i),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,l=this;return n().call(l,l.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,l=this;return n().call(l,l.vectorBucketName,i)}index(i){return new Hb(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},Hb=class extends Mb{constructor(i,n,l,r,u){super(i,n,u),this.vectorBucketName=l,this.indexName=r}async putVectors(i){var n=()=>super.putVectors,l=this;return n().call(l,ue(ue({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(i){var n=()=>super.getVectors,l=this;return n().call(l,ue(ue({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,l=this;return n().call(l,ue(ue({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,l=this;return n().call(l,ue(ue({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,l=this;return n().call(l,ue(ue({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},$b=class extends Ab{constructor(i,n={},l,r){super(i,n,l,r)}from(i){return new Nb(this.url,this.headers,i,this.fetch)}get vectors(){return new Lb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kb(this.url+"/iceberg",this.headers,this.fetch)}};const X0="2.89.0",$i=30*1e3,sd=3,Gu=sd*$i,Gb="http://localhost:9999",Vb="supabase.auth.token",Yb={"X-Client-Info":`gotrue-js/${X0}`},id="X-Supabase-Api-Version",J0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ib=600*1e3;class Wl extends Error{constructor(n,l,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function se(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Qb extends Wl{constructor(n,l,r){super(n,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function Xb(i){return se(i)&&i.name==="AuthApiError"}class Is extends Wl{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class En extends Wl{constructor(n,l,r,u){super(n,r,u),this.name=l,this.status=r}}class ca extends En{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jb(i){return se(i)&&i.name==="AuthSessionMissingError"}class Di extends En{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wo extends En{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class So extends En{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zb(i){return se(i)&&i.name==="AuthImplicitGrantRedirectError"}class v0 extends En{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wb extends En{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ld extends En{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function Vu(i){return se(i)&&i.name==="AuthRetryableFetchError"}class p0 extends En{constructor(n,l,r){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class rd extends En{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),b0=` 	
\r=`.split(""),Pb=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<b0.length;n+=1)i[b0[n].charCodeAt(0)]=-2;for(let n=0;n<jo.length;n+=1)i[jo[n].charCodeAt(0)]=n;return i})();function _0(i,n,l){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(jo[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(jo[r]),n.queuedBits-=6}}function Z0(i,n,l){const r=Pb[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function w0(i){const n=[],l=m=>{n.push(String.fromCodePoint(m))},r={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=m=>{t_(m,r,l)};for(let m=0;m<i.length;m+=1)Z0(i.charCodeAt(m),u,d);return n.join("")}function Fb(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function e_(i,n){for(let l=0;l<i.length;l+=1){let r=i.charCodeAt(l);if(r>55295&&r<=56319){const u=(r-55296)*1024&65535;r=(i.charCodeAt(l+1)-56320&65535|u)+65536,l+=1}Fb(r,n)}}function t_(i,n,l){if(n.utf8seq===0){if(i<=127){l(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function Yi(i){const n=[],l={queue:0,queuedBits:0},r=u=>{n.push(u)};for(let u=0;u<i.length;u+=1)Z0(i.charCodeAt(u),l,r);return new Uint8Array(n)}function a_(i){const n=[];return e_(i,l=>n.push(l)),new Uint8Array(n)}function Qs(i){const n=[],l={queue:0,queuedBits:0},r=u=>{n.push(u)};return i.forEach(u=>_0(u,l,r)),_0(null,l,r),n.join("")}function n_(i){return Math.round(Date.now()/1e3)+i}function s_(){return Symbol("auth-callback")}const Nt=()=>typeof window<"u"&&typeof document<"u",$s={tested:!1,writable:!1},W0=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($s.tested)return $s.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),$s.tested=!0,$s.writable=!0}catch{$s.tested=!0,$s.writable=!1}return $s.writable};function i_(i){const n={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch{}return l.searchParams.forEach((r,u)=>{n[u]=r}),n}const P0=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),l_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Gi=async(i,n,l)=>{await i.setItem(n,JSON.stringify(l))},Gs=async(i,n)=>{const l=await i.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch{return l}},Tt=async(i,n)=>{await i.removeItem(n)};class Oo{constructor(){this.promise=new Oo.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}Oo.promiseConstructor=Promise;function Yu(i){const n=i.split(".");if(n.length!==3)throw new rd("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Kb.test(n[r]))throw new rd("JWT not in base64url format");return{header:JSON.parse(w0(n[0])),payload:JSON.parse(w0(n[1])),signature:Yi(n[2]),raw:{header:n[0],payload:n[1]}}}async function r_(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function o_(i,n){return new Promise((r,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const m=await i(d);if(!n(d,null,m)){r(m);return}}catch(m){if(!n(d,m)){u(m);return}}})()})}function c_(i){return("0"+i.toString(16)).substr(-2)}function u_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let u="";for(let d=0;d<56;d++)u+=l.charAt(Math.floor(Math.random()*r));return u}return crypto.getRandomValues(n),Array.from(n,c_).join("")}async function d_(i){const l=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",l),u=new Uint8Array(r);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function h_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const l=await d_(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mi(i,n,l=!1){const r=u_();let u=r;l&&(u+="/PASSWORD_RECOVERY"),await Gi(i,`${n}-code-verifier`,u);const d=await h_(r);return[d,r===d?"plain":"s256"]}const f_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function m_(i){const n=i.headers.get(id);if(!n||!n.match(f_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function g_(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function y_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const v_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bi(i){if(!v_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ku(){const i={};return new Proxy(i,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function p_(i,n){return new Proxy(i,{get:(l,r,u)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,u)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(l,r,u)}})}function S0(i){return JSON.parse(JSON.stringify(i))}const Vs=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),b_=[502,503,504];async function x0(i){var n;if(!l_(i))throw new ld(Vs(i),0);if(b_.includes(i.status))throw new ld(Vs(i),i.status);let l;try{l=await i.json()}catch(d){throw new Is(Vs(d),d)}let r;const u=m_(i);if(u&&u.getTime()>=J0["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new p0(Vs(l),i.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new ca}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,m)=>d&&typeof m=="string",!0))throw new p0(Vs(l),i.status,l.weak_password.reasons);throw new Qb(Vs(l),i.status||500,r)}const __=(i,n,l,r)=>{const u={method:i,headers:n?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(r),Object.assign(Object.assign({},u),l))};async function ce(i,n,l,r){var u;const d=Object.assign({},r?.headers);d[id]||(d[id]=J0["2024-01-01"].name),r?.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const m=(u=r?.query)!==null&&u!==void 0?u:{};r?.redirectTo&&(m.redirect_to=r.redirectTo);const y=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",g=await w_(i,n,l+y,{headers:d,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(g):{data:Object.assign({},g),error:null}}async function w_(i,n,l,r,u,d){const m=__(n,r,u,d);let y;try{y=await i(l,Object.assign({},m))}catch(g){throw console.error(g),new ld(Vs(g),0)}if(y.ok||await x0(y),r?.noResolveJson)return y;try{return await y.json()}catch(g){await x0(g)}}function Oa(i){var n;let l=null;E_(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=n_(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:l,user:r},error:null}}function E0(i){const n=Oa(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function rs(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function S_(i){return{data:i,error:null}}function x_(i){const{action_link:n,email_otp:l,hashed_token:r,redirect_to:u,verification_type:d}=i,m=Ao(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:n,email_otp:l,hashed_token:r,redirect_to:u,verification_type:d},g=Object.assign({},m);return{data:{properties:y,user:g},error:null}}function j0(i){return i}function E_(i){return i.access_token&&i.refresh_token&&i.expires_in}const Iu=["global","local","others"];class j_{constructor({url:n="",headers:l={},fetch:r}){this.url=n,this.headers=l,this.fetch=P0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,l=Iu[0]){if(Iu.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Iu.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,l={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:rs})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:l}=n,r=Ao(n,["options"]),u=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(u.new_email=r?.newEmail,delete u.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:x_,redirectTo:l?.redirectTo})}catch(l){if(se(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:rs})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}}async listUsers(n){var l,r,u,d,m,y,g;try{const p={nextPage:null,lastPage:0,total:0},_=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:j0});if(_.error)throw _.error;const E=await _.json(),x=(m=_.headers.get("x-total-count"))!==null&&m!==void 0?m:0,O=(g=(y=_.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return O.length>0&&(O.forEach(D=>{const L=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),V=JSON.parse(D.split(";")[1].split("=")[1]);p[`${V}Page`]=L}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},E),p),error:null}}catch(p){if(se(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){Bi(n);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:rs})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}}async updateUserById(n,l){Bi(n);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:rs})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,l=!1){Bi(n);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:rs})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Bi(n.userId);try{const{data:l,error:r}=await ce(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:l,error:r}}catch(l){if(se(l))return{data:null,error:l};throw l}}async _deleteFactor(n){Bi(n.userId),Bi(n.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}}async _listOAuthClients(n){var l,r,u,d,m,y,g;try{const p={nextPage:null,lastPage:0,total:0},_=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:j0});if(_.error)throw _.error;const E=await _.json(),x=(m=_.headers.get("x-total-count"))!==null&&m!==void 0?m:0,O=(g=(y=_.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return O.length>0&&(O.forEach(D=>{const L=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),V=JSON.parse(D.split(";")[1].split("=")[1]);p[`${V}Page`]=L}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},E),p),error:null}}catch(p){if(se(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(se(l))return{data:null,error:l};throw l}}async _getOAuthClient(n){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(se(l))return{data:null,error:l};throw l}}async _updateOAuthClient(n,l){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(se(l))return{data:null,error:l};throw l}}}function T0(i={}){return{getItem:n=>i[n]||null,setItem:(n,l)=>{i[n]=l},removeItem:n=>{delete i[n]}}}const Li={debug:!!(globalThis&&W0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class T_ extends F0{}async function N_(i,n,l){Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async u=>{if(u){Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await l()}finally{Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(n===0)throw Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new T_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Li.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function A_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eg(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function k_(i){return parseInt(i,16)}function O_(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function C_(i){var n;const{chainId:l,domain:r,expirationTime:u,issuedAt:d=new Date,nonce:m,notBefore:y,requestId:g,resources:p,scheme:_,uri:E,version:x}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(m&&m.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${m}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const O=eg(i.address),D=_?`${_}://${r}`:r,L=i.statement?`${i.statement}
`:"",V=`${D} wants you to sign in with your Ethereum account:
${O}

${L}`;let q=`URI: ${E}
Version: ${x}
Chain ID: ${l}${m?`
Nonce: ${m}`:""}
Issued At: ${d.toISOString()}`;if(u&&(q+=`
Expiration Time: ${u.toISOString()}`),y&&(q+=`
Not Before: ${y.toISOString()}`),g&&(q+=`
Request ID: ${g}`),p){let Y=`
Resources:`;for(const $ of p){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);Y+=`
- ${$}`}q+=Y}return`${V}
${q}`}class dt extends Error{constructor({message:n,code:l,cause:r,name:u}){var d;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=u??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=l}}class To extends dt{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function R_({error:i,options:n}){var l,r,u;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=d.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new dt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(y=>y.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const m=window.location.hostname;if(tg(m)){if(d.rp.id!==m)return new dt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function z_({error:i,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new dt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(tg(r)){if(l.rpId!==r)return new dt({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class U_{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const D_=new U_;function M_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:l,excludeCredentials:r}=i,u=Ao(i,["challenge","user","excludeCredentials"]),d=Yi(n).buffer,m=Object.assign(Object.assign({},l),{id:Yi(l.id).buffer}),y=Object.assign(Object.assign({},u),{challenge:d,user:m});if(r&&r.length>0){y.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const p=r[g];y.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Yi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return y}function B_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:l}=i,r=Ao(i,["challenge","allowCredentials"]),u=Yi(n).buffer,d=Object.assign(Object.assign({},r),{challenge:u});if(l&&l.length>0){d.allowCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const y=l[m];d.allowCredentials[m]=Object.assign(Object.assign({},y),{id:Yi(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return d}function L_(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:Qs(new Uint8Array(i.response.attestationObject)),clientDataJSON:Qs(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function q_(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,r=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Qs(new Uint8Array(u.authenticatorData)),clientDataJSON:Qs(new Uint8Array(u.clientDataJSON)),signature:Qs(new Uint8Array(u.signature)),userHandle:u.userHandle?Qs(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function tg(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function N0(){var i,n;return!!(Nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function H_(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new To("Browser returned unexpected credential type",n)}:{data:null,error:new To("Empty credential response",n)}}catch(n){return{data:null,error:R_({error:n,options:i})}}}async function $_(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new To("Browser returned unexpected credential type",n)}:{data:null,error:new To("Empty credential response",n)}}catch(n){return{data:null,error:z_({error:n,options:i})}}}const G_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},V_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function No(...i){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),l=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),r={};for(const u of i)if(u)for(const d in u){const m=u[d];if(m!==void 0)if(Array.isArray(m))r[d]=m;else if(l(m))r[d]=m;else if(n(m)){const y=r[d];n(y)?r[d]=No(y,m):r[d]=No(m)}else r[d]=m}return r}function Y_(i,n){return No(G_,i,n||{})}function K_(i,n){return No(V_,i,n||{})}class I_{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:l,friendlyName:r,signal:u},d){try{const{data:m,error:y}=await this.client.mfa.challenge({factorId:n,webauthn:l});if(!m)return{data:null,error:y};const g=u??D_.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:p}=m.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(m.webauthn.type){case"create":{const p=Y_(m.webauthn.credential_options.publicKey,d?.create),{data:_,error:E}=await H_({publicKey:p,signal:g});return _?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}case"request":{const p=K_(m.webauthn.credential_options.publicKey,d?.request),{data:_,error:E}=await $_(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:p,signal:g}));return _?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}}}catch(m){return se(m)?{data:null,error:m}:{data:null,error:new Is("Unexpected error in challenge",m)}}}async _verify({challengeId:n,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!l)return{data:null,error:new Wl("rpId is required for WebAuthn authentication")};try{if(!N0())return{data:null,error:new Is("Browser does not support WebAuthn",null)};const{data:m,error:y}=await this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:r},signal:u},{request:d});if(!m)return{data:null,error:y};const{webauthn:g}=m;return this._verify({factorId:n,challengeId:m.challengeId,webauthn:{type:g.type,rpId:l,rpOrigins:r,credential_response:g.credential_response}})}catch(m){return se(m)?{data:null,error:m}:{data:null,error:new Is("Unexpected error in authenticate",m)}}}async _register({friendlyName:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!l)return{data:null,error:new Wl("rpId is required for WebAuthn registration")};try{if(!N0())return{data:null,error:new Is("Browser does not support WebAuthn",null)};const{data:m,error:y}=await this._enroll({friendlyName:n});if(!m)return await this.client.mfa.listFactors().then(_=>{var E;return(E=_.data)===null||E===void 0?void 0:E.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===n&&x.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:y};const{data:g,error:p}=await this._challenge({factorId:m.id,friendlyName:m.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:u},{create:d});return g?this._verify({factorId:m.id,challengeId:g.challengeId,webauthn:{rpId:l,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(m){return se(m)?{data:null,error:m}:{data:null,error:new Is("Unexpected error in register",m)}}}}A_();const Q_={url:Gb,storageKey:Vb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function A0(i,n,l){return await l()}const qi={};class Pl{get jwks(){var n,l;return(l=(n=qi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){qi[this.storageKey]=Object.assign(Object.assign({},qi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=qi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){qi[this.storageKey]=Object.assign(Object.assign({},qi[this.storageKey]),{cachedAt:n})}constructor(n){var l,r,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Q_),n);if(this.storageKey=d.storageKey,this.instanceID=(l=Pl.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Pl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&Nt()){const m=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(m),this.logDebugMessages&&console.trace(m)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new j_({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=P0(d.fetch),this.lock=d.lock||A0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&Nt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=N_:this.lock=A0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new I_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:W0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=T0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=T0(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async m=>{this._debug("received broadcast notification from other tab or client",m),await this._notifyAllSubscribers(m.data.event,m.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${X0}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let l={},r="none";if(Nt()&&(l=i_(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),Nt()&&this.detectSessionInUrl&&r!=="none"){const{data:u,error:d}=await this._getSessionFromURL(l,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Zb(d)){const g=(n=d.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:m,redirectType:y}=u;return this._debug("#_initialize()","detected session in URL",m,"redirect type",y),await this._saveSession(m),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return se(l)?this._returnResult({error:l}):this._returnResult({error:new Is("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var l,r,u;try{const d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=n?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Oa}),{data:m,error:y}=d;if(y||!m)return this._returnResult({data:{user:null,session:null},error:y});const g=m.session,p=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(se(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var l,r,u;try{let d;if("email"in n){const{email:_,password:E,options:x}=n;let O=null,D=null;this.flowType==="pkce"&&([O,D]=await Mi(this.storage,this.storageKey)),d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:_,password:E,data:(l=x?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:O,code_challenge_method:D},xform:Oa})}else if("phone"in n){const{phone:_,password:E,options:x}=n;d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:E,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(u=x?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Oa})}else throw new wo("You must provide either an email or phone number and a password");const{data:m,error:y}=d;if(y||!m)return await Tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:y});const g=m.session,p=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),se(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let l;if("email"in n){const{email:d,password:m,options:y}=n;l=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:E0})}else if("phone"in n){const{phone:d,password:m,options:y}=n;l=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:E0})}else throw new wo("You must provide either an email or phone number and a password");const{data:r,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!r||!r.session||!r.user){const d=new Di;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:u})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(n){var l,r,u,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:l}=n;switch(l){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(n){var l,r,u,d,m,y,g,p,_,E,x;let O,D;if("message"in n)O=n.message,D=n.signature;else{const{chain:L,wallet:V,statement:q,options:Y}=n;let $;if(Nt())if(typeof V=="object")$=V;else{const _e=window;if("ethereum"in _e&&typeof _e.ethereum=="object"&&"request"in _e.ethereum&&typeof _e.ethereum.request=="function")$=_e.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!Y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=V}const K=new URL((l=Y?.url)!==null&&l!==void 0?l:window.location.href),W=await $.request({method:"eth_requestAccounts"}).then(_e=>_e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=eg(W[0]);let I=(r=Y?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const _e=await $.request({method:"eth_chainId"});I=k_(_e)}const le={domain:K.host,address:ne,statement:q,uri:K.href,version:"1",chainId:I,nonce:(u=Y?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(m=(d=Y?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&m!==void 0?m:new Date,expirationTime:(y=Y?.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(g=Y?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=Y?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(_=Y?.signInWithEthereum)===null||_===void 0?void 0:_.resources};O=C_(le),D=await $.request({method:"personal_sign",params:[O_(O),ne]})}try{const{data:L,error:V}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:D},!((E=n.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Oa});if(V)throw V;if(!L||!L.session||!L.user){const q=new Di;return this._returnResult({data:{user:null,session:null},error:q})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:V})}catch(L){if(se(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async signInWithSolana(n){var l,r,u,d,m,y,g,p,_,E,x,O;let D,L;if("message"in n)D=n.message,L=n.signature;else{const{chain:V,wallet:q,statement:Y,options:$}=n;let K;if(Nt())if(typeof q=="object")K=q;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))K=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=q}const W=new URL((l=$?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in K&&K.signIn){const ne=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),Y?{statement:Y}:null));let I;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")I=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)I=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)D=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),L=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");D=[`${W.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(u=(r=$?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=$?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((m=$?.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((y=$?.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((g=$?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((p=$?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((E=(_=$?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||E===void 0)&&E.length?["Resources",...$.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const ne=await K.signMessage(new TextEncoder().encode(D),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");L=ne}}try{const{data:V,error:q}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:D,signature:Qs(L)},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(O=n.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Oa});if(q)throw q;if(!V||!V.session||!V.user){const Y=new Di;return this._returnResult({data:{user:null,session:null},error:Y})}return V.session&&(await this._saveSession(V.session),await this._notifyAllSubscribers("SIGNED_IN",V.session)),this._returnResult({data:Object.assign({},V),error:q})}catch(V){if(se(V))return this._returnResult({data:{user:null,session:null},error:V});throw V}}async _exchangeCodeForSession(n){const l=await Gs(this.storage,`${this.storageKey}-code-verifier`),[r,u]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Wb;const{data:d,error:m}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:Oa});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),m)throw m;if(!d||!d.session||!d.user){const y=new Di;return this._returnResult({data:{user:null,session:null,redirectType:null},error:y})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:m})}catch(d){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),se(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:l,provider:r,token:u,access_token:d,nonce:m}=n,y=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:u,access_token:d,nonce:m,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Oa}),{data:g,error:p}=y;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const _=new Di;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(n){var l,r,u,d,m;try{if("email"in n){const{email:y,options:g}=n;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await Mi(this.storage,this.storageKey));const{error:E}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(l=g?.data)!==null&&l!==void 0?l:{},create_user:(r=g?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:E})}if("phone"in n){const{phone:y,options:g}=n,{data:p,error:_}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(m=g?.channel)!==null&&m!==void 0?m:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:_})}throw new wo("You must provide either an email or phone number.")}catch(y){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),se(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async verifyOtp(n){var l,r;try{let u,d;"options"in n&&(u=(l=n.options)===null||l===void 0?void 0:l.redirectTo,d=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:m,error:y}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:Oa});if(y)throw y;if(!m)throw new Error("An error occurred on token verification.");const g=m.session,p=m.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var l,r,u,d,m;try{let y=null,g=null;this.flowType==="pkce"&&([y,g]=await Mi(this.storage,this.storageKey));const p=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:g}),headers:this.headers,xform:S_});return!((d=p.data)===null||d===void 0)&&d.url&&Nt()&&!(!((m=n.options)===null||m===void 0)&&m.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(y){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),se(y))return this._returnResult({data:null,error:y});throw y}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;if(r)throw r;if(!l)throw new ca;const{error:u}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const l=`${this.url}/resend`;if("email"in n){const{email:r,type:u,options:d}=n,{error:m}=await ce(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}else if("phone"in n){const{phone:r,type:u,options:d}=n,{data:m,error:y}=await ce(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new wo("You must provide either an email or phone number and a type")}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(n,l){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await n(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Gu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const m=await Gs(this.userStorage,this.storageKey+"-user");m?.user?n.user=m.user:n.user=Ku()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const m={value:this.suppressGetSessionWarning};n.user=p_(n.user,m),m.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const l=await this._acquireLock(-1,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(n){try{return n?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:rs}):await this._useSession(async l=>{var r,u,d;const{data:m,error:y}=l;if(y)throw y;return!(!((r=m.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ca}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:rs})})}catch(l){if(se(l))return Jb(l)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(n,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,l))}async _updateUser(n,l={}){try{return await this._useSession(async r=>{const{data:u,error:d}=r;if(d)throw d;if(!u.session)throw new ca;const m=u.session;let y=null,g=null;this.flowType==="pkce"&&n.email!=null&&([y,g]=await Mi(this.storage,this.storageKey));const{data:p,error:_}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:y,code_challenge_method:g}),jwt:m.access_token,xform:rs});if(_)throw _;return m.user=p.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),this._returnResult({data:{user:m.user},error:null})})}catch(r){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),se(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new ca;const l=Date.now()/1e3;let r=l,u=!0,d=null;const{payload:m}=Yu(n.access_token);if(m.exp&&(r=m.exp,u=r<=l),u){const{data:y,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y)return{data:{user:null,session:null},error:null};d=y}else{const{data:y,error:g}=await this._getUser(n.access_token);if(g)throw g;d={access_token:n.access_token,refresh_token:n.refresh_token,user:y.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(l){if(se(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async l=>{var r;if(!n){const{data:m,error:y}=l;if(y)throw y;n=(r=m.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new ca;const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(n,l){try{if(!Nt())throw new So("No browser detected.");if(n.error||n.error_description||n.error_code)throw new So(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new v0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new So("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new v0("No code detected.");const{data:Y,error:$}=await this._exchangeCodeForSession(n.code);if($)throw $;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:u,access_token:d,refresh_token:m,expires_in:y,expires_at:g,token_type:p}=n;if(!d||!y||!m||!p)throw new So("No session defined in URL");const _=Math.round(Date.now()/1e3),E=parseInt(y);let x=_+E;g&&(x=parseInt(g));const O=x-_;O*1e3<=$i&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${E}s`);const D=x-E;_-D>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",D,x,_):_-D<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",D,x,_);const{data:L,error:V}=await this._getUser(d);if(V)throw V;const q={provider_token:r,provider_refresh_token:u,access_token:d,expires_in:E,expires_at:x,refresh_token:m,token_type:p,user:L.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:q,redirectType:n.type},error:null})}catch(r){if(se(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const l=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:u,error:d}=l;if(d)return this._returnResult({error:d});const m=(r=u.session)===null||r===void 0?void 0:r.access_token;if(m){const{error:y}=await this.admin.signOut(m,n);if(y&&!(Xb(y)&&(y.status===404||y.status===401||y.status===403)))return this._returnResult({error:y})}return n!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const l=s_(),r={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async l=>{var r,u;try{const{data:{session:d},error:m}=l;if(m)throw m;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,l={}){let r=null,u=null;this.flowType==="pkce"&&([r,u]=await Mi(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:u,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(d){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),se(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var l;try{const{data:r,error:u}=await this._useSession(async d=>{var m,y,g,p,_;const{data:E,error:x}=d;if(x)throw x;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(m=n.options)===null||m===void 0?void 0:m.redirectTo,scopes:(y=n.options)===null||y===void 0?void 0:y.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",O,{headers:this.headers,jwt:(_=(p=E.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})});if(u)throw u;return Nt()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:n.provider,url:r?.url},error:null})}catch(r){if(se(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async l=>{var r;try{const{error:u,data:{session:d}}=l;if(u)throw u;const{options:m,provider:y,token:g,access_token:p,nonce:_}=n,E=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:y,id_token:g,access_token:p,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Oa}),{data:x,error:O}=E;return O?this._returnResult({data:{user:null,session:null},error:O}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Di}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:O}))}catch(u){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async l=>{var r,u;const{data:d,error:m}=l;if(m)throw m;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0})})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(n){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await o_(async u=>(u>0&&await r_(200*Math.pow(2,u-1)),this._debug(l,"refreshing attempt",u),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Oa})),(u,d)=>{const m=200*Math.pow(2,u);return d&&Vu(d)&&Date.now()+m-r<$i})}catch(r){if(this._debug(l,"error",r),se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",r),Nt()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const u=await Gs(this.storage,this.storageKey);if(u&&this.userStorage){let m=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:u.user},await Gi(this.userStorage,this.storageKey+"-user",m)),u.user=(n=m?.user)!==null&&n!==void 0?n:Ku()}else if(u&&!u.user&&!u.user){const m=await Gs(this.storage,this.storageKey+"-user");m&&m?.user?(u.user=m.user,await Tt(this.storage,this.storageKey+"-user"),await Gi(this.storage,this.storageKey,u)):u.user=Ku()}if(this._debug(r,"session from storage",u),!this._isValidSession(u)){this._debug(r,"session is not valid"),u!==null&&await this._removeSession();return}const d=((l=u.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Gu;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${Gu}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:m}=await this._callRefreshToken(u.refresh_token);m&&(console.error(m),Vu(m)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",m),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:y}=await this._getUser(u.access_token);!y&&m?.user?(u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(r,"error getting user data, skipping SIGNED_IN notification",m)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(r,"error",u),console.error(u);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var l,r;if(!n)throw new ca;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Oo;const{data:d,error:m}=await this._refreshAccessToken(n);if(m)throw m;if(!d.session)throw new ca;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const y={data:d.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(d){if(this._debug(u,"error",d),se(d)){const m={data:null,error:d};return Vu(d)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(m),m}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,l,r=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:l});const d=[],m=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(n,l)}catch(g){d.push(g)}});if(await Promise.all(m),d.length>0){for(let y=0;y<d.length;y+=1)console.error(d[y]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Tt(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},n),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await Gi(this.userStorage,this.storageKey+"-user",{user:l.user});const u=Object.assign({},l);delete u.user;const d=S0(u);await Gi(this.storage,this.storageKey,d)}else{const u=S0(l);await Gi(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Nt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),$i);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((r.expires_at*1e3-n)/$i);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${$i}ms, refresh threshold is ${sd} ticks`),u<=sd&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof F0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,l,r){const u=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&u.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,m]=await Mi(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(m)}`});u.push(y.toString())}if(r?.queryParams){const d=new URLSearchParams(r.queryParams);u.push(d.toString())}return r?.skipBrowserRedirect&&u.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async l=>{var r;const{data:u,error:d}=l;return d?this._returnResult({data:null,error:d}):await ce(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(n){try{return await this._useSession(async l=>{var r,u;const{data:d,error:m}=l;if(m)return this._returnResult({data:null,error:m});const y=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:u,error:d}=l;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?L_(n.webauthn.credential_response):q_(n.webauthn.credential_response)})}:{code:n.code}),{data:y,error:g}=await ce(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:m,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+y.expires_in},y)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",y),this._returnResult({data:y,error:g}))})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:u,error:d}=l;if(d)return this._returnResult({data:null,error:d});const m=await ce(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});if(m.error)return m;const{data:y}=m;if(y.type!=="webauthn")return{data:y,error:null};switch(y.webauthn.type){case"create":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:M_(y.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:B_(y.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(n){const{data:l,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})}async _listFactors(){var n;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=l?.factors)!==null&&n!==void 0?n:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,l;const{data:{session:r},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Yu(r.access_token);let m=null;d.aal&&(m=d.aal);let y=m;((l=(n=r.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(y="aal2");const p=d.amr||[];return{data:{currentLevel:m,nextLevel:y,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async l=>{const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new ca})})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:u},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new ca});const m=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&Nt()&&!l?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:u},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new ca});const m=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&Nt()&&!l?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;return r?this._returnResult({data:null,error:r}):l?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new ca})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async l=>{const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ca})})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(n,l={keys:[]}){let r=l.keys.find(y=>y.kid===n);if(r)return r;const u=Date.now();if(r=this.jwks.keys.find(y=>y.kid===n),r&&this.jwks_cached_at+Ib>u)return r;const{data:d,error:m}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(m)throw m;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,r=d.keys.find(y=>y.kid===n),!r)?null:r}async getClaims(n,l={}){try{let r=n;if(!r){const{data:O,error:D}=await this.getSession();if(D||!O.session)return this._returnResult({data:null,error:D});r=O.session.access_token}const{header:u,payload:d,signature:m,raw:{header:y,payload:g}}=Yu(r);l?.allowExpired||g_(d.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!p){const{error:O}=await this.getUser(r);if(O)throw O;return{data:{claims:d,header:u,signature:m},error:null}}const _=y_(u.alg),E=await crypto.subtle.importKey("jwk",p,_,!0,["verify"]);if(!await crypto.subtle.verify(_,E,m,a_(`${y}.${g}`)))throw new rd("Invalid JWT signature");return{data:{claims:d,header:u,signature:m},error:null}}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}}Pl.nextInstanceID={};const X_=Pl,J_="2.89.0";let Kl="";typeof Deno<"u"?Kl="deno":typeof document<"u"?Kl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kl="react-native":Kl="node";const Z_={"X-Client-Info":`supabase-js-${Kl}/${J_}`},W_={headers:Z_},P_={schema:"public"},F_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e1={};function Fl(i){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fl(i)}function t1(i,n){if(Fl(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function a1(i){var n=t1(i,"string");return Fl(n)=="symbol"?n:n+""}function n1(i,n,l){return(n=a1(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function k0(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),l.push.apply(l,r)}return l}function Fe(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?k0(Object(l),!0).forEach(function(r){n1(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):k0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const s1=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),i1=()=>Headers,l1=(i,n,l)=>{const r=s1(l),u=i1();return async(d,m)=>{var y;const g=(y=await n())!==null&&y!==void 0?y:i;let p=new u(m?.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(d,Fe(Fe({},m),{},{headers:p}))}};function r1(i){return i.endsWith("/")?i:i+"/"}function o1(i,n){var l,r;const{db:u,auth:d,realtime:m,global:y}=i,{db:g,auth:p,realtime:_,global:E}=n,x={db:Fe(Fe({},g),u),auth:Fe(Fe({},p),d),realtime:Fe(Fe({},_),m),storage:{},global:Fe(Fe(Fe({},E),y),{},{headers:Fe(Fe({},(l=E?.headers)!==null&&l!==void 0?l:{}),(r=y?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return i.accessToken?x.accessToken=i.accessToken:delete x.accessToken,x}function c1(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var u1=class extends X_{constructor(i){super(i)}},d1=class{constructor(i,n,l){var r,u;this.supabaseUrl=i,this.supabaseKey=n;const d=c1(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,y={db:P_,realtime:e1,auth:Fe(Fe({},F_),{},{storageKey:m}),global:W_},g=o1(l??{},y);if(this.storageKey=(r=g.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=l1(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new Yp(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new $b(this.storageUrl.href,this.headers,this.fetch,l?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new qp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,l)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,l;if(i.accessToken)return await i.accessToken();const{data:r}=await i.auth.getSession();return(n=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:u,storageKey:d,flowType:m,lock:y,debug:g,throwOnError:p},_,E){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u1({url:this.authUrl.href,headers:Fe(Fe({},x),_),storageKey:d,autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:u,flowType:m,lock:y,debug:g,throwOnError:p,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new rb(this.realtimeUrl.href,Fe(Fe({},i),{},{params:Fe(Fe({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n?.access_token)})}_handleTokenChanged(i,n,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const h1=(i,n,l)=>new d1(i,n,l);function f1(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const n=i.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}f1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const m1="https://viyqhdvziizfvokmkrgb.supabase.co",g1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZpeXFoZHZ6aWl6ZnZva21rcmdiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1MjkxOTAsImV4cCI6MjA4MzEwNTE5MH0.NtWy9MPd1UIaL_nJcfp6JxhqbHE6lN2nUAYFmC2nyuM",et=h1(m1,g1),y1=window.Telegram?.WebApp,v1=async i=>{if(!i.telegramId){console.warn(" Telegram ID,      .");return}const{error:n}=await et.from("leaderboard").upsert({telegram_id:i.telegramId,username:i.username,avatar_url:i.avatarUrl,score:i.score,bonus_time:i.bonuses.time,bonus_hint:i.bonuses.hint,bonus_swap:i.bonuses.swap,bonus_wildcard:i.bonuses.wildcard,rare_words:i.rareWords,total_words:i.totalWords,high_score:i.highScore,days_played:i.daysPlayed,streak:i.streak,coins:i.coins,updated_at:new Date},{onConflict:"telegram_id"});n&&console.error(" Supabase:",n.message)},p1=async i=>{const n=parseInt(i.challengeId)||0,{data:l}=await et.from("daily_scores").select("telegram_id").eq("telegram_id",i.telegramId).eq("challenge_id",n).single(),r={telegram_id:i.telegramId,username:i.username,avatar_url:i.avatarUrl,score:i.score,challenge_id:n,game_date:xo(),bonus_time:i.bonuses?.time,bonus_hint:i.bonuses?.hint,bonus_swap:i.bonuses?.swap,bonus_wildcard:i.bonuses?.wildcard,level_scores:i.levelScores};let u;l?{error:u}=await et.from("daily_scores").update(r).eq("telegram_id",i.telegramId).eq("challenge_id",n):{error:u}=await et.from("daily_scores").insert(r),u&&console.error("   :",u.message)},b1=async(i,n)=>{try{const{data:l,error:r}=await et.from("daily_scores").select("*").eq("telegram_id",i).eq("challenge_id",n).single();if(r&&r.code!=="PGRST116")throw r;return l}catch(l){return console.error("   :",l),null}},_1=async i=>{try{const{data:n,error:l}=await et.from("leaderboard").select("*").eq("telegram_id",i).single();if(l){if(l.code==="PGRST116")return null;throw l}return n}catch(n){throw console.error("  :",n),n}},w1=async()=>{try{const{data:i,error:n,count:l}=await et.from("leaderboard").select("name:username, score, avatar_url, telegram_id",{count:"exact"}).order("score",{ascending:!1}).limit(10);if(n)throw n;return{players:i||[],count:l||0}}catch(i){return console.error("  :",i),{players:[],count:0}}},S1=async i=>{try{const{data:n,error:l,count:r}=await et.from("daily_scores").select("name:username, score, avatar_url, telegram_id",{count:"exact"}).eq("challenge_id",i).order("score",{ascending:!1}).limit(10);if(l)throw l;return{players:n||[],count:r||0}}catch(n){return console.error("   :",n),{players:[],count:0}}},x1=async i=>{try{const n=(parseInt(i)-1).toString(),{data:l,error:r,count:u}=await et.from("daily_scores").select("name:username, score, avatar_url, telegram_id",{count:"exact"}).eq("challenge_id",n).order("score",{ascending:!1}).limit(10);if(r)throw r;return{players:l||[],count:u||0}}catch(n){return console.error("    :",n),{players:[],count:0}}},E1=async i=>{const{error:n}=await et.from("feedback").insert({telegram_id:i.telegramId,username:i.username,message:i.message});n&&console.error("  :",n.message)},j1=async()=>{const{data:i,error:n}=await et.from("feedback").select("*").order("created_at",{ascending:!1});return n&&console.error("  :",n.message),i||[]},T1=async(i,n)=>{const{error:l}=await et.from("custom_words").insert({word:i.toLowerCase(),added_by:n});return l?(console.error("  :",l.message),!1):!0},N1=async()=>{const{data:i,error:n}=await et.from("custom_words").select("word");return n&&console.error("  :",n.message),i?.map(l=>l.word)||[]},A1=async()=>{const{data:i,error:n}=await et.from("custom_words").select("*").order("created_at",{ascending:!1});return n&&console.error("   :",n.message),i||[]},k1=async i=>{const{error:n}=await et.from("custom_words").delete().eq("id",i);return n?(console.error("  :",n.message),!1):!0},O1=async(i,n)=>{const{error:l}=await et.from("custom_words").update({word:n.toLowerCase()}).eq("id",i);return l?(console.error("  :",l.message),!1):!0},C1=async(i,n)=>{const{error:l}=await et.from("feedback").update({status:"replied",admin_reply:n}).eq("id",i);return l?(console.error("  :",l.message),!1):(console.log("   .    Supabase ."),!0)},R1=async i=>{const{error:n}=await et.from("feedback").update({status:"archived"}).eq("id",i);return n?(console.error(" :",n.message),!1):!0},z1=async i=>{const{error:n}=await et.from("feedback").delete().eq("id",i);return n?(console.error(" :",n.message),!1):!0},U1=async i=>{const{error:n}=await et.from("broadcasts").insert({message:i,status:"pending"});return n?(console.error("  :",n.message),!1):!0},D1=async()=>{const{data:i}=await et.from("challenges").select("id, letters, end_time").order("id",{ascending:!1}).limit(1).single();return i?{id:i.id.toString(),letters:i.letters,endTime:i.end_time}:{id:"1",letters:null,endTime:null}},M1=async i=>{try{const{data:n,error:l}=await et.rpc("get_player_rank",{p_telegram_id:i});if(l)throw l;return typeof n=="number"?{rank:n}:Array.isArray(n)&&n.length>0?n[0]:null}catch(n){return console.error("   :",n),null}},O0=document.getElementById("root");O0&&ev.createRoot(O0).render(h.jsx(Iy.StrictMode,{children:h.jsx(Dp,{saveUserData:v1,saveDailyScore:p1,getUserData:_1,getActiveChallenge:D1,fetchUserRank:M1,getLeaderboard:w1,getDailyLeaderboard:S1,fetchPreviousDailyLeaderboard:x1,getUserDailyScore:b1,saveFeedback:E1,fetchFeedbacks:j1,addCustomWord:T1,fetchCustomWords:N1,fetchAdminCustomWords:A1,deleteCustomWord:k1,updateCustomWord:O1,sendFeedbackReply:C1,archiveFeedback:R1,deleteFeedback:z1,sendBroadcast:U1,tg:y1})}));
