var ev=Object.defineProperty,tv=Object.defineProperties;var av=Object.getOwnPropertyDescriptors;var ko=Object.getOwnPropertySymbols,nv=Object.getPrototypeOf,a0=Object.prototype.hasOwnProperty,n0=Object.prototype.propertyIsEnumerable,sv=Reflect.get;var t0=(i,n,l)=>n in i?ev(i,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[n]=l,Lt=(i,n)=>{for(var l in n||(n={}))a0.call(n,l)&&t0(i,l,n[l]);if(ko)for(var l of ko(n))n0.call(n,l)&&t0(i,l,n[l]);return i},an=(i,n)=>tv(i,av(n));var $u=(i,n)=>{var l={};for(var r in i)a0.call(i,r)&&n.indexOf(r)<0&&(l[r]=i[r]);if(i!=null&&ko)for(var r of ko(i))n.indexOf(r)<0&&n0.call(i,r)&&(l[r]=i[r]);return l};var iv=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var sa=(i,n,l)=>sv(nv(i),l,n);var b=(i,n,l)=>new Promise((r,u)=>{var d=g=>{try{y(l.next(g))}catch(p){u(p)}},m=g=>{try{y(l.throw(g))}catch(p){u(p)}},y=g=>g.done?r(g.value):Promise.resolve(g.value).then(d,m);y((l=l.apply(i,n)).next())});var ew=iv(Oe=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function l(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(u){if(u.ep)return;u.ep=!0;const d=l(u);fetch(u.href,d)}})();function K0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Gu={exports:{}},Wl={};var s0;function lv(){if(s0)return Wl;s0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var y in u)y!=="key"&&(d[y]=u[y])}else d=u;return u=d.ref,{$$typeof:i,type:r,key:m,ref:u!==void 0?u:null,props:d}}return Wl.Fragment=n,Wl.jsx=l,Wl.jsxs=l,Wl}var i0;function rv(){return i0||(i0=1,Gu.exports=lv()),Gu.exports}var h=rv(),Vu={exports:{}},ve={};var l0;function ov(){if(l0)return ve;l0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),E=Symbol.iterator;function C(S){return S===null||typeof S!="object"?null:(S=E&&S[E]||S["@@iterator"],typeof S=="function"?S:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,Q={};function q(S,U,P){this.props=S,this.context=U,this.refs=Q,this.updater=P||z}q.prototype.isReactComponent={},q.prototype.setState=function(S,U){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,U,"setState")},q.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function K(){}K.prototype=q.prototype;function V(S,U,P){this.props=S,this.context=U,this.refs=Q,this.updater=P||z}var Y=V.prototype=new K;Y.constructor=V,B(Y,q.prototype),Y.isPureReactComponent=!0;var G=Array.isArray;function se(){}var X={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function ge(S,U,P){var F=P.ref;return{$$typeof:i,type:S,key:U,ref:F!==void 0?F:null,props:P}}function Rt(S,U){return ge(S.type,U,S.props)}function rt(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function Le(S){var U={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(P){return U[P]})}var Ht=/\/+/g;function gt(S,U){return typeof S=="object"&&S!==null&&S.key!=null?Le(""+S.key):U.toString(36)}function ot(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(se,se):(S.status="pending",S.then(function(U){S.status==="pending"&&(S.status="fulfilled",S.value=U)},function(U){S.status==="pending"&&(S.status="rejected",S.reason=U)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function D(S,U,P,F,ce){var pe=typeof S;(pe==="undefined"||pe==="boolean")&&(S=null);var xe=!1;if(S===null)xe=!0;else switch(pe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(S.$$typeof){case i:case n:xe=!0;break;case _:return xe=S._init,D(xe(S._payload),U,P,F,ce)}}if(xe)return ce=ce(S),xe=F===""?"."+gt(S,0):F,G(ce)?(P="",xe!=null&&(P=xe.replace(Ht,"$&/")+"/"),D(ce,U,P,"",function(Ca){return Ca})):ce!=null&&(rt(ce)&&(ce=Rt(ce,P+(ce.key==null||S&&S.key===ce.key?"":(""+ce.key).replace(Ht,"$&/")+"/")+xe)),U.push(ce)),1;xe=0;var Ie=F===""?".":F+":";if(G(S))for(var De=0;De<S.length;De++)F=S[De],pe=Ie+gt(F,De),xe+=D(F,U,P,pe,ce);else if(De=C(S),typeof De=="function")for(S=De.call(S),De=0;!(F=S.next()).done;)F=F.value,pe=Ie+gt(F,De++),xe+=D(F,U,P,pe,ce);else if(pe==="object"){if(typeof S.then=="function")return D(ot(S),U,P,F,ce);throw U=String(S),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return xe}function W(S,U,P){if(S==null)return S;var F=[],ce=0;return D(S,F,"","",function(pe){return U.call(P,pe,ce++)}),F}function ae(S){if(S._status===-1){var U=S._result;U=U(),U.then(function(P){(S._status===0||S._status===-1)&&(S._status=1,S._result=P)},function(P){(S._status===0||S._status===-1)&&(S._status=2,S._result=P)}),S._status===-1&&(S._status=0,S._result=U)}if(S._status===1)return S._result.default;throw S._result}var we=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},te={map:W,forEach:function(S,U,P){W(S,function(){U.apply(this,arguments)},P)},count:function(S){var U=0;return W(S,function(){U++}),U},toArray:function(S){return W(S,function(U){return U})||[]},only:function(S){if(!rt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ve.Activity=j,ve.Children=te,ve.Component=q,ve.Fragment=l,ve.Profiler=u,ve.PureComponent=V,ve.StrictMode=r,ve.Suspense=g,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ve.__COMPILER_RUNTIME={__proto__:null,c:function(S){return X.H.useMemoCache(S)}},ve.cache=function(S){return function(){return S.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(S,U,P){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var F=B({},S.props),ce=S.key;if(U!=null)for(pe in U.key!==void 0&&(ce=""+U.key),U)!me.call(U,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&U.ref===void 0||(F[pe]=U[pe]);var pe=arguments.length-2;if(pe===1)F.children=P;else if(1<pe){for(var xe=Array(pe),Ie=0;Ie<pe;Ie++)xe[Ie]=arguments[Ie+2];F.children=xe}return ge(S.type,ce,F)},ve.createContext=function(S){return S={$$typeof:m,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:d,_context:S},S},ve.createElement=function(S,U,P){var F,ce={},pe=null;if(U!=null)for(F in U.key!==void 0&&(pe=""+U.key),U)me.call(U,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ce[F]=U[F]);var xe=arguments.length-2;if(xe===1)ce.children=P;else if(1<xe){for(var Ie=Array(xe),De=0;De<xe;De++)Ie[De]=arguments[De+2];ce.children=Ie}if(S&&S.defaultProps)for(F in xe=S.defaultProps,xe)ce[F]===void 0&&(ce[F]=xe[F]);return ge(S,pe,ce)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(S){return{$$typeof:y,render:S}},ve.isValidElement=rt,ve.lazy=function(S){return{$$typeof:_,_payload:{_status:-1,_result:S},_init:ae}},ve.memo=function(S,U){return{$$typeof:p,type:S,compare:U===void 0?null:U}},ve.startTransition=function(S){var U=X.T,P={};X.T=P;try{var F=S(),ce=X.S;ce!==null&&ce(P,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(se,we)}catch(pe){we(pe)}finally{U!==null&&P.types!==null&&(U.types=P.types),X.T=U}},ve.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ve.use=function(S){return X.H.use(S)},ve.useActionState=function(S,U,P){return X.H.useActionState(S,U,P)},ve.useCallback=function(S,U){return X.H.useCallback(S,U)},ve.useContext=function(S){return X.H.useContext(S)},ve.useDebugValue=function(){},ve.useDeferredValue=function(S,U){return X.H.useDeferredValue(S,U)},ve.useEffect=function(S,U){return X.H.useEffect(S,U)},ve.useEffectEvent=function(S){return X.H.useEffectEvent(S)},ve.useId=function(){return X.H.useId()},ve.useImperativeHandle=function(S,U,P){return X.H.useImperativeHandle(S,U,P)},ve.useInsertionEffect=function(S,U){return X.H.useInsertionEffect(S,U)},ve.useLayoutEffect=function(S,U){return X.H.useLayoutEffect(S,U)},ve.useMemo=function(S,U){return X.H.useMemo(S,U)},ve.useOptimistic=function(S,U){return X.H.useOptimistic(S,U)},ve.useReducer=function(S,U,P){return X.H.useReducer(S,U,P)},ve.useRef=function(S){return X.H.useRef(S)},ve.useState=function(S){return X.H.useState(S)},ve.useSyncExternalStore=function(S,U,P){return X.H.useSyncExternalStore(S,U,P)},ve.useTransition=function(){return X.H.useTransition()},ve.version="19.2.3",ve}var r0;function bd(){return r0||(r0=1,Vu.exports=ov()),Vu.exports}var $=bd();const cv=K0($);var Yu={exports:{}},Pl={},Ku={exports:{}},Iu={};var o0;function uv(){return o0||(o0=1,(function(i){function n(D,W){var ae=D.length;D.push(W);e:for(;0<ae;){var we=ae-1>>>1,te=D[we];if(0<u(te,W))D[we]=W,D[ae]=te,ae=we;else break e}}function l(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],ae=D.pop();if(ae!==W){D[0]=ae;e:for(var we=0,te=D.length,S=te>>>1;we<S;){var U=2*(we+1)-1,P=D[U],F=U+1,ce=D[F];if(0>u(P,ae))F<te&&0>u(ce,P)?(D[we]=ce,D[F]=ae,we=F):(D[we]=P,D[U]=ae,we=U);else if(F<te&&0>u(ce,ae))D[we]=ce,D[F]=ae,we=F;else break e}}return W}function u(D,W){var ae=D.sortIndex-W.sortIndex;return ae!==0?ae:D.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,y=m.now();i.unstable_now=function(){return m.now()-y}}var g=[],p=[],_=1,j=null,E=3,C=!1,z=!1,B=!1,Q=!1,q=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate!="undefined"?setImmediate:null;function Y(D){for(var W=l(p);W!==null;){if(W.callback===null)r(p);else if(W.startTime<=D)r(p),W.sortIndex=W.expirationTime,n(g,W);else break;W=l(p)}}function G(D){if(B=!1,Y(D),!z)if(l(g)!==null)z=!0,se||(se=!0,Le());else{var W=l(p);W!==null&&ot(G,W.startTime-D)}}var se=!1,X=-1,me=5,ge=-1;function Rt(){return Q?!0:!(i.unstable_now()-ge<me)}function rt(){if(Q=!1,se){var D=i.unstable_now();ge=D;var W=!0;try{e:{z=!1,B&&(B=!1,K(X),X=-1),C=!0;var ae=E;try{t:{for(Y(D),j=l(g);j!==null&&!(j.expirationTime>D&&Rt());){var we=j.callback;if(typeof we=="function"){j.callback=null,E=j.priorityLevel;var te=we(j.expirationTime<=D);if(D=i.unstable_now(),typeof te=="function"){j.callback=te,Y(D),W=!0;break t}j===l(g)&&r(g),Y(D)}else r(g);j=l(g)}if(j!==null)W=!0;else{var S=l(p);S!==null&&ot(G,S.startTime-D),W=!1}}break e}finally{j=null,E=ae,C=!1}W=void 0}}finally{W?Le():se=!1}}}var Le;if(typeof V=="function")Le=function(){V(rt)};else if(typeof MessageChannel!="undefined"){var Ht=new MessageChannel,gt=Ht.port2;Ht.port1.onmessage=rt,Le=function(){gt.postMessage(null)}}else Le=function(){q(rt,0)};function ot(D,W){X=q(function(){D(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(D){D.callback=null},i.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<D?Math.floor(1e3/D):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(D){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var ae=E;E=W;try{return D()}finally{E=ae}},i.unstable_requestPaint=function(){Q=!0},i.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ae=E;E=D;try{return W()}finally{E=ae}},i.unstable_scheduleCallback=function(D,W,ae){var we=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?we+ae:we):ae=we,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ae+te,D={id:_++,callback:W,priorityLevel:D,startTime:ae,expirationTime:te,sortIndex:-1},ae>we?(D.sortIndex=ae,n(p,D),l(g)===null&&D===l(p)&&(B?(K(X),X=-1):B=!0,ot(G,ae-we))):(D.sortIndex=te,n(g,D),z||C||(z=!0,se||(se=!0,Le()))),D},i.unstable_shouldYield=Rt,i.unstable_wrapCallback=function(D){var W=E;return function(){var ae=E;E=W;try{return D.apply(this,arguments)}finally{E=ae}}}})(Iu)),Iu}var c0;function dv(){return c0||(c0=1,Ku.exports=uv()),Ku.exports}var Qu={exports:{}},qt={};var u0;function hv(){if(u0)return qt;u0=1;var i=bd();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(g,p,_){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:j==null?null:""+j,children:g,containerInfo:p,implementation:_}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qt.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return d(g,p,null,_)},qt.flushSync=function(g){var p=m.T,_=r.p;try{if(m.T=null,r.p=2,g)return g()}finally{m.T=p,r.p=_,r.d.f()}},qt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},qt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},qt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,j=y(_,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:j,integrity:E,fetchPriority:C}):_==="script"&&r.d.X(g,{crossOrigin:j,integrity:E,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},qt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=y(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},qt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,j=y(_,p.crossOrigin);r.d.L(g,_,{crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},qt.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=y(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},qt.requestFormReset=function(g){r.d.r(g)},qt.unstable_batchedUpdates=function(g,p){return g(p)},qt.useFormState=function(g,p,_){return m.H.useFormState(g,p,_)},qt.useFormStatus=function(){return m.H.useHostTransitionStatus()},qt.version="19.2.3",qt}var d0;function fv(){if(d0)return Qu.exports;d0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Qu.exports=hv(),Qu.exports}var h0;function mv(){if(h0)return Pl;h0=1;var i=dv(),n=bd(),l=fv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return g(o),e;if(c===s)return g(o),t;c=c.sibling}throw Error(r(188))}if(a.return!==s.return)a=o,s=c;else{for(var f=!1,v=o.child;v;){if(v===a){f=!0,a=o,s=c;break}if(v===s){f=!0,s=o,a=c;break}v=v.sibling}if(!f){for(v=c.child;v;){if(v===a){f=!0,a=c,s=o;break}if(v===s){f=!0,s=c,a=o;break}v=v.sibling}if(!f)throw Error(r(189))}}if(a.alternate!==s)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),V=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),Rt=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=rt&&e[rt]||e["@@iterator"],typeof e=="function"?e:null)}var Ht=Symbol.for("react.client.reference");function gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ht?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case q:return"Profiler";case Q:return"StrictMode";case G:return"Suspense";case se:return"SuspenseList";case ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case V:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:gt(e.type)||"Memo";case me:t=e._payload,e=e._init;try{return gt(e(t))}catch(a){}}return null}var ot=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},we=[],te=-1;function S(e){return{current:e}}function U(e){0>te||(e.current=we[te],we[te]=null,te--)}function P(e,t){te++,we[te]=e.current,e.current=t}var F=S(null),ce=S(null),pe=S(null),xe=S(null);function Ie(e,t){switch(P(pe,t),P(ce,e),P(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Em(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Em(t),e=jm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(F),P(F,e)}function De(){U(F),U(ce),U(pe)}function Ca(e){e.memoizedState!==null&&P(xe,e);var t=F.current,a=jm(t,e.type);t!==a&&(P(ce,e),P(F,a))}function Ra(e){ce.current===e&&(U(F),U(ce)),xe.current===e&&(U(xe),Ql._currentValue=ae)}var vs,zn;function ia(e){if(vs===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);vs=t&&t[1]||"",zn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+e+zn}var $a=!1;function J(e,t){if(!e||$a)return"";$a=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(R){var O=R}Reflect.construct(e,[],H)}else{try{H.call()}catch(R){O=R}e.call(H.prototype)}}else{try{throw Error()}catch(R){O=R}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(R){if(R&&O&&typeof R.stack=="string")return[R.stack,O.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),f=c[0],v=c[1];if(f&&v){var w=f.split(`
`),k=v.split(`
`);for(o=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;if(s===w.length||o===k.length)for(s=w.length-1,o=k.length-1;1<=s&&0<=o&&w[s]!==k[o];)o--;for(;1<=s&&0<=o;s--,o--)if(w[s]!==k[o]){if(s!==1||o!==1)do if(s--,o--,0>o||w[s]!==k[o]){var M=`
`+w[s].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=s&&0<=o);break}}}finally{$a=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ia(a):""}function Ye(e,t){switch(e.tag){case 26:case 27:case 5:return ia(e.type);case 16:return ia("Lazy");case 13:return e.child!==t&&t!==null?ia("Suspense Fallback"):ia("Suspense");case 19:return ia("SuspenseList");case 0:case 15:return J(e.type,!1);case 11:return J(e.type.render,!1);case 1:return J(e.type,!0);case 31:return ia("Activity");default:return""}}function nt(e){try{var t="",a=null;do t+=Ye(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ga=Object.prototype.hasOwnProperty,Qt=i.unstable_scheduleCallback,sn=i.unstable_cancelCallback,ln=i.unstable_shouldYield,fr=i.unstable_requestPaint,$t=i.unstable_now,Va=i.unstable_getCurrentPriorityLevel,mr=i.unstable_ImmediatePriority,ai=i.unstable_UserBlockingPriority,ps=i.unstable_NormalPriority,gr=i.unstable_LowPriority,yr=i.unstable_IdlePriority,Ya=i.log,Go=i.unstable_setDisableYieldValue,Ka=null,wt=null;function Ia(e){if(typeof Ya=="function"&&Go(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Ka,e)}catch(t){}}var ct=Math.clz32?Math.clz32:Yo,Vo=Math.log,bs=Math.LN2;function Yo(e){return e>>>=0,e===0?32:31-(Vo(e)/bs|0)|0}var Gt=256,zt=262144,Un=4194304;function St(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _s(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~c,s!==0?o=St(s):(f&=v,f!==0?o=St(f):a||(a=v&~e,a!==0&&(o=St(a))))):(v=s&~c,v!==0?o=St(v):f!==0?o=St(f):a||(a=s&~e,a!==0&&(o=St(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function wa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Pi(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qa(){var e=Un;return Un<<=1,(Un&62914560)===0&&(Un=4194304),e}function Dn(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Xt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fi(e,t,a,s,o,c){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(a=f&~a;0<a;){var M=31-ct(a),H=1<<M;v[M]=0,w[M]=-1;var O=k[M];if(O!==null)for(k[M]=null,M=0;M<O.length;M++){var R=O[M];R!==null&&(R.lane&=-536870913)}a&=~H}s!==0&&ws(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(f&~t))}function ws(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ct(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function vr(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-ct(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function ni(e,t){var a=t&-t;return a=(a&42)!==0?1:si(a),(a&(e.suspendedLanes|t))!==0?0:a}function si(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ut(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ss(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:Xm(e.type))}function Mn(e,t){var a=W.p;try{return W.p=e,t()}finally{W.p=a}}var Sa=Math.random().toString(36).slice(2),yt="__reactFiber$"+Sa,xt="__reactProps$"+Sa,Bn="__reactContainer$"+Sa,el="__reactEvents$"+Sa,Jt="__reactListeners$"+Sa,tl="__reactHandles$"+Sa,pr="__reactResources$"+Sa,Ln="__reactMarker$"+Sa;function xs(e){delete e[yt],delete e[xt],delete e[el],delete e[Jt],delete e[tl]}function Xa(e){var t=e[yt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Bn]||a[yt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Rm(e);e!==null;){if(a=e[yt])return a;e=Rm(e)}return t}e=a,a=e.parentNode}return null}function Zt(e){if(e=e[yt]||e[Bn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function rn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ja(e){var t=e[pr];return t||(t=e[pr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Ln]=!0}var Et=new Set,al={};function on(e,t){Ge(e,t),Ge(e+"Capture",t)}function Ge(e,t){for(al[e]=t,e=0;e<t.length;e++)Et.add(t[e])}var cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ii={},li={};function un(e){return Ga.call(li,e)?!0:Ga.call(ii,e)?!1:cn.test(e)?li[e]=!0:(ii[e]=!0,!1)}function dn(e,t,a){if(un(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Es(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function jt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function br(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nl(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s!="undefined"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){a=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yt(e){if(!e._valueTracker){var t=br(e)?"checked":"value";e._valueTracker=nl(e,t,""+e[t])}}function Za(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=br(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Dt(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}var hn=/[\n"\\]/g;function Je(e){return e.replace(hn,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function za(e,t,a,s,o,c,f,v){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Ua(e,f,Vt(t)):a!=null?Ua(e,f,Vt(a)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Vt(v):e.removeAttribute("name")}function Wt(e,t,a,s,o,c,f,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Yt(e);return}a=a!=null?""+Vt(a):"",t=t!=null?""+Vt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}s=s!=null?s:o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),Yt(e)}function Ua(e,t,a){t==="number"&&Dt(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function la(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Vt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function sl(e,t,a){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Vt(a):""}function js(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(r(92));if(ot(s)){if(1<s.length)throw Error(r(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Vt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Yt(e)}function ra(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ns(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Ts.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function qn(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Ns(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&Ns(e,c,t[c])}function fn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ri=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),il=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(e){return il.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function st(){}var $n=null;function ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mt=null,Gn=null;function rl(e){var t=Zt(e);if(t&&(e=t.stateNode)){var a=e[xt]||null;e:switch(e=t.stateNode,t.type){case"input":if(za(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Je(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[xt]||null;if(!o)throw Error(r(90));za(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Za(s)}break e;case"textarea":sl(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&la(e,!!a.multiple,t,!1)}}}var ol=!1;function cl(e,t,a){if(ol)return e(t,a);ol=!0;try{var s=e(t);return s}finally{if(ol=!1,(Mt!==null||Gn!==null)&&(lo(),Mt&&(t=Mt,e=Gn,Gn=Mt=null,rl(t),e)))for(t=0;t<e.length;t++)rl(e[t])}}function fe(e,t){var a=e.stateNode;if(a===null)return null;var s=a[xt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var oa=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ul=!1;if(oa)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){ul=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch(e){ul=!1}var Wa=null,dl=null,As=null;function _r(){if(As)return As;var e,t=dl,a=t.length,s,o="value"in Wa?Wa.value:Wa.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var f=a-e;for(s=1;s<=f&&t[a-s]===o[c-s];s++);return As=o.slice(e,1<s?1-s:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function wr(){return!1}function Bt(e){function t(a,s,o,c,f){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ci:wr,this.isPropagationStopped=wr,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=Bt(mn),ks=j({},mn,{view:0,detail:0}),Ko=Bt(ks),hl,Os,Cs,Yn=j({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kt,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(hl=e.screenX-Cs.screenX,Os=e.screenY-Cs.screenY):Os=hl=0,Cs=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:Os}}),di=Bt(Yn),Sr=j({},Yn,{dataTransfer:0}),xr=Bt(Sr),Er=j({},ks,{relatedTarget:0}),T=Bt(Er),I=j({},mn,{animationName:0,elapsedTime:0,pseudoElement:0}),Z=Bt(I),re=j({},mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ye=Bt(re),ue=j({},mn,{data:0}),ze=Bt(ue),Ee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pt[e])?!!t[e]:!1}function Kt(){return Rs}var ca=j({},ks,{key:function(e){if(e.key){var t=Ee[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kt,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ua=Bt(ca),gn=j({},Yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zs=Bt(gn),fl=j({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kt}),Io=Bt(fl),yg=j({},mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),vg=Bt(yg),pg=j({},Yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bg=Bt(pg),_g=j({},mn,{newState:0,oldState:0}),wg=Bt(_g),Sg=[9,13,27,32],Qo=oa&&"CompositionEvent"in window,ml=null;oa&&"documentMode"in document&&(ml=document.documentMode);var xg=oa&&"TextEvent"in window&&!ml,kd=oa&&(!Qo||ml&&8<ml&&11>=ml),Od=" ",Cd=!1;function Rd(e,t){switch(e){case"keyup":return Sg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hi=!1;function Eg(e,t){switch(e){case"compositionend":return zd(t);case"keypress":return t.which!==32?null:(Cd=!0,Od);case"textInput":return e=t.data,e===Od&&Cd?null:e;default:return null}}function jg(e,t){if(hi)return e==="compositionend"||!Qo&&Rd(e,t)?(e=_r(),As=dl=Wa=null,hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kd&&t.locale!=="ko"?null:t.data;default:return null}}var Tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tg[e.type]:t==="textarea"}function Dd(e,t,a,s){Mt?Gn?Gn.push(s):Gn=[s]:Mt=s,t=mo(t,"onChange"),0<t.length&&(a=new ui("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var gl=null,yl=null;function Ng(e){pm(e,0)}function jr(e){var t=rn(e);if(Za(t))return e}function Md(e,t){if(e==="change")return t}var Bd=!1;if(oa){var Xo;if(oa){var Jo="oninput"in document;if(!Jo){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),Jo=typeof Ld.oninput=="function"}Xo=Jo}else Xo=!1;Bd=Xo&&(!document.documentMode||9<document.documentMode)}function qd(){gl&&(gl.detachEvent("onpropertychange",Hd),yl=gl=null)}function Hd(e){if(e.propertyName==="value"&&jr(yl)){var t=[];Dd(t,yl,e,ll(e)),cl(Ng,t)}}function Ag(e,t,a){e==="focusin"?(qd(),gl=t,yl=a,gl.attachEvent("onpropertychange",Hd)):e==="focusout"&&qd()}function kg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jr(yl)}function Og(e,t){if(e==="click")return jr(t)}function Cg(e,t){if(e==="input"||e==="change")return jr(t)}function Rg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var da=typeof Object.is=="function"?Object.is:Rg;function vl(e,t){if(da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!Ga.call(t,o)||!da(e[o],t[o]))return!1}return!0}function $d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gd(e,t){var a=$d(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$d(a)}}function Vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Dt(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch(s){a=!1}if(a)e=t.contentWindow;else break;t=Dt(e.document)}return t}function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zg=oa&&"documentMode"in document&&11>=document.documentMode,fi=null,Wo=null,pl=null,Po=!1;function Kd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Po||fi==null||fi!==Dt(s)||(s=fi,"selectionStart"in s&&Zo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),pl&&vl(pl,s)||(pl=s,s=mo(Wo,"onSelect"),0<s.length&&(t=new ui("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=fi)))}function Us(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var mi={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Fo={},Id={};oa&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Ds(e){if(Fo[e])return Fo[e];if(!mi[e])return e;var t=mi[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Id)return Fo[e]=t[a];return e}var Qd=Ds("animationend"),Xd=Ds("animationiteration"),Jd=Ds("animationstart"),Ug=Ds("transitionrun"),Dg=Ds("transitionstart"),Mg=Ds("transitioncancel"),Zd=Ds("transitionend"),Wd=new Map,ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ec.push("scrollEnd");function Da(e,t){Wd.set(e,t),on(t,[e])}var Tr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xa=[],gi=0,tc=0;function Nr(){for(var e=gi,t=tc=gi=0;t<e;){var a=xa[t];xa[t++]=null;var s=xa[t];xa[t++]=null;var o=xa[t];xa[t++]=null;var c=xa[t];if(xa[t++]=null,s!==null&&o!==null){var f=s.pending;f===null?o.next=o:(o.next=f.next,f.next=o),s.pending=o}c!==0&&Pd(a,o,c)}}function Ar(e,t,a,s){xa[gi++]=e,xa[gi++]=t,xa[gi++]=a,xa[gi++]=s,tc|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ac(e,t,a,s){return Ar(e,t,a,s),kr(e)}function Ms(e,t){return Ar(e,null,null,t),kr(e)}function Pd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,s=c.alternate,s!==null&&(s.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-ct(a),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),c):null}function kr(e){if(50<Hl)throw Hl=0,du=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var yi={};function Bg(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(e,t,a,s){return new Bg(e,t,a,s)}function nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yn(e,t){var a=e.alternate;return a===null?(a=ha(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Or(e,t,a,s,o,c){var f=0;if(s=e,typeof e=="function")nc(e)&&(f=1);else if(typeof e=="string")f=Gy(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ge:return e=ha(31,a,t,o),e.elementType=ge,e.lanes=c,e;case B:return Bs(a.children,o,c,t);case Q:f=8,o|=24;break;case q:return e=ha(12,a,t,o|2),e.elementType=q,e.lanes=c,e;case G:return e=ha(13,a,t,o),e.elementType=G,e.lanes=c,e;case se:return e=ha(19,a,t,o),e.elementType=se,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:f=10;break e;case K:f=9;break e;case Y:f=11;break e;case X:f=14;break e;case me:f=16,s=null;break e}f=29,a=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=ha(f,a,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function Bs(e,t,a,s){return e=ha(7,e,s,t),e.lanes=a,e}function sc(e,t,a){return e=ha(6,e,null,t),e.lanes=a,e}function eh(e){var t=ha(18,null,null,0);return t.stateNode=e,t}function ic(e,t,a){return t=ha(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var th=new WeakMap;function Ea(e,t){if(typeof e=="object"&&e!==null){var a=th.get(e);return a!==void 0?a:(t={value:e,source:t,stack:nt(t)},th.set(e,t),t)}return{value:e,source:t,stack:nt(t)}}var vi=[],pi=0,Cr=null,bl=0,ja=[],Ta=0,Kn=null,Pa=1,Fa="";function vn(e,t){vi[pi++]=bl,vi[pi++]=Cr,Cr=e,bl=t}function ah(e,t,a){ja[Ta++]=Pa,ja[Ta++]=Fa,ja[Ta++]=Kn,Kn=e;var s=Pa;e=Fa;var o=32-ct(s)-1;s&=~(1<<o),a+=1;var c=32-ct(t)+o;if(30<c){var f=o-o%5;c=(s&(1<<f)-1).toString(32),s>>=f,o-=f,Pa=1<<32-ct(t)+o|a<<o|s,Fa=c+e}else Pa=1<<c|a<<o|s,Fa=e}function lc(e){e.return!==null&&(vn(e,1),ah(e,1,0))}function rc(e){for(;e===Cr;)Cr=vi[--pi],vi[pi]=null,bl=vi[--pi],vi[pi]=null;for(;e===Kn;)Kn=ja[--Ta],ja[Ta]=null,Fa=ja[--Ta],ja[Ta]=null,Pa=ja[--Ta],ja[Ta]=null}function nh(e,t){ja[Ta++]=Pa,ja[Ta++]=Fa,ja[Ta++]=Kn,Pa=t.id,Fa=t.overflow,Kn=e}var Tt=null,Qe=null,ke=!1,In=null,Na=!1,oc=Error(r(519));function Qn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(Ea(t,e)),oc}function sh(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[yt]=e,t[xt]=s,a){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Te(Gl[a],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),Wt(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),js(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Sm(t.textContent,a)?(s.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),s.onScroll!=null&&Te("scroll",t),s.onScrollEnd!=null&&Te("scrollend",t),s.onClick!=null&&(t.onclick=st),t=!0):t=!1,t||Qn(e,!0)}function ih(e){for(Tt=e.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:Na=!1;return;case 27:case 3:Na=!0;return;default:Tt=Tt.return}}function bi(e){if(e!==Tt)return!1;if(!ke)return ih(e),ke=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Tu(e.type,e.memoizedProps)),a=!a),a&&Qe&&Qn(e),ih(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Qe=Cm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Qe=Cm(e)}else t===27?(t=Qe,rs(e.type)?(e=Cu,Cu=null,Qe=e):Qe=t):Qe=Tt?ka(e.stateNode.nextSibling):null;return!0}function Ls(){Qe=Tt=null,ke=!1}function cc(){var e=In;return e!==null&&(aa===null?aa=e:aa.push.apply(aa,e),In=null),e}function _l(e){In===null?In=[e]:In.push(e)}var uc=S(null),qs=null,pn=null;function Xn(e,t,a){P(uc,t._currentValue),t._currentValue=a}function bn(e){e._currentValue=uc.current,U(uc)}function dc(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function hc(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var f=o.child;c=c.firstContext;e:for(;c!==null;){var v=c;c=o;for(var w=0;w<t.length;w++)if(v.context===t[w]){c.lanes|=a,v=c.alternate,v!==null&&(v.lanes|=a),dc(c.return,a,e),s||(f=null);break e}c=v.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(r(341));f.lanes|=a,c=f.alternate,c!==null&&(c.lanes|=a),dc(f,a,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function _i(e,t,a,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(r(387));if(f=f.memoizedProps,f!==null){var v=o.type;da(o.pendingProps.value,f.value)||(e!==null?e.push(v):e=[v])}}else if(o===xe.current){if(f=o.alternate,f===null)throw Error(r(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ql):e=[Ql])}o=o.return}e!==null&&hc(t,e,a,s),t.flags|=262144}function Rr(e){for(e=e.firstContext;e!==null;){if(!da(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hs(e){qs=e,pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return lh(qs,e)}function zr(e,t){return qs===null&&Hs(e),lh(e,t)}function lh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},pn===null){if(e===null)throw Error(r(308));pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pn=pn.next=t;return a}var Lg=typeof AbortController!="undefined"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},qg=i.unstable_scheduleCallback,Hg=i.unstable_NormalPriority,ut={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fc(){return{controller:new Lg,data:new Map,refCount:0}}function wl(e){e.refCount--,e.refCount===0&&qg(Hg,function(){e.controller.abort()})}var Sl=null,mc=0,wi=0,Si=null;function $g(e,t){if(Sl===null){var a=Sl=[];mc=0,wi=vu(),Si={status:"pending",value:void 0,then:function(s){a.push(s)}}}return mc++,t.then(rh,rh),t}function rh(){if(--mc===0&&Sl!==null){Si!==null&&(Si.status="fulfilled");var e=Sl;Sl=null,wi=0,Si=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Gg(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var oh=D.S;D.S=function(e,t){If=$t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$g(e,t),oh!==null&&oh(e,t)};var $s=S(null);function gc(){var e=$s.current;return e!==null?e:Ve.pooledCache}function Ur(e,t){t===null?P($s,$s.current):P($s,t.pool)}function ch(){var e=gc();return e===null?null:{parent:ut._currentValue,pool:e}}var xi=Error(r(460)),yc=Error(r(474)),Dr=Error(r(542)),Mr={then:function(){}};function uh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(st,st),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fh(e),e;default:if(typeof t.status=="string")t.then(st,st);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fh(e),e}throw Vs=t,xi}}function Gs(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vs=a,xi):a}}var Vs=null;function hh(){if(Vs===null)throw Error(r(459));var e=Vs;return Vs=null,e}function fh(e){if(e===xi||e===Dr)throw Error(r(483))}var Ei=null,xl=0;function Br(e){var t=xl;return xl+=1,Ei===null&&(Ei=[]),dh(Ei,e,t)}function El(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Lr(e,t){throw t.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function mh(e){function t(N,x){if(e){var A=N.deletions;A===null?(N.deletions=[x],N.flags|=16):A.push(x)}}function a(N,x){if(!e)return null;for(;x!==null;)t(N,x),x=x.sibling;return null}function s(N){for(var x=new Map;N!==null;)N.key!==null?x.set(N.key,N):x.set(N.index,N),N=N.sibling;return x}function o(N,x){return N=yn(N,x),N.index=0,N.sibling=null,N}function c(N,x,A){return N.index=A,e?(A=N.alternate,A!==null?(A=A.index,A<x?(N.flags|=67108866,x):A):(N.flags|=67108866,x)):(N.flags|=1048576,x)}function f(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function v(N,x,A,L){return x===null||x.tag!==6?(x=sc(A,N.mode,L),x.return=N,x):(x=o(x,A),x.return=N,x)}function w(N,x,A,L){var le=A.type;return le===B?M(N,x,A.props.children,L,A.key):x!==null&&(x.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===me&&Gs(le)===x.type)?(x=o(x,A.props),El(x,A),x.return=N,x):(x=Or(A.type,A.key,A.props,null,N.mode,L),El(x,A),x.return=N,x)}function k(N,x,A,L){return x===null||x.tag!==4||x.stateNode.containerInfo!==A.containerInfo||x.stateNode.implementation!==A.implementation?(x=ic(A,N.mode,L),x.return=N,x):(x=o(x,A.children||[]),x.return=N,x)}function M(N,x,A,L,le){return x===null||x.tag!==7?(x=Bs(A,N.mode,L,le),x.return=N,x):(x=o(x,A),x.return=N,x)}function H(N,x,A){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=sc(""+x,N.mode,A),x.return=N,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C:return A=Or(x.type,x.key,x.props,null,N.mode,A),El(A,x),A.return=N,A;case z:return x=ic(x,N.mode,A),x.return=N,x;case me:return x=Gs(x),H(N,x,A)}if(ot(x)||Le(x))return x=Bs(x,N.mode,A,null),x.return=N,x;if(typeof x.then=="function")return H(N,Br(x),A);if(x.$$typeof===V)return H(N,zr(N,x),A);Lr(N,x)}return null}function O(N,x,A,L){var le=x!==null?x.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return le!==null?null:v(N,x,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case C:return A.key===le?w(N,x,A,L):null;case z:return A.key===le?k(N,x,A,L):null;case me:return A=Gs(A),O(N,x,A,L)}if(ot(A)||Le(A))return le!==null?null:M(N,x,A,L,null);if(typeof A.then=="function")return O(N,x,Br(A),L);if(A.$$typeof===V)return O(N,x,zr(N,A),L);Lr(N,A)}return null}function R(N,x,A,L,le){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return N=N.get(A)||null,v(x,N,""+L,le);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return N=N.get(L.key===null?A:L.key)||null,w(x,N,L,le);case z:return N=N.get(L.key===null?A:L.key)||null,k(x,N,L,le);case me:return L=Gs(L),R(N,x,A,L,le)}if(ot(L)||Le(L))return N=N.get(A)||null,M(x,N,L,le,null);if(typeof L.then=="function")return R(N,x,A,Br(L),le);if(L.$$typeof===V)return R(N,x,A,zr(x,L),le);Lr(x,L)}return null}function ee(N,x,A,L){for(var le=null,Ce=null,ne=x,_e=x=0,Ae=null;ne!==null&&_e<A.length;_e++){ne.index>_e?(Ae=ne,ne=null):Ae=ne.sibling;var Re=O(N,ne,A[_e],L);if(Re===null){ne===null&&(ne=Ae);break}e&&ne&&Re.alternate===null&&t(N,ne),x=c(Re,x,_e),Ce===null?le=Re:Ce.sibling=Re,Ce=Re,ne=Ae}if(_e===A.length)return a(N,ne),ke&&vn(N,_e),le;if(ne===null){for(;_e<A.length;_e++)ne=H(N,A[_e],L),ne!==null&&(x=c(ne,x,_e),Ce===null?le=ne:Ce.sibling=ne,Ce=ne);return ke&&vn(N,_e),le}for(ne=s(ne);_e<A.length;_e++)Ae=R(ne,N,_e,A[_e],L),Ae!==null&&(e&&Ae.alternate!==null&&ne.delete(Ae.key===null?_e:Ae.key),x=c(Ae,x,_e),Ce===null?le=Ae:Ce.sibling=Ae,Ce=Ae);return e&&ne.forEach(function(hs){return t(N,hs)}),ke&&vn(N,_e),le}function oe(N,x,A,L){if(A==null)throw Error(r(151));for(var le=null,Ce=null,ne=x,_e=x=0,Ae=null,Re=A.next();ne!==null&&!Re.done;_e++,Re=A.next()){ne.index>_e?(Ae=ne,ne=null):Ae=ne.sibling;var hs=O(N,ne,Re.value,L);if(hs===null){ne===null&&(ne=Ae);break}e&&ne&&hs.alternate===null&&t(N,ne),x=c(hs,x,_e),Ce===null?le=hs:Ce.sibling=hs,Ce=hs,ne=Ae}if(Re.done)return a(N,ne),ke&&vn(N,_e),le;if(ne===null){for(;!Re.done;_e++,Re=A.next())Re=H(N,Re.value,L),Re!==null&&(x=c(Re,x,_e),Ce===null?le=Re:Ce.sibling=Re,Ce=Re);return ke&&vn(N,_e),le}for(ne=s(ne);!Re.done;_e++,Re=A.next())Re=R(ne,N,_e,Re.value,L),Re!==null&&(e&&Re.alternate!==null&&ne.delete(Re.key===null?_e:Re.key),x=c(Re,x,_e),Ce===null?le=Re:Ce.sibling=Re,Ce=Re);return e&&ne.forEach(function(Fy){return t(N,Fy)}),ke&&vn(N,_e),le}function $e(N,x,A,L){if(typeof A=="object"&&A!==null&&A.type===B&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case C:e:{for(var le=A.key;x!==null;){if(x.key===le){if(le=A.type,le===B){if(x.tag===7){a(N,x.sibling),L=o(x,A.props.children),L.return=N,N=L;break e}}else if(x.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===me&&Gs(le)===x.type){a(N,x.sibling),L=o(x,A.props),El(L,A),L.return=N,N=L;break e}a(N,x);break}else t(N,x);x=x.sibling}A.type===B?(L=Bs(A.props.children,N.mode,L,A.key),L.return=N,N=L):(L=Or(A.type,A.key,A.props,null,N.mode,L),El(L,A),L.return=N,N=L)}return f(N);case z:e:{for(le=A.key;x!==null;){if(x.key===le)if(x.tag===4&&x.stateNode.containerInfo===A.containerInfo&&x.stateNode.implementation===A.implementation){a(N,x.sibling),L=o(x,A.children||[]),L.return=N,N=L;break e}else{a(N,x);break}else t(N,x);x=x.sibling}L=ic(A,N.mode,L),L.return=N,N=L}return f(N);case me:return A=Gs(A),$e(N,x,A,L)}if(ot(A))return ee(N,x,A,L);if(Le(A)){if(le=Le(A),typeof le!="function")throw Error(r(150));return A=le.call(A),oe(N,x,A,L)}if(typeof A.then=="function")return $e(N,x,Br(A),L);if(A.$$typeof===V)return $e(N,x,zr(N,A),L);Lr(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,x!==null&&x.tag===6?(a(N,x.sibling),L=o(x,A),L.return=N,N=L):(a(N,x),L=sc(A,N.mode,L),L.return=N,N=L),f(N)):a(N,x)}return function(N,x,A,L){try{xl=0;var le=$e(N,x,A,L);return Ei=null,le}catch(ne){if(ne===xi||ne===Dr)throw ne;var Ce=ha(29,ne,null,N.mode);return Ce.lanes=L,Ce.return=N,Ce}}}var Ys=mh(!0),gh=mh(!1),Jn=!1;function vc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ue&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=kr(e),Pd(e,null,a),t}return Ar(e,s,t,a),kr(e)}function jl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,vr(e,a)}}function bc(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=f:c=c.next=f,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var _c=!1;function Tl(){if(_c){var e=Si;if(e!==null)throw e}}function Nl(e,t,a,s){_c=!1;var o=e.updateQueue;Jn=!1;var c=o.firstBaseUpdate,f=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var w=v,k=w.next;w.next=null,f===null?c=k:f.next=k,f=w;var M=e.alternate;M!==null&&(M=M.updateQueue,v=M.lastBaseUpdate,v!==f&&(v===null?M.firstBaseUpdate=k:v.next=k,M.lastBaseUpdate=w))}if(c!==null){var H=o.baseState;f=0,M=k=w=null,v=c;do{var O=v.lane&-536870913,R=O!==v.lane;if(R?(Ne&O)===O:(s&O)===O){O!==0&&O===wi&&(_c=!0),M!==null&&(M=M.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ee=e,oe=v;O=t;var $e=a;switch(oe.tag){case 1:if(ee=oe.payload,typeof ee=="function"){H=ee.call($e,H,O);break e}H=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=oe.payload,O=typeof ee=="function"?ee.call($e,H,O):ee,O==null)break e;H=j({},H,O);break e;case 2:Jn=!0}}O=v.callback,O!==null&&(e.flags|=64,R&&(e.flags|=8192),R=o.callbacks,R===null?o.callbacks=[O]:R.push(O))}else R={lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},M===null?(k=M=R,w=H):M=M.next=R,f|=O;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;R=v,v=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);M===null&&(w=H),o.baseState=w,o.firstBaseUpdate=k,o.lastBaseUpdate=M,c===null&&(o.shared.lanes=0),as|=f,e.lanes=f,e.memoizedState=H}}function yh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function vh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)yh(a[e],t)}var ji=S(null),qr=S(0);function ph(e,t){e=An,P(qr,e),P(ji,t),An=e|t.baseLanes}function wc(){P(qr,An),P(ji,ji.current)}function Sc(){An=qr.current,U(ji),U(qr)}var fa=S(null),Aa=null;function Pn(e){var t=e.alternate;P(it,it.current&1),P(fa,e),Aa===null&&(t===null||ji.current!==null||t.memoizedState!==null)&&(Aa=e)}function xc(e){P(it,it.current),P(fa,e),Aa===null&&(Aa=e)}function bh(e){e.tag===22?(P(it,it.current),P(fa,e),Aa===null&&(Aa=e)):Fn()}function Fn(){P(it,it.current),P(fa,fa.current)}function ma(e){U(fa),Aa===e&&(Aa=null),U(it)}var it=S(0);function Hr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ku(a)||Ou(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _n=0,be=null,qe=null,dt=null,$r=!1,Ti=!1,Ks=!1,Gr=0,Al=0,Ni=null,Vg=0;function Fe(){throw Error(r(321))}function Ec(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!da(e[a],t[a]))return!1;return!0}function jc(e,t,a,s,o,c){return _n=c,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?af:Hc,Ks=!1,c=a(s,o),Ks=!1,Ti&&(c=wh(t,a,s,o)),_h(e),c}function _h(e){D.H=Cl;var t=qe!==null&&qe.next!==null;if(_n=0,dt=qe=be=null,$r=!1,Al=0,Ni=null,t)throw Error(r(300));e===null||ht||(e=e.dependencies,e!==null&&Rr(e)&&(ht=!0))}function wh(e,t,a,s){be=e;var o=0;do{if(Ti&&(Ni=null),Al=0,Ti=!1,25<=o)throw Error(r(301));if(o+=1,dt=qe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}D.H=nf,c=t(a,s)}while(Ti);return c}function Yg(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?kl(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(be.flags|=1024),t}function Tc(){var e=Gr!==0;return Gr=0,e}function Nc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ac(e){if($r){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}$r=!1}_n=0,dt=qe=be=null,Ti=!1,Al=Gr=0,Ni=null}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?be.memoizedState=dt=e:dt=dt.next=e,dt}function lt(){if(qe===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=dt===null?be.memoizedState:dt.next;if(t!==null)dt=t,qe=e;else{if(e===null)throw be.alternate===null?Error(r(467)):Error(r(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},dt===null?be.memoizedState=dt=e:dt=dt.next=e}return dt}function Vr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(e){var t=Al;return Al+=1,Ni===null&&(Ni=[]),e=dh(Ni,e,t),t=be,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?af:Hc),e}function Yr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kl(e);if(e.$$typeof===V)return Nt(e)}throw Error(r(438,String(e)))}function kc(e){var t=null,a=be.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Vr(),be.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=Rt;return t.index++,a}function wn(e,t){return typeof t=="function"?t(e):t}function Kr(e){var t=lt();return Oc(t,qe,e)}function Oc(e,t,a){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var f=o.next;o.next=c.next,c.next=f}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var v=f=null,w=null,k=t,M=!1;do{var H=k.lane&-536870913;if(H!==k.lane?(Ne&H)===H:(_n&H)===H){var O=k.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),H===wi&&(M=!0);else if((_n&O)===O){k=k.next,O===wi&&(M=!0);continue}else H={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(v=w=H,f=c):w=w.next=H,be.lanes|=O,as|=O;H=k.action,Ks&&a(c,H),c=k.hasEagerState?k.eagerState:a(c,H)}else O={lane:H,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(v=w=O,f=c):w=w.next=O,be.lanes|=H,as|=H;k=k.next}while(k!==null&&k!==t);if(w===null?f=c:w.next=v,!da(c,e.memoizedState)&&(ht=!0,M&&(a=Si,a!==null)))throw a;e.memoizedState=c,e.baseState=f,e.baseQueue=w,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Cc(e){var t=lt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var f=o=o.next;do c=e(c,f.action),f=f.next;while(f!==o);da(c,t.memoizedState)||(ht=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,s]}function Sh(e,t,a){var s=be,o=lt(),c=ke;if(c){if(a===void 0)throw Error(r(407));a=a()}else a=t();var f=!da((qe||o).memoizedState,a);if(f&&(o.memoizedState=a,ht=!0),o=o.queue,Uc(jh.bind(null,s,o,e),[e]),o.getSnapshot!==t||f||dt!==null&&dt.memoizedState.tag&1){if(s.flags|=2048,Ai(9,{destroy:void 0},Eh.bind(null,s,o,a,t),null),Ve===null)throw Error(r(349));c||(_n&127)!==0||xh(s,t,a)}return a}function xh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=be.updateQueue,t===null?(t=Vr(),be.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Eh(e,t,a,s){t.value=a,t.getSnapshot=s,Th(t)&&Nh(e)}function jh(e,t,a){return a(function(){Th(t)&&Nh(e)})}function Th(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!da(e,a)}catch(s){return!0}}function Nh(e){var t=Ms(e,2);t!==null&&na(t,e,2)}function Rc(e){var t=It();if(typeof e=="function"){var a=e;if(e=a(),Ks){Ia(!0);try{a()}finally{Ia(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:e},t}function Ah(e,t,a,s){return e.baseState=a,Oc(e,qe,typeof s=="function"?s:wn)}function Kg(e,t,a,s,o){if(Xr(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){c.listeners.push(f)}};D.T!==null?a(!0):c.isTransition=!1,s(c),a=t.pending,a===null?(c.next=t.pending=c,kh(t,c)):(c.next=a.next,t.pending=a.next=c)}}function kh(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=D.T,f={};D.T=f;try{var v=a(o,s),w=D.S;w!==null&&w(f,v),Oh(e,t,v)}catch(k){zc(e,t,k)}finally{c!==null&&f.types!==null&&(c.types=f.types),D.T=c}}else try{c=a(o,s),Oh(e,t,c)}catch(k){zc(e,t,k)}}function Oh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Ch(e,t,s)},function(s){return zc(e,t,s)}):Ch(e,t,a)}function Ch(e,t,a){t.status="fulfilled",t.value=a,Rh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,kh(e,a)))}function zc(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Rh(t),t=t.next;while(t!==s)}e.action=null}function Rh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function zh(e,t){return t}function Uh(e,t){if(ke){var a=Ve.formState;if(a!==null){e:{var s=be;if(ke){if(Qe){t:{for(var o=Qe,c=Na;o.nodeType!==8;){if(!c){o=null;break t}if(o=ka(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Qe=ka(o.nextSibling),s=o.data==="F!";break e}}Qn(s)}s=!1}s&&(t=a[0])}}return a=It(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zh,lastRenderedState:t},a.queue=s,a=Fh.bind(null,be,s),s.dispatch=a,s=Rc(!1),c=qc.bind(null,be,!1,s.queue),s=It(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=Kg.bind(null,be,o,c,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Dh(e){var t=lt();return Mh(t,qe,e)}function Mh(e,t,a){if(t=Oc(e,t,zh)[0],e=Kr(wn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=kl(t)}catch(f){throw f===xi?Dr:f}else s=t;t=lt();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(be.flags|=2048,Ai(9,{destroy:void 0},Ig.bind(null,o,a),null)),[s,c,e]}function Ig(e,t){e.action=t}function Bh(e){var t=lt(),a=qe;if(a!==null)return Mh(t,a,e);lt(),t=t.memoizedState,a=lt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Ai(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=be.updateQueue,t===null&&(t=Vr(),be.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Lh(){return lt().memoizedState}function Ir(e,t,a,s){var o=It();be.flags|=e,o.memoizedState=Ai(1|t,{destroy:void 0},a,s===void 0?null:s)}function Qr(e,t,a,s){var o=lt();s=s===void 0?null:s;var c=o.memoizedState.inst;qe!==null&&s!==null&&Ec(s,qe.memoizedState.deps)?o.memoizedState=Ai(t,c,a,s):(be.flags|=e,o.memoizedState=Ai(1|t,c,a,s))}function qh(e,t){Ir(8390656,8,e,t)}function Uc(e,t){Qr(2048,8,e,t)}function Qg(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=Vr(),be.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Hh(e){var t=lt().memoizedState;return Qg({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function $h(e,t){return Qr(4,2,e,t)}function Gh(e,t){return Qr(4,4,e,t)}function Vh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yh(e,t,a){a=a!=null?a.concat([e]):null,Qr(4,4,Vh.bind(null,t,e),a)}function Dc(){}function Kh(e,t){var a=lt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Ec(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Ih(e,t){var a=lt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Ec(t,s[1]))return s[0];if(s=e(),Ks){Ia(!0);try{e()}finally{Ia(!1)}}return a.memoizedState=[s,t],s}function Mc(e,t,a){return a===void 0||(_n&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Xf(),be.lanes|=e,as|=e,a)}function Qh(e,t,a,s){return da(a,t)?a:ji.current!==null?(e=Mc(e,a,s),da(e,t)||(ht=!0),e):(_n&42)===0||(_n&1073741824)!==0&&(Ne&261930)===0?(ht=!0,e.memoizedState=a):(e=Xf(),be.lanes|=e,as|=e,t)}function Xh(e,t,a,s,o){var c=W.p;W.p=c!==0&&8>c?c:8;var f=D.T,v={};D.T=v,qc(e,!1,t,a);try{var w=o(),k=D.S;if(k!==null&&k(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var M=Gg(w,s);Ol(e,t,M,va(e))}else Ol(e,t,s,va(e))}catch(H){Ol(e,t,{then:function(){},status:"rejected",reason:H},va())}finally{W.p=c,f!==null&&v.types!==null&&(f.types=v.types),D.T=f}}function Xg(){}function Bc(e,t,a,s){if(e.tag!==5)throw Error(r(476));var o=Jh(e).queue;Xh(e,o,t,ae,a===null?Xg:function(){return Zh(e),a(s)})}function Jh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zh(e){var t=Jh(e);t.next===null&&(t=e.alternate.memoizedState),Ol(e,t.next.queue,{},va())}function Lc(){return Nt(Ql)}function Wh(){return lt().memoizedState}function Ph(){return lt().memoizedState}function Jg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=va();e=Zn(a);var s=Wn(t,e,a);s!==null&&(na(s,t,a),jl(s,t,a)),t={cache:fc()},e.payload=t;return}t=t.return}}function Zg(e,t,a){var s=va();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xr(e)?ef(t,a):(a=ac(e,t,a,s),a!==null&&(na(a,e,s),tf(a,t,s)))}function Fh(e,t,a){var s=va();Ol(e,t,a,s)}function Ol(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xr(e))ef(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,v=c(f,a);if(o.hasEagerState=!0,o.eagerState=v,da(v,f))return Ar(e,t,o,0),Ve===null&&Nr(),!1}catch(w){}if(a=ac(e,t,o,s),a!==null)return na(a,e,s),tf(a,t,s),!0}return!1}function qc(e,t,a,s){if(s={lane:2,revertLane:vu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Xr(e)){if(t)throw Error(r(479))}else t=ac(e,a,s,2),t!==null&&na(t,e,2)}function Xr(e){var t=e.alternate;return e===be||t!==null&&t===be}function ef(e,t){Ti=$r=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function tf(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,vr(e,a)}}var Cl={readContext:Nt,use:Yr,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Cl.useEffectEvent=Fe;var af={readContext:Nt,use:Yr,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:qh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ir(4194308,4,Vh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ir(4194308,4,e,t)},useInsertionEffect:function(e,t){Ir(4,2,e,t)},useMemo:function(e,t){var a=It();t=t===void 0?null:t;var s=e();if(Ks){Ia(!0);try{e()}finally{Ia(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=It();if(a!==void 0){var o=a(t);if(Ks){Ia(!0);try{a(t)}finally{Ia(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Zg.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:function(e){e=Rc(e);var t=e.queue,a=Fh.bind(null,be,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Dc,useDeferredValue:function(e,t){var a=It();return Mc(a,e,t)},useTransition:function(){var e=Rc(!1);return e=Xh.bind(null,be,e.queue,!0,!1),It().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=be,o=It();if(ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ve===null)throw Error(r(349));(Ne&127)!==0||xh(s,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,qh(jh.bind(null,s,c,e),[e]),s.flags|=2048,Ai(9,{destroy:void 0},Eh.bind(null,s,c,a,t),null),a},useId:function(){var e=It(),t=Ve.identifierPrefix;if(ke){var a=Fa,s=Pa;a=(s&~(1<<32-ct(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Gr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Vg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Lc,useFormState:Uh,useActionState:Uh,useOptimistic:function(e){var t=It();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=qc.bind(null,be,!0,a),a.dispatch=t,[e,t]},useMemoCache:kc,useCacheRefresh:function(){return It().memoizedState=Jg.bind(null,be)},useEffectEvent:function(e){var t=It(),a={impl:e};return t.memoizedState=a,function(){if((Ue&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Hc={readContext:Nt,use:Yr,useCallback:Kh,useContext:Nt,useEffect:Uc,useImperativeHandle:Yh,useInsertionEffect:$h,useLayoutEffect:Gh,useMemo:Ih,useReducer:Kr,useRef:Lh,useState:function(){return Kr(wn)},useDebugValue:Dc,useDeferredValue:function(e,t){var a=lt();return Qh(a,qe.memoizedState,e,t)},useTransition:function(){var e=Kr(wn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:kl(e),t]},useSyncExternalStore:Sh,useId:Wh,useHostTransitionStatus:Lc,useFormState:Dh,useActionState:Dh,useOptimistic:function(e,t){var a=lt();return Ah(a,qe,e,t)},useMemoCache:kc,useCacheRefresh:Ph};Hc.useEffectEvent=Hh;var nf={readContext:Nt,use:Yr,useCallback:Kh,useContext:Nt,useEffect:Uc,useImperativeHandle:Yh,useInsertionEffect:$h,useLayoutEffect:Gh,useMemo:Ih,useReducer:Cc,useRef:Lh,useState:function(){return Cc(wn)},useDebugValue:Dc,useDeferredValue:function(e,t){var a=lt();return qe===null?Mc(a,e,t):Qh(a,qe.memoizedState,e,t)},useTransition:function(){var e=Cc(wn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:kl(e),t]},useSyncExternalStore:Sh,useId:Wh,useHostTransitionStatus:Lc,useFormState:Bh,useActionState:Bh,useOptimistic:function(e,t){var a=lt();return qe!==null?Ah(a,qe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kc,useCacheRefresh:Ph};nf.useEffectEvent=Hh;function $c(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:j({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Gc={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=va(),o=Zn(s);o.payload=t,a!=null&&(o.callback=a),t=Wn(e,o,s),t!==null&&(na(t,e,s),jl(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=va(),o=Zn(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Wn(e,o,s),t!==null&&(na(t,e,s),jl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=va(),s=Zn(a);s.tag=2,t!=null&&(s.callback=t),t=Wn(e,s,a),t!==null&&(na(t,e,a),jl(t,e,a))}};function sf(e,t,a,s,o,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,f):t.prototype&&t.prototype.isPureReactComponent?!vl(a,s)||!vl(o,c):!0}function lf(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Gc.enqueueReplaceState(t,t.state,null)}function Is(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=j({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function rf(e){Tr(e)}function of(e){console.error(e)}function cf(e){Tr(e)}function Jr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function uf(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Vc(e,t,a){return a=Zn(a),a.tag=3,a.payload={element:null},a.callback=function(){Jr(e,t)},a}function df(e){return e=Zn(e),e.tag=3,e}function hf(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){uf(t,a,s)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){uf(t,a,s),typeof o!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function Wg(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&_i(t,a,o,!0),a=fa.current,a!==null){switch(a.tag){case 31:case 13:return Aa===null?ro():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===Mr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),mu(e,s,o)),!1;case 22:return a.flags|=65536,s===Mr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),mu(e,s,o)),!1}throw Error(r(435,a.tag))}return mu(e,s,o),ro(),!1}if(ke)return t=fa.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==oc&&(e=Error(r(422),{cause:s}),_l(Ea(e,a)))):(s!==oc&&(t=Error(r(423),{cause:s}),_l(Ea(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Ea(s,a),o=Vc(e.stateNode,s,o),bc(e,o),et!==4&&(et=2)),!1;var c=Error(r(520),{cause:s});if(c=Ea(c,a),ql===null?ql=[c]:ql.push(c),et!==4&&(et=2),t===null)return!0;s=Ea(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Vc(a.stateNode,s,e),bc(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ns===null||!ns.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=df(o),hf(o,e,a,s),bc(a,o),!1}a=a.return}while(a!==null);return!1}var Yc=Error(r(461)),ht=!1;function At(e,t,a,s){t.child=e===null?gh(t,null,a,s):Ys(t,e.child,a,s)}function ff(e,t,a,s,o){a=a.render;var c=t.ref;if("ref"in s){var f={};for(var v in s)v!=="ref"&&(f[v]=s[v])}else f=s;return Hs(t),s=jc(e,t,a,f,c,o),v=Tc(),e!==null&&!ht?(Nc(e,t,o),Sn(e,t,o)):(ke&&v&&lc(t),t.flags|=1,At(e,t,s,o),t.child)}function mf(e,t,a,s,o){if(e===null){var c=a.type;return typeof c=="function"&&!nc(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,gf(e,t,c,s,o)):(e=Or(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Pc(e,o)){var f=c.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(f,s)&&e.ref===t.ref)return Sn(e,t,o)}return t.flags|=1,e=yn(c,s),e.ref=t.ref,e.return=t,t.child=e}function gf(e,t,a,s,o){if(e!==null){var c=e.memoizedProps;if(vl(c,s)&&e.ref===t.ref)if(ht=!1,t.pendingProps=s=c,Pc(e,o))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,Sn(e,t,o)}return Kc(e,t,a,s,o)}function yf(e,t,a,s){var o=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~c}else s=0,t.child=null;return vf(e,t,c,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ur(t,c!==null?c.cachePool:null),c!==null?ph(t,c):wc(),bh(t);else return s=t.lanes=536870912,vf(e,t,c!==null?c.baseLanes|a:a,a,s)}else c!==null?(Ur(t,c.cachePool),ph(t,c),Fn(),t.memoizedState=null):(e!==null&&Ur(t,null),wc(),Fn());return At(e,t,o,a),t.child}function Rl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function vf(e,t,a,s,o){var c=gc();return c=c===null?null:{parent:ut._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&Ur(t,null),wc(),bh(t),e!==null&&_i(e,t,s,!0),t.childLanes=o,null}function Zr(e,t){return t=Pr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function pf(e,t,a){return Ys(t,e.child,null,a),e=Zr(t,t.pendingProps),e.flags|=2,ma(t),t.memoizedState=null,e}function Pg(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ke){if(s.mode==="hidden")return e=Zr(t,s),t.lanes=536870912,Rl(null,e);if(xc(t),(e=Qe)?(e=Om(e,Na),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:Pa,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},a=eh(e),a.return=t,t.child=a,Tt=t,Qe=null)):e=null,e===null)throw Qn(t);return t.lanes=536870912,null}return Zr(t,s)}var c=e.memoizedState;if(c!==null){var f=c.dehydrated;if(xc(t),o)if(t.flags&256)t.flags&=-257,t=pf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(ht||_i(e,t,a,!1),o=(a&e.childLanes)!==0,ht||o){if(s=Ve,s!==null&&(f=ni(s,a),f!==0&&f!==c.retryLane))throw c.retryLane=f,Ms(e,f),na(s,e,f),Yc;ro(),t=pf(e,t,a)}else e=c.treeContext,Qe=ka(f.nextSibling),Tt=t,ke=!0,In=null,Na=!1,e!==null&&nh(t,e),t=Zr(t,s),t.flags|=4096;return t}return e=yn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Wr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Kc(e,t,a,s,o){return Hs(t),a=jc(e,t,a,s,void 0,o),s=Tc(),e!==null&&!ht?(Nc(e,t,o),Sn(e,t,o)):(ke&&s&&lc(t),t.flags|=1,At(e,t,a,o),t.child)}function bf(e,t,a,s,o,c){return Hs(t),t.updateQueue=null,a=wh(t,s,a,o),_h(e),s=Tc(),e!==null&&!ht?(Nc(e,t,c),Sn(e,t,c)):(ke&&s&&lc(t),t.flags|=1,At(e,t,a,c),t.child)}function _f(e,t,a,s,o){if(Hs(t),t.stateNode===null){var c=yi,f=a.contextType;typeof f=="object"&&f!==null&&(c=Nt(f)),c=new a(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Gc,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},vc(t),f=a.contextType,c.context=typeof f=="object"&&f!==null?Nt(f):yi,c.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&($c(t,a,f,s),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(f=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),f!==c.state&&Gc.enqueueReplaceState(c,c.state,null),Nl(t,s,c,o),Tl(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var v=t.memoizedProps,w=Is(a,v);c.props=w;var k=c.context,M=a.contextType;f=yi,typeof M=="object"&&M!==null&&(f=Nt(M));var H=a.getDerivedStateFromProps;M=typeof H=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,M||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||k!==f)&&lf(t,c,s,f),Jn=!1;var O=t.memoizedState;c.state=O,Nl(t,s,c,o),Tl(),k=t.memoizedState,v||O!==k||Jn?(typeof H=="function"&&($c(t,a,H,s),k=t.memoizedState),(w=Jn||sf(t,a,w,s,O,k,f))?(M||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=k),c.props=s,c.state=k,c.context=f,s=w):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,pc(e,t),f=t.memoizedProps,M=Is(a,f),c.props=M,H=t.pendingProps,O=c.context,k=a.contextType,w=yi,typeof k=="object"&&k!==null&&(w=Nt(k)),v=a.getDerivedStateFromProps,(k=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==H||O!==w)&&lf(t,c,s,w),Jn=!1,O=t.memoizedState,c.state=O,Nl(t,s,c,o),Tl();var R=t.memoizedState;f!==H||O!==R||Jn||e!==null&&e.dependencies!==null&&Rr(e.dependencies)?(typeof v=="function"&&($c(t,a,v,s),R=t.memoizedState),(M=Jn||sf(t,a,M,s,O,R,w)||e!==null&&e.dependencies!==null&&Rr(e.dependencies))?(k||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,R,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,R,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=R),c.props=s,c.state=R,c.context=w,s=M):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,Wr(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=Ys(t,e.child,null,o),t.child=Ys(t,null,a,o)):At(e,t,a,o),t.memoizedState=c.state,e=t.child):e=Sn(e,t,o),e}function wf(e,t,a,s){return Ls(),t.flags|=256,At(e,t,a,s),t.child}var Ic={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qc(e){return{baseLanes:e,cachePool:ch()}}function Xc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ya),e}function Sf(e,t,a){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(it.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(o?Pn(t):Fn(),(e=Qe)?(e=Om(e,Na),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:Pa,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},a=eh(e),a.return=t,t.child=a,Tt=t,Qe=null)):e=null,e===null)throw Qn(t);return Ou(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,o?(Fn(),o=t.mode,v=Pr({mode:"hidden",children:v},o),s=Bs(s,o,a,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=Qc(a),s.childLanes=Xc(e,f,a),t.memoizedState=Ic,Rl(null,s)):(Pn(t),Jc(t,v))}var w=e.memoizedState;if(w!==null&&(v=w.dehydrated,v!==null)){if(c)t.flags&256?(Pn(t),t.flags&=-257,t=Zc(e,t,a)):t.memoizedState!==null?(Fn(),t.child=e.child,t.flags|=128,t=null):(Fn(),v=s.fallback,o=t.mode,s=Pr({mode:"visible",children:s.children},o),v=Bs(v,o,a,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,Ys(t,e.child,null,a),s=t.child,s.memoizedState=Qc(a),s.childLanes=Xc(e,f,a),t.memoizedState=Ic,t=Rl(null,s));else if(Pn(t),Ou(v)){if(f=v.nextSibling&&v.nextSibling.dataset,f)var k=f.dgst;f=k,s=Error(r(419)),s.stack="",s.digest=f,_l({value:s,source:null,stack:null}),t=Zc(e,t,a)}else if(ht||_i(e,t,a,!1),f=(a&e.childLanes)!==0,ht||f){if(f=Ve,f!==null&&(s=ni(f,a),s!==0&&s!==w.retryLane))throw w.retryLane=s,Ms(e,s),na(f,e,s),Yc;ku(v)||ro(),t=Zc(e,t,a)}else ku(v)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Qe=ka(v.nextSibling),Tt=t,ke=!0,In=null,Na=!1,e!==null&&nh(t,e),t=Jc(t,s.children),t.flags|=4096);return t}return o?(Fn(),v=s.fallback,o=t.mode,w=e.child,k=w.sibling,s=yn(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,k!==null?v=yn(k,v):(v=Bs(v,o,a,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,Rl(null,s),s=t.child,v=e.child.memoizedState,v===null?v=Qc(a):(o=v.cachePool,o!==null?(w=ut._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=ch(),v={baseLanes:v.baseLanes|a,cachePool:o}),s.memoizedState=v,s.childLanes=Xc(e,f,a),t.memoizedState=Ic,Rl(e.child,s)):(Pn(t),a=e.child,e=a.sibling,a=yn(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function Jc(e,t){return t=Pr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Pr(e,t){return e=ha(22,e,null,t),e.lanes=0,e}function Zc(e,t,a){return Ys(t,e.child,null,a),e=Jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xf(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),dc(e.return,t,a)}function Wc(e,t,a,s,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=a,f.tailMode=o,f.treeForkCount=c)}function Ef(e,t,a){var s=t.pendingProps,o=s.revealOrder,c=s.tail;s=s.children;var f=it.current,v=(f&2)!==0;if(v?(f=f&1|2,t.flags|=128):f&=1,P(it,f),At(e,t,s,a),s=ke?bl:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xf(e,a,t);else if(e.tag===19)xf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Hr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Wc(t,!1,o,a,c,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Hr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Wc(t,!0,a,null,c,s);break;case"together":Wc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Sn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),as|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(_i(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=yn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=yn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Pc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Rr(e)))}function Fg(e,t,a){switch(t.tag){case 3:Ie(t,t.stateNode.containerInfo),Xn(t,ut,e.memoizedState.cache),Ls();break;case 27:case 5:Ca(t);break;case 4:Ie(t,t.stateNode.containerInfo);break;case 10:Xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,xc(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Pn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Sf(e,t,a):(Pn(t),e=Sn(e,t,a),e!==null?e.sibling:null);Pn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(_i(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Ef(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),P(it,it.current),s)break;return null;case 22:return t.lanes=0,yf(e,t,a,t.pendingProps);case 24:Xn(t,ut,e.memoizedState.cache)}return Sn(e,t,a)}function jf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!Pc(e,a)&&(t.flags&128)===0)return ht=!1,Fg(e,t,a);ht=(e.flags&131072)!==0}else ht=!1,ke&&(t.flags&1048576)!==0&&ah(t,bl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Gs(t.elementType),t.type=e,typeof e=="function")nc(e)?(s=Is(e,s),t.tag=1,t=_f(null,t,e,s,a)):(t.tag=0,t=Kc(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===Y){t.tag=11,t=ff(null,t,e,s,a);break e}else if(o===X){t.tag=14,t=mf(null,t,e,s,a);break e}}throw t=gt(e)||e,Error(r(306,t,""))}}return t;case 0:return Kc(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=Is(s,t.pendingProps),_f(e,t,s,o,a);case 3:e:{if(Ie(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,pc(e,t),Nl(t,s,null,a);var f=t.memoizedState;if(s=f.cache,Xn(t,ut,s),s!==c.cache&&hc(t,[ut],a,!0),Tl(),s=f.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=wf(e,t,s,a);break e}else if(s!==o){o=Ea(Error(r(424)),t),_l(o),t=wf(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Qe=ka(e.firstChild),Tt=t,ke=!0,In=null,Na=!0,a=gh(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ls(),s===o){t=Sn(e,t,a);break e}At(e,t,s,a)}t=t.child}return t;case 26:return Wr(e,t),e===null?(a=Mm(t.type,null,t.pendingProps,null))?t.memoizedState=a:ke||(a=t.type,e=t.pendingProps,s=go(pe.current).createElement(a),s[yt]=t,s[xt]=e,kt(s,a,e),We(s),t.stateNode=s):t.memoizedState=Mm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ca(t),e===null&&ke&&(s=t.stateNode=zm(t.type,t.pendingProps,pe.current),Tt=t,Na=!0,o=Qe,rs(t.type)?(Cu=o,Qe=ka(s.firstChild)):Qe=o),At(e,t,t.pendingProps.children,a),Wr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((o=s=Qe)&&(s=ky(s,t.type,t.pendingProps,Na),s!==null?(t.stateNode=s,Tt=t,Qe=ka(s.firstChild),Na=!1,o=!0):o=!1),o||Qn(t)),Ca(t),o=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,s=c.children,Tu(o,c)?s=null:f!==null&&Tu(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=jc(e,t,Yg,null,null,a),Ql._currentValue=o),Wr(e,t),At(e,t,s,a),t.child;case 6:return e===null&&ke&&((e=a=Qe)&&(a=Oy(a,t.pendingProps,Na),a!==null?(t.stateNode=a,Tt=t,Qe=null,e=!0):e=!1),e||Qn(t)),null;case 13:return Sf(e,t,a);case 4:return Ie(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ys(t,null,s,a):At(e,t,s,a),t.child;case 11:return ff(e,t,t.type,t.pendingProps,a);case 7:return At(e,t,t.pendingProps,a),t.child;case 8:return At(e,t,t.pendingProps.children,a),t.child;case 12:return At(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Xn(t,t.type,s.value),At(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Hs(t),o=Nt(o),s=s(o),t.flags|=1,At(e,t,s,a),t.child;case 14:return mf(e,t,t.type,t.pendingProps,a);case 15:return gf(e,t,t.type,t.pendingProps,a);case 19:return Ef(e,t,a);case 31:return Pg(e,t,a);case 22:return yf(e,t,a,t.pendingProps);case 24:return Hs(t),s=Nt(ut),e===null?(o=gc(),o===null&&(o=Ve,c=fc(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:s,cache:o},vc(t),Xn(t,ut,o)):((e.lanes&a)!==0&&(pc(e,t),Nl(t,null,null,a),Tl()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Xn(t,ut,s)):(s=c.cache,Xn(t,ut,s),s!==o.cache&&hc(t,[ut],a,!0))),At(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function xn(e){e.flags|=4}function Fc(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Pf())e.flags|=8192;else throw Vs=Mr,yc}else e.flags&=-16777217}function Tf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$m(t))if(Pf())e.flags|=8192;else throw Vs=Mr,yc}function Fr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qa():536870912,e.lanes|=t,Ri|=t)}function zl(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function ey(e,t,a){var s=t.pendingProps;switch(rc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),bn(ut),De(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(bi(t)?xn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,cc())),Xe(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(xn(t),c!==null?(Xe(t),Tf(t,c)):(Xe(t),Fc(t,o,null,s,a))):c?c!==e.memoizedState?(xn(t),Xe(t),Tf(t,c)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&xn(t),Xe(t),Fc(t,o,e,s,a)),null;case 27:if(Ra(t),a=pe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&xn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}e=F.current,bi(t)?sh(t):(e=zm(o,s,a),t.stateNode=e,xn(t))}return Xe(t),null;case 5:if(Ra(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&xn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}if(c=F.current,bi(t))sh(t);else{var f=go(pe.current);switch(c){case 1:c=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=f.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?f.createElement("select",{is:s.is}):f.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?f.createElement(o,{is:s.is}):f.createElement(o)}}c[yt]=t,c[xt]=s;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)c.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=c;e:switch(kt(c,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&xn(t)}}return Xe(t),Fc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&xn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=pe.current,bi(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=Tt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[yt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Sm(e.nodeValue,a)),e||Qn(t,!0)}else e=go(e).createTextNode(s),e[yt]=t,t.stateNode=e}return Xe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=bi(t),a!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[yt]=t}else Ls(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else a=cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(ma(t),t):(ma(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Xe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=bi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[yt]=t}else Ls(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else o=cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ma(t),t):(ma(t),null)}return ma(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Fr(t,t.updateQueue),Xe(t),null);case 4:return De(),e===null&&wu(t.stateNode.containerInfo),Xe(t),null;case 10:return bn(t.type),Xe(t),null;case 19:if(U(it),s=t.memoizedState,s===null)return Xe(t),null;if(o=(t.flags&128)!==0,c=s.rendering,c===null)if(o)zl(s,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Hr(e),c!==null){for(t.flags|=128,zl(s,!1),e=c.updateQueue,t.updateQueue=e,Fr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Fd(a,e),a=a.sibling;return P(it,it.current&1|2),ke&&vn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&$t()>so&&(t.flags|=128,o=!0,zl(s,!1),t.lanes=4194304)}else{if(!o)if(e=Hr(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Fr(t,e),zl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!ke)return Xe(t),null}else 2*$t()-s.renderingStartTime>so&&a!==536870912&&(t.flags|=128,o=!0,zl(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$t(),e.sibling=null,a=it.current,P(it,o?a&1|2:a&1),ke&&vn(t,s.treeForkCount),e):(Xe(t),null);case 22:case 23:return ma(t),Sc(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),a=t.updateQueue,a!==null&&Fr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&U($s),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),bn(ut),Xe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function ty(e,t){switch(rc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(ut),De(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ra(t),null;case 31:if(t.memoizedState!==null){if(ma(t),t.alternate===null)throw Error(r(340));Ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ma(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(it),null;case 4:return De(),null;case 10:return bn(t.type),null;case 22:case 23:return ma(t),Sc(),e!==null&&U($s),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bn(ut),null;case 25:return null;default:return null}}function Nf(e,t){switch(rc(t),t.tag){case 3:bn(ut),De();break;case 26:case 27:case 5:Ra(t);break;case 4:De();break;case 31:t.memoizedState!==null&&ma(t);break;case 13:ma(t);break;case 19:U(it);break;case 10:bn(t.type);break;case 22:case 23:ma(t),Sc(),e!==null&&U($s);break;case 24:bn(ut)}}function Ul(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var c=a.create,f=a.inst;s=c(),f.destroy=s}a=a.next}while(a!==o)}}catch(v){Be(t,t.return,v)}}function es(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var f=s.inst,v=f.destroy;if(v!==void 0){f.destroy=void 0,o=t;var w=a,k=v;try{k()}catch(M){Be(o,w,M)}}}s=s.next}while(s!==c)}}catch(M){Be(t,t.return,M)}}function Af(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{vh(t,a)}catch(s){Be(e,e.return,s)}}}function kf(e,t,a){a.props=Is(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Be(e,t,s)}}function Dl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Be(e,t,o)}}function en(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Be(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Be(e,t,o)}else a.current=null}function Of(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Be(e,e.return,o)}}function eu(e,t,a){try{var s=e.stateNode;xy(s,e.type,a,t),s[xt]=t}catch(o){Be(e,e.return,o)}}function Cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&rs(e.type)||e.tag===4}function tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&rs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function au(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=st));else if(s!==4&&(s===27&&rs(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(au(e,t,a),e=e.sibling;e!==null;)au(e,t,a),e=e.sibling}function eo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&rs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(eo(e,t,a),e=e.sibling;e!==null;)eo(e,t,a),e=e.sibling}function Rf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);kt(t,s,a),t[yt]=e,t[xt]=a}catch(c){Be(e,e.return,c)}}var En=!1,ft=!1,nu=!1,zf=typeof WeakSet=="function"?WeakSet:Set,_t=null;function ay(e,t){if(e=e.containerInfo,Eu=So,e=Yd(e),Zo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{a.nodeType,c.nodeType}catch(oe){a=null;break e}var f=0,v=-1,w=-1,k=0,M=0,H=e,O=null;t:for(;;){for(var R;H!==a||o!==0&&H.nodeType!==3||(v=f+o),H!==c||s!==0&&H.nodeType!==3||(w=f+s),H.nodeType===3&&(f+=H.nodeValue.length),(R=H.firstChild)!==null;)O=H,H=R;for(;;){if(H===e)break t;if(O===a&&++k===o&&(v=f),O===c&&++M===s&&(w=f),(R=H.nextSibling)!==null)break;H=O,O=H.parentNode}H=R}a=v===-1||w===-1?null:{start:v,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(ju={focusedElem:e,selectionRange:a},So=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){switch(t=_t,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,s=a.stateNode;try{var ee=Is(a.type,o);e=s.getSnapshotBeforeUpdate(ee,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Be(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Au(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Au(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}}function Uf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Tn(e,a),s&4&&Ul(5,a);break;case 1:if(Tn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){Be(a,a.return,f)}else{var o=Is(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Be(a,a.return,f)}}s&64&&Af(a),s&512&&Dl(a,a.return);break;case 3:if(Tn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{vh(e,t)}catch(f){Be(a,a.return,f)}}break;case 27:t===null&&s&4&&Rf(a);case 26:case 5:Tn(e,a),t===null&&s&4&&Of(a),s&512&&Dl(a,a.return);break;case 12:Tn(e,a);break;case 31:Tn(e,a),s&4&&Bf(e,a);break;case 13:Tn(e,a),s&4&&Lf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=dy.bind(null,a),Cy(e,a))));break;case 22:if(s=a.memoizedState!==null||En,!s){t=t!==null&&t.memoizedState!==null||ft,o=En;var c=ft;En=s,(ft=t)&&!c?Nn(e,a,(a.subtreeFlags&8772)!==0):Tn(e,a),En=o,ft=c}break;case 30:break;default:Tn(e,a)}}function Df(e){var t=e.alternate;t!==null&&(e.alternate=null,Df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,Ft=!1;function jn(e,t,a){for(a=a.child;a!==null;)Mf(e,t,a),a=a.sibling}function Mf(e,t,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Ka,a)}catch(c){}switch(a.tag){case 26:ft||en(a,t),jn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||en(a,t);var s=Ze,o=Ft;rs(a.type)&&(Ze=a.stateNode,Ft=!1),jn(e,t,a),Yl(a.stateNode),Ze=s,Ft=o;break;case 5:ft||en(a,t);case 6:if(s=Ze,o=Ft,Ze=null,jn(e,t,a),Ze=s,Ft=o,Ze!==null)if(Ft)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(c){Be(a,t,c)}else try{Ze.removeChild(a.stateNode)}catch(c){Be(a,t,c)}break;case 18:Ze!==null&&(Ft?(e=Ze,Am(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Hi(e)):Am(Ze,a.stateNode));break;case 4:s=Ze,o=Ft,Ze=a.stateNode.containerInfo,Ft=!0,jn(e,t,a),Ze=s,Ft=o;break;case 0:case 11:case 14:case 15:es(2,a,t),ft||es(4,a,t),jn(e,t,a);break;case 1:ft||(en(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&kf(a,t,s)),jn(e,t,a);break;case 21:jn(e,t,a);break;case 22:ft=(s=ft)||a.memoizedState!==null,jn(e,t,a),ft=s;break;default:jn(e,t,a)}}function Bf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hi(e)}catch(a){Be(t,t.return,a)}}}function Lf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hi(e)}catch(a){Be(t,t.return,a)}}function ny(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zf),t;default:throw Error(r(435,e.tag))}}function to(e,t){var a=ny(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=hy.bind(null,e,s);s.then(o,o)}})}function ea(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],c=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 27:if(rs(v.type)){Ze=v.stateNode,Ft=!1;break e}break;case 5:Ze=v.stateNode,Ft=!1;break e;case 3:case 4:Ze=v.stateNode.containerInfo,Ft=!0;break e}v=v.return}if(Ze===null)throw Error(r(160));Mf(c,f,o),Ze=null,Ft=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)qf(t,e),t=t.sibling}var Ma=null;function qf(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ea(t,e),ta(e),s&4&&(es(3,e,e.return),Ul(3,e),es(5,e,e.return));break;case 1:ea(t,e),ta(e),s&512&&(ft||a===null||en(a,a.return)),s&64&&En&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Ma;if(ea(t,e),ta(e),s&512&&(ft||a===null||en(a,a.return)),s&4){var c=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Ln]||c[yt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),kt(c,s,a),c[yt]=e,We(c),s=c;break e;case"link":var f=qm("link","href",o).get(s+(a.href||""));if(f){for(var v=0;v<f.length;v++)if(c=f[v],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(v,1);break t}}c=o.createElement(s),kt(c,s,a),o.head.appendChild(c);break;case"meta":if(f=qm("meta","content",o).get(s+(a.content||""))){for(v=0;v<f.length;v++)if(c=f[v],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(v,1);break t}}c=o.createElement(s),kt(c,s,a),o.head.appendChild(c);break;default:throw Error(r(468,s))}c[yt]=e,We(c),s=c}e.stateNode=s}else Hm(o,e.type,e.stateNode);else e.stateNode=Lm(o,s,e.memoizedProps);else c!==s?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,s===null?Hm(o,e.type,e.stateNode):Lm(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&eu(e,e.memoizedProps,a.memoizedProps)}break;case 27:ea(t,e),ta(e),s&512&&(ft||a===null||en(a,a.return)),a!==null&&s&4&&eu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ea(t,e),ta(e),s&512&&(ft||a===null||en(a,a.return)),e.flags&32){o=e.stateNode;try{ra(o,"")}catch(ee){Be(e,e.return,ee)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,eu(e,o,a!==null?a.memoizedProps:o)),s&1024&&(nu=!0);break;case 6:if(ea(t,e),ta(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(ee){Be(e,e.return,ee)}}break;case 3:if(po=null,o=Ma,Ma=yo(t.containerInfo),ea(t,e),Ma=o,ta(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Hi(t.containerInfo)}catch(ee){Be(e,e.return,ee)}nu&&(nu=!1,Hf(e));break;case 4:s=Ma,Ma=yo(e.stateNode.containerInfo),ea(t,e),ta(e),Ma=s;break;case 12:ea(t,e),ta(e);break;case 31:ea(t,e),ta(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,to(e,s)));break;case 13:ea(t,e),ta(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(no=$t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,to(e,s)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,k=En,M=ft;if(En=k||o,ft=M||w,ea(t,e),ft=M,En=k,ta(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||En||ft||Qs(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(c=w.stateNode,o)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=w.stateNode;var H=w.memoizedProps.style,O=H!=null&&H.hasOwnProperty("display")?H.display:null;v.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(ee){Be(w,w.return,ee)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(ee){Be(w,w.return,ee)}}}else if(t.tag===18){if(a===null){w=t;try{var R=w.stateNode;o?km(R,!0):km(w.stateNode,!1)}catch(ee){Be(w,w.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,to(e,a))));break;case 19:ea(t,e),ta(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,to(e,s)));break;case 30:break;case 21:break;default:ea(t,e),ta(e)}}function ta(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Cf(s)){a=s;break}s=s.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,c=tu(e);eo(e,c,o);break;case 5:var f=a.stateNode;a.flags&32&&(ra(f,""),a.flags&=-33);var v=tu(e);eo(e,v,f);break;case 3:case 4:var w=a.stateNode.containerInfo,k=tu(e);au(e,k,w);break;default:throw Error(r(161))}}catch(M){Be(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Hf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Uf(e,t.alternate,t),t=t.sibling}function Qs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:es(4,t,t.return),Qs(t);break;case 1:en(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&kf(t,t.return,a),Qs(t);break;case 27:Yl(t.stateNode);case 26:case 5:en(t,t.return),Qs(t);break;case 22:t.memoizedState===null&&Qs(t);break;case 30:Qs(t);break;default:Qs(t)}e=e.sibling}}function Nn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,f=c.flags;switch(c.tag){case 0:case 11:case 15:Nn(o,c,a),Ul(4,c);break;case 1:if(Nn(o,c,a),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(k){Be(s,s.return,k)}if(s=c,o=s.updateQueue,o!==null){var v=s.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)yh(w[o],v)}catch(k){Be(s,s.return,k)}}a&&f&64&&Af(c),Dl(c,c.return);break;case 27:Rf(c);case 26:case 5:Nn(o,c,a),a&&s===null&&f&4&&Of(c),Dl(c,c.return);break;case 12:Nn(o,c,a);break;case 31:Nn(o,c,a),a&&f&4&&Bf(o,c);break;case 13:Nn(o,c,a),a&&f&4&&Lf(o,c);break;case 22:c.memoizedState===null&&Nn(o,c,a),Dl(c,c.return);break;case 30:break;default:Nn(o,c,a)}t=t.sibling}}function su(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&wl(a))}function iu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wl(e))}function Ba(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$f(e,t,a,s),t=t.sibling}function $f(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ba(e,t,a,s),o&2048&&Ul(9,t);break;case 1:Ba(e,t,a,s);break;case 3:Ba(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wl(e)));break;case 12:if(o&2048){Ba(e,t,a,s),e=t.stateNode;try{var c=t.memoizedProps,f=c.id,v=c.onPostCommit;typeof v=="function"&&v(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Be(t,t.return,w)}}else Ba(e,t,a,s);break;case 31:Ba(e,t,a,s);break;case 13:Ba(e,t,a,s);break;case 23:break;case 22:c=t.stateNode,f=t.alternate,t.memoizedState!==null?c._visibility&2?Ba(e,t,a,s):Ml(e,t):c._visibility&2?Ba(e,t,a,s):(c._visibility|=2,ki(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&su(f,t);break;case 24:Ba(e,t,a,s),o&2048&&iu(t.alternate,t);break;default:Ba(e,t,a,s)}}function ki(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,f=t,v=a,w=s,k=f.flags;switch(f.tag){case 0:case 11:case 15:ki(c,f,v,w,o),Ul(8,f);break;case 23:break;case 22:var M=f.stateNode;f.memoizedState!==null?M._visibility&2?ki(c,f,v,w,o):Ml(c,f):(M._visibility|=2,ki(c,f,v,w,o)),o&&k&2048&&su(f.alternate,f);break;case 24:ki(c,f,v,w,o),o&&k&2048&&iu(f.alternate,f);break;default:ki(c,f,v,w,o)}t=t.sibling}}function Ml(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:Ml(a,s),o&2048&&su(s.alternate,s);break;case 24:Ml(a,s),o&2048&&iu(s.alternate,s);break;default:Ml(a,s)}t=t.sibling}}var Bl=8192;function Oi(e,t,a){if(e.subtreeFlags&Bl)for(e=e.child;e!==null;)Gf(e,t,a),e=e.sibling}function Gf(e,t,a){switch(e.tag){case 26:Oi(e,t,a),e.flags&Bl&&e.memoizedState!==null&&Vy(a,Ma,e.memoizedState,e.memoizedProps);break;case 5:Oi(e,t,a);break;case 3:case 4:var s=Ma;Ma=yo(e.stateNode.containerInfo),Oi(e,t,a),Ma=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Bl,Bl=16777216,Oi(e,t,a),Bl=s):Oi(e,t,a));break;default:Oi(e,t,a)}}function Vf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ll(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];_t=s,Kf(s,e)}Vf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yf(e),e=e.sibling}function Yf(e){switch(e.tag){case 0:case 11:case 15:Ll(e),e.flags&2048&&es(9,e,e.return);break;case 3:Ll(e);break;case 12:Ll(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ao(e)):Ll(e);break;default:Ll(e)}}function ao(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];_t=s,Kf(s,e)}Vf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:es(8,t,t.return),ao(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ao(t));break;default:ao(t)}e=e.sibling}}function Kf(e,t){for(;_t!==null;){var a=_t;switch(a.tag){case 0:case 11:case 15:es(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:wl(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,_t=s;else e:for(a=e;_t!==null;){s=_t;var o=s.sibling,c=s.return;if(Df(s),s===a){_t=null;break e}if(o!==null){o.return=c,_t=o;break e}_t=c}}}var sy={getCacheForType:function(e){var t=Nt(ut),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Nt(ut).controller.signal}},iy=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ve=null,je=null,Ne=0,Me=0,ga=null,ts=!1,Ci=!1,lu=!1,An=0,et=0,as=0,Xs=0,ru=0,ya=0,Ri=0,ql=null,aa=null,ou=!1,no=0,If=0,so=1/0,io=null,ns=null,vt=0,ss=null,zi=null,kn=0,cu=0,uu=null,Qf=null,Hl=0,du=null;function va(){return(Ue&2)!==0&&Ne!==0?Ne&-Ne:D.T!==null?vu():Ss()}function Xf(){if(ya===0)if((Ne&536870912)===0||ke){var e=zt;zt<<=1,(zt&3932160)===0&&(zt=262144),ya=e}else ya=536870912;return e=fa.current,e!==null&&(e.flags|=32),ya}function na(e,t,a){(e===Ve&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(Ui(e,0),is(e,Ne,ya,!1)),Xt(e,a),((Ue&2)===0||e!==Ve)&&(e===Ve&&((Ue&2)===0&&(Xs|=a),et===4&&is(e,Ne,ya,!1)),tn(e))}function Jf(e,t,a){if((Ue&6)!==0)throw Error(r(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||wa(e,t),o=s?oy(e,t):fu(e,t,!0),c=s;do{if(o===0){Ci&&!s&&is(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!ly(a)){o=fu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var v=e;o=ql;var w=v.current.memoizedState.isDehydrated;if(w&&(Ui(v,f).flags|=256),f=fu(v,f,!1),f!==2){if(lu&&!w){v.errorRecoveryDisabledLanes|=c,Xs|=c,o=4;break e}c=aa,aa=o,c!==null&&(aa===null?aa=c:aa.push.apply(aa,c))}o=f}if(c=!1,o!==2)continue}}if(o===1){Ui(e,0),is(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:is(s,t,ya,!ts);break e;case 2:aa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=no+300-$t(),10<o)){if(is(s,t,ya,!ts),_s(s,0,!0)!==0)break e;kn=t,s.timeoutHandle=Tm(Zf.bind(null,s,a,aa,io,ou,t,ya,Xs,Ri,ts,c,"Throttled",-0,0),o);break e}Zf(s,a,aa,io,ou,t,ya,Xs,Ri,ts,c,null,-0,0)}}break}while(!0);tn(e)}function Zf(e,t,a,s,o,c,f,v,w,k,M,H,O,R){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:st},Gf(t,c,H);var ee=(c&62914560)===c?no-$t():(c&4194048)===c?If-$t():0;if(ee=Yy(H,ee),ee!==null){kn=c,e.cancelPendingCommit=ee(sm.bind(null,e,t,c,a,s,o,f,v,w,M,H,null,O,R)),is(e,c,f,!k);return}}sm(e,t,c,a,s,o,f,v,w)}function ly(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],c=o.getSnapshot;o=o.value;try{if(!da(c(),o))return!1}catch(f){return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t,a,s){t&=~ru,t&=~Xs,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-ct(o),f=1<<c;s[c]=-1,o&=~f}a!==0&&ws(e,a,t)}function lo(){return(Ue&6)===0?($l(0),!1):!0}function hu(){if(je!==null){if(Me===0)var e=je.return;else e=je,pn=qs=null,Ac(e),Ei=null,xl=0,e=je;for(;e!==null;)Nf(e.alternate,e),e=e.return;je=null}}function Ui(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ty(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),kn=0,hu(),Ve=e,je=a=yn(e.current,null),Ne=t,Me=0,ga=null,ts=!1,Ci=wa(e,t),lu=!1,Ri=ya=ru=Xs=as=et=0,aa=ql=null,ou=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-ct(s),c=1<<o;t|=e[o],s&=~c}return An=t,Nr(),a}function Wf(e,t){be=null,D.H=Cl,t===xi||t===Dr?(t=hh(),Me=3):t===yc?(t=hh(),Me=4):Me=t===Yc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ga=t,je===null&&(et=1,Jr(e,Ea(t,e.current)))}function Pf(){var e=fa.current;return e===null?!0:(Ne&4194048)===Ne?Aa===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===Aa:!1}function Ff(){var e=D.H;return D.H=Cl,e===null?Cl:e}function em(){var e=D.A;return D.A=sy,e}function ro(){et=4,ts||(Ne&4194048)!==Ne&&fa.current!==null||(Ci=!0),(as&134217727)===0&&(Xs&134217727)===0||Ve===null||is(Ve,Ne,ya,!1)}function fu(e,t,a){var s=Ue;Ue|=2;var o=Ff(),c=em();(Ve!==e||Ne!==t)&&(io=null,Ui(e,t)),t=!1;var f=et;e:do try{if(Me!==0&&je!==null){var v=je,w=ga;switch(Me){case 8:hu(),f=6;break e;case 3:case 2:case 9:case 6:fa.current===null&&(t=!0);var k=Me;if(Me=0,ga=null,Di(e,v,w,k),a&&Ci){f=0;break e}break;default:k=Me,Me=0,ga=null,Di(e,v,w,k)}}ry(),f=et;break}catch(M){Wf(e,M)}while(!0);return t&&e.shellSuspendCounter++,pn=qs=null,Ue=s,D.H=o,D.A=c,je===null&&(Ve=null,Ne=0,Nr()),f}function ry(){for(;je!==null;)tm(je)}function oy(e,t){var a=Ue;Ue|=2;var s=Ff(),o=em();Ve!==e||Ne!==t?(io=null,so=$t()+500,Ui(e,t)):Ci=wa(e,t);e:do try{if(Me!==0&&je!==null){t=je;var c=ga;t:switch(Me){case 1:Me=0,ga=null,Di(e,t,c,1);break;case 2:case 9:if(uh(c)){Me=0,ga=null,am(t);break}t=function(){Me!==2&&Me!==9||Ve!==e||(Me=7),tn(e)},c.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:uh(c)?(Me=0,ga=null,am(t)):(Me=0,ga=null,Di(e,t,c,7));break;case 5:var f=null;switch(je.tag){case 26:f=je.memoizedState;case 5:case 27:var v=je;if(f?$m(f):v.stateNode.complete){Me=0,ga=null;var w=v.sibling;if(w!==null)je=w;else{var k=v.return;k!==null?(je=k,oo(k)):je=null}break t}}Me=0,ga=null,Di(e,t,c,5);break;case 6:Me=0,ga=null,Di(e,t,c,6);break;case 8:hu(),et=6;break e;default:throw Error(r(462))}}cy();break}catch(M){Wf(e,M)}while(!0);return pn=qs=null,D.H=s,D.A=o,Ue=a,je!==null?0:(Ve=null,Ne=0,Nr(),et)}function cy(){for(;je!==null&&!ln();)tm(je)}function tm(e){var t=jf(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?oo(e):je=t}function am(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=bf(a,t,t.pendingProps,t.type,void 0,Ne);break;case 11:t=bf(a,t,t.pendingProps,t.type.render,t.ref,Ne);break;case 5:Ac(t);default:Nf(a,t),t=je=Fd(t,An),t=jf(a,t,An)}e.memoizedProps=e.pendingProps,t===null?oo(e):je=t}function Di(e,t,a,s){pn=qs=null,Ac(t),Ei=null,xl=0;var o=t.return;try{if(Wg(e,o,t,a,Ne)){et=1,Jr(e,Ea(a,e.current)),je=null;return}}catch(c){if(o!==null)throw je=o,c;et=1,Jr(e,Ea(a,e.current)),je=null;return}t.flags&32768?(ke||s===1?e=!0:Ci||(Ne&536870912)!==0?e=!1:(ts=e=!0,(s===2||s===9||s===3||s===6)&&(s=fa.current,s!==null&&s.tag===13&&(s.flags|=16384))),nm(t,e)):oo(t)}function oo(e){var t=e;do{if((t.flags&32768)!==0){nm(t,ts);return}e=t.return;var a=ey(t.alternate,t,An);if(a!==null){je=a;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);et===0&&(et=5)}function nm(e,t){do{var a=ty(e.alternate,e);if(a!==null){a.flags&=32767,je=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=a}while(e!==null);et=6,je=null}function sm(e,t,a,s,o,c,f,v,w){e.cancelPendingCommit=null;do co();while(vt!==0);if((Ue&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=tc,Fi(e,a,c,f,v,w),e===Ve&&(je=Ve=null,Ne=0),zi=t,ss=e,kn=a,cu=c,uu=o,Qf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fy(ps,function(){return cm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=D.T,D.T=null,o=W.p,W.p=2,f=Ue,Ue|=4;try{ay(e,t,a)}finally{Ue=f,W.p=o,D.T=s}}vt=1,im(),lm(),rm()}}function im(){if(vt===1){vt=0;var e=ss,t=zi,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var s=W.p;W.p=2;var o=Ue;Ue|=4;try{qf(t,e);var c=ju,f=Yd(e.containerInfo),v=c.focusedElem,w=c.selectionRange;if(f!==v&&v&&v.ownerDocument&&Vd(v.ownerDocument.documentElement,v)){if(w!==null&&Zo(v)){var k=w.start,M=w.end;if(M===void 0&&(M=k),"selectionStart"in v)v.selectionStart=k,v.selectionEnd=Math.min(M,v.value.length);else{var H=v.ownerDocument||document,O=H&&H.defaultView||window;if(O.getSelection){var R=O.getSelection(),ee=v.textContent.length,oe=Math.min(w.start,ee),$e=w.end===void 0?oe:Math.min(w.end,ee);!R.extend&&oe>$e&&(f=$e,$e=oe,oe=f);var N=Gd(v,oe),x=Gd(v,$e);if(N&&x&&(R.rangeCount!==1||R.anchorNode!==N.node||R.anchorOffset!==N.offset||R.focusNode!==x.node||R.focusOffset!==x.offset)){var A=H.createRange();A.setStart(N.node,N.offset),R.removeAllRanges(),oe>$e?(R.addRange(A),R.extend(x.node,x.offset)):(A.setEnd(x.node,x.offset),R.addRange(A))}}}}for(H=[],R=v;R=R.parentNode;)R.nodeType===1&&H.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<H.length;v++){var L=H[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}So=!!Eu,ju=Eu=null}finally{Ue=o,W.p=s,D.T=a}}e.current=t,vt=2}}function lm(){if(vt===2){vt=0;var e=ss,t=zi,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var s=W.p;W.p=2;var o=Ue;Ue|=4;try{Uf(e,t.alternate,t)}finally{Ue=o,W.p=s,D.T=a}}vt=3}}function rm(){if(vt===4||vt===3){vt=0,fr();var e=ss,t=zi,a=kn,s=Qf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?vt=5:(vt=0,zi=ss=null,om(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ns=null),Ut(a),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Ka,t,void 0,(t.current.flags&128)===128)}catch(w){}if(s!==null){t=D.T,o=W.p,W.p=2,D.T=null;try{for(var c=e.onRecoverableError,f=0;f<s.length;f++){var v=s[f];c(v.value,{componentStack:v.stack})}}finally{D.T=t,W.p=o}}(kn&3)!==0&&co(),tn(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===du?Hl++:(Hl=0,du=e):Hl=0,$l(0)}}function om(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wl(t)))}function co(){return im(),lm(),rm(),cm()}function cm(){if(vt!==5)return!1;var e=ss,t=cu;cu=0;var a=Ut(kn),s=D.T,o=W.p;try{W.p=32>a?32:a,D.T=null,a=uu,uu=null;var c=ss,f=kn;if(vt=0,zi=ss=null,kn=0,(Ue&6)!==0)throw Error(r(331));var v=Ue;if(Ue|=4,Yf(c.current),$f(c,c.current,f,a),Ue=v,$l(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Ka,c)}catch(w){}return!0}finally{W.p=o,D.T=s,om(e,t)}}function um(e,t,a){t=Ea(a,t),t=Vc(e.stateNode,t,2),e=Wn(e,t,2),e!==null&&(Xt(e,2),tn(e))}function Be(e,t,a){if(e.tag===3)um(e,e,a);else for(;t!==null;){if(t.tag===3){um(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ns===null||!ns.has(s))){e=Ea(a,e),a=df(2),s=Wn(t,a,2),s!==null&&(hf(a,s,t,e),Xt(s,2),tn(s));break}}t=t.return}}function mu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new iy;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(lu=!0,o.add(a),e=uy.bind(null,e,t,a),t.then(e,e))}function uy(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ve===e&&(Ne&a)===a&&(et===4||et===3&&(Ne&62914560)===Ne&&300>$t()-no?(Ue&2)===0&&Ui(e,0):ru|=a,Ri===Ne&&(Ri=0)),tn(e)}function dm(e,t){t===0&&(t=Qa()),e=Ms(e,t),e!==null&&(Xt(e,t),tn(e))}function dy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),dm(e,a)}function hy(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),dm(e,a)}function fy(e,t){return Qt(e,t)}var uo=null,Mi=null,gu=!1,ho=!1,yu=!1,ls=0;function tn(e){e!==Mi&&e.next===null&&(Mi===null?uo=Mi=e:Mi=Mi.next=e),ho=!0,gu||(gu=!0,gy())}function $l(e,t){if(!yu&&ho){yu=!0;do for(var a=!1,s=uo;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var f=s.suspendedLanes,v=s.pingedLanes;c=(1<<31-ct(42|e)+1)-1,c&=o&~(f&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,gm(s,c))}else c=Ne,c=_s(s,s===Ve?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||wa(s,c)||(a=!0,gm(s,c));s=s.next}while(a);yu=!1}}function my(){hm()}function hm(){ho=gu=!1;var e=0;ls!==0&&jy()&&(e=ls);for(var t=$t(),a=null,s=uo;s!==null;){var o=s.next,c=fm(s,t);c===0?(s.next=null,a===null?uo=o:a.next=o,o===null&&(Mi=a)):(a=s,(e!==0||(c&3)!==0)&&(ho=!0)),s=o}vt!==0&&vt!==5||$l(e),ls!==0&&(ls=0)}function fm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var f=31-ct(c),v=1<<f,w=o[f];w===-1?((v&a)===0||(v&s)!==0)&&(o[f]=Pi(v,t)):w<=t&&(e.expiredLanes|=v),c&=~v}if(t=Ve,a=Ne,a=_s(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&sn(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||wa(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&sn(s),Ut(a)){case 2:case 8:a=ai;break;case 32:a=ps;break;case 268435456:a=yr;break;default:a=ps}return s=mm.bind(null,e),a=Qt(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&sn(s),e.callbackPriority=2,e.callbackNode=null,2}function mm(e,t){if(vt!==0&&vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(co()&&e.callbackNode!==a)return null;var s=Ne;return s=_s(e,e===Ve?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Jf(e,s,t),fm(e,$t()),e.callbackNode!=null&&e.callbackNode===a?mm.bind(null,e):null)}function gm(e,t){if(co())return null;Jf(e,t,!0)}function gy(){Ny(function(){(Ue&6)!==0?Qt(mr,my):hm()})}function vu(){if(ls===0){var e=wi;e===0&&(e=Gt,Gt<<=1,(Gt&261888)===0&&(Gt=256)),ls=e}return ls}function ym(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hn(""+e)}function vm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function yy(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var c=ym((o[xt]||null).action),f=s.submitter;f&&(t=(t=f[xt]||null)?ym(t.formAction):f.getAttribute("formAction"),t!==null&&(c=t,f=null));var v=new ui("action","action",null,s,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ls!==0){var w=f?vm(o,f):new FormData(o);Bc(a,{pending:!0,data:w,method:o.method,action:c},null,w)}}else typeof c=="function"&&(v.preventDefault(),w=f?vm(o,f):new FormData(o),Bc(a,{pending:!0,data:w,method:o.method,action:c},c,w))},currentTarget:o}]})}}for(var pu=0;pu<ec.length;pu++){var bu=ec[pu],vy=bu.toLowerCase(),py=bu[0].toUpperCase()+bu.slice(1);Da(vy,"on"+py)}Da(Qd,"onAnimationEnd"),Da(Xd,"onAnimationIteration"),Da(Jd,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(Ug,"onTransitionRun"),Da(Dg,"onTransitionStart"),Da(Mg,"onTransitionCancel"),Da(Zd,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),by=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function pm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var f=s.length-1;0<=f;f--){var v=s[f],w=v.instance,k=v.currentTarget;if(v=v.listener,w!==c&&o.isPropagationStopped())break e;c=v,o.currentTarget=k;try{c(o)}catch(M){Tr(M)}o.currentTarget=null,c=w}else for(f=0;f<s.length;f++){if(v=s[f],w=v.instance,k=v.currentTarget,v=v.listener,w!==c&&o.isPropagationStopped())break e;c=v,o.currentTarget=k;try{c(o)}catch(M){Tr(M)}o.currentTarget=null,c=w}}}}function Te(e,t){var a=t[el];a===void 0&&(a=t[el]=new Set);var s=e+"__bubble";a.has(s)||(bm(t,e,2,!1),a.add(s))}function _u(e,t,a){var s=0;t&&(s|=4),bm(a,e,s,t)}var fo="_reactListening"+Math.random().toString(36).slice(2);function wu(e){if(!e[fo]){e[fo]=!0,Et.forEach(function(a){a!=="selectionchange"&&(by.has(a)||_u(a,!1,e),_u(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fo]||(t[fo]=!0,_u("selectionchange",!1,t))}}function bm(e,t,a,s){switch(Xm(t)){case 2:var o=Qy;break;case 8:o=Xy;break;default:o=Mu}a=o.bind(null,t,a,e),o=void 0,!ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Su(e,t,a,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var v=s.stateNode.containerInfo;if(v===o)break;if(f===4)for(f=s.return;f!==null;){var w=f.tag;if((w===3||w===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;v!==null;){if(f=Xa(v),f===null)return;if(w=f.tag,w===5||w===6||w===26||w===27){s=c=f;continue e}v=v.parentNode}}s=s.return}cl(function(){var k=c,M=ll(a),H=[];e:{var O=Wd.get(e);if(O!==void 0){var R=ui,ee=e;switch(e){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":R=ua;break;case"focusin":ee="focus",R=T;break;case"focusout":ee="blur",R=T;break;case"beforeblur":case"afterblur":R=T;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=xr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Io;break;case Qd:case Xd:case Jd:R=Z;break;case Zd:R=vg;break;case"scroll":case"scrollend":R=Ko;break;case"wheel":R=bg;break;case"copy":case"cut":case"paste":R=ye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=zs;break;case"toggle":case"beforetoggle":R=wg}var oe=(t&4)!==0,$e=!oe&&(e==="scroll"||e==="scrollend"),N=oe?O!==null?O+"Capture":null:O;oe=[];for(var x=k,A;x!==null;){var L=x;if(A=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||A===null||N===null||(L=fe(x,N),L!=null&&oe.push(Vl(x,L,A))),$e)break;x=x.return}0<oe.length&&(O=new R(O,ee,null,a,M),H.push({event:O,listeners:oe}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",O&&a!==$n&&(ee=a.relatedTarget||a.fromElement)&&(Xa(ee)||ee[Bn]))break e;if((R||O)&&(O=M.window===M?M:(O=M.ownerDocument)?O.defaultView||O.parentWindow:window,R?(ee=a.relatedTarget||a.toElement,R=k,ee=ee?Xa(ee):null,ee!==null&&($e=d(ee),oe=ee.tag,ee!==$e||oe!==5&&oe!==27&&oe!==6)&&(ee=null)):(R=null,ee=k),R!==ee)){if(oe=di,L="onMouseLeave",N="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(oe=zs,L="onPointerLeave",N="onPointerEnter",x="pointer"),$e=R==null?O:rn(R),A=ee==null?O:rn(ee),O=new oe(L,x+"leave",R,a,M),O.target=$e,O.relatedTarget=A,L=null,Xa(M)===k&&(oe=new oe(N,x+"enter",ee,a,M),oe.target=A,oe.relatedTarget=$e,L=oe),$e=L,R&&ee)t:{for(oe=_y,N=R,x=ee,A=0,L=N;L;L=oe(L))A++;L=0;for(var le=x;le;le=oe(le))L++;for(;0<A-L;)N=oe(N),A--;for(;0<L-A;)x=oe(x),L--;for(;A--;){if(N===x||x!==null&&N===x.alternate){oe=N;break t}N=oe(N),x=oe(x)}oe=null}else oe=null;R!==null&&_m(H,O,R,oe,!1),ee!==null&&$e!==null&&_m(H,$e,ee,oe,!0)}}e:{if(O=k?rn(k):window,R=O.nodeName&&O.nodeName.toLowerCase(),R==="select"||R==="input"&&O.type==="file")var Ce=Md;else if(Ud(O))if(Bd)Ce=Cg;else{Ce=kg;var ne=Ag}else R=O.nodeName,!R||R.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?k&&fn(k.elementType)&&(Ce=Md):Ce=Og;if(Ce&&(Ce=Ce(e,k))){Dd(H,Ce,a,M);break e}ne&&ne(e,O,k),e==="focusout"&&k&&O.type==="number"&&k.memoizedProps.value!=null&&Ua(O,"number",O.value)}switch(ne=k?rn(k):window,e){case"focusin":(Ud(ne)||ne.contentEditable==="true")&&(fi=ne,Wo=k,pl=null);break;case"focusout":pl=Wo=fi=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,Kd(H,a,M);break;case"selectionchange":if(zg)break;case"keydown":case"keyup":Kd(H,a,M)}var _e;if(Qo)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else hi?Rd(e,a)&&(Ae="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(kd&&a.locale!=="ko"&&(hi||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&hi&&(_e=_r()):(Wa=M,dl="value"in Wa?Wa.value:Wa.textContent,hi=!0)),ne=mo(k,Ae),0<ne.length&&(Ae=new ze(Ae,e,null,a,M),H.push({event:Ae,listeners:ne}),_e?Ae.data=_e:(_e=zd(a),_e!==null&&(Ae.data=_e)))),(_e=xg?Eg(e,a):jg(e,a))&&(Ae=mo(k,"onBeforeInput"),0<Ae.length&&(ne=new ze("onBeforeInput","beforeinput",null,a,M),H.push({event:ne,listeners:Ae}),ne.data=_e)),yy(H,e,k,a,M)}pm(H,t)})}function Vl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function mo(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=fe(e,a),o!=null&&s.unshift(Vl(e,o,c)),o=fe(e,t),o!=null&&s.push(Vl(e,o,c))),e.tag===3)return s;e=e.return}return[]}function _y(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _m(e,t,a,s,o){for(var c=t._reactName,f=[];a!==null&&a!==s;){var v=a,w=v.alternate,k=v.stateNode;if(v=v.tag,w!==null&&w===s)break;v!==5&&v!==26&&v!==27||k===null||(w=k,o?(k=fe(a,c),k!=null&&f.unshift(Vl(a,k,w))):o||(k=fe(a,c),k!=null&&f.push(Vl(a,k,w)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var wy=/\r\n?/g,Sy=/\u0000|\uFFFD/g;function wm(e){return(typeof e=="string"?e:""+e).replace(wy,`
`).replace(Sy,"")}function Sm(e,t){return t=wm(t),wm(e)===t}function He(e,t,a,s,o,c){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ra(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ra(e,""+s);break;case"className":Es(e,"class",s);break;case"tabIndex":Es(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Es(e,a,s);break;case"style":qn(e,s,c);break;case"data":if(t!=="object"){Es(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Hn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&He(e,t,"name",o.name,o,null),He(e,t,"formEncType",o.formEncType,o,null),He(e,t,"formMethod",o.formMethod,o,null),He(e,t,"formTarget",o.formTarget,o,null)):(He(e,t,"encType",o.encType,o,null),He(e,t,"method",o.method,o,null),He(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Hn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=st);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Hn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Te("beforetoggle",e),Te("toggle",e),dn(e,"popover",s);break;case"xlinkActuate":jt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":jt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":jt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":jt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":jt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":jt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":jt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":jt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":jt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":dn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ri.get(a)||a,dn(e,a,s))}}function xu(e,t,a,s,o,c){switch(a){case"style":qn(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof s=="string"?ra(e,s):(typeof s=="number"||typeof s=="bigint")&&ra(e,""+s);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"onClick":s!=null&&(e.onclick=st);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[xt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):dn(e,a,s)}}}function kt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var s=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var f=a[c];if(f!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:He(e,t,c,f,a,null)}}o&&He(e,t,"srcSet",a.srcSet,a,null),s&&He(e,t,"src",a.src,a,null);return;case"input":Te("invalid",e);var v=c=f=o=null,w=null,k=null;for(s in a)if(a.hasOwnProperty(s)){var M=a[s];if(M!=null)switch(s){case"name":o=M;break;case"type":f=M;break;case"checked":w=M;break;case"defaultChecked":k=M;break;case"value":c=M;break;case"defaultValue":v=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:He(e,t,s,M,a,null)}}Wt(e,c,v,w,k,f,o,!1);return;case"select":Te("invalid",e),s=f=c=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":c=v;break;case"defaultValue":f=v;break;case"multiple":s=v;default:He(e,t,o,v,a,null)}t=c,a=f,e.multiple=!!s,t!=null?la(e,!!s,t,!1):a!=null&&la(e,!!s,a,!0);return;case"textarea":Te("invalid",e),c=o=s=null;for(f in a)if(a.hasOwnProperty(f)&&(v=a[f],v!=null))switch(f){case"value":s=v;break;case"defaultValue":o=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:He(e,t,f,v,a,null)}js(e,s,o,c);return;case"option":for(w in a)a.hasOwnProperty(w)&&(s=a[w],s!=null)&&(w==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":He(e,t,w,s,a,null));return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(s=0;s<Gl.length;s++)Te(Gl[s],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(s=a[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:He(e,t,k,s,a,null)}return;default:if(fn(t)){for(M in a)a.hasOwnProperty(M)&&(s=a[M],s!==void 0&&xu(e,t,M,s,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(s=a[v],s!=null&&He(e,t,v,s,a,null))}function xy(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,f=null,v=null,w=null,k=null,M=null;for(R in a){var H=a[R];if(a.hasOwnProperty(R)&&H!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":w=H;default:s.hasOwnProperty(R)||He(e,t,R,null,s,H)}}for(var O in s){var R=s[O];if(H=a[O],s.hasOwnProperty(O)&&(R!=null||H!=null))switch(O){case"type":c=R;break;case"name":o=R;break;case"checked":k=R;break;case"defaultChecked":M=R;break;case"value":f=R;break;case"defaultValue":v=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:R!==H&&He(e,t,O,R,s,H)}}za(e,f,v,w,k,M,c,o);return;case"select":R=f=v=O=null;for(c in a)if(w=a[c],a.hasOwnProperty(c)&&w!=null)switch(c){case"value":break;case"multiple":R=w;default:s.hasOwnProperty(c)||He(e,t,c,null,s,w)}for(o in s)if(c=s[o],w=a[o],s.hasOwnProperty(o)&&(c!=null||w!=null))switch(o){case"value":O=c;break;case"defaultValue":v=c;break;case"multiple":f=c;default:c!==w&&He(e,t,o,c,s,w)}t=v,a=f,s=R,O!=null?la(e,!!a,O,!1):!!s!=!!a&&(t!=null?la(e,!!a,t,!0):la(e,!!a,a?[]:"",!1));return;case"textarea":R=O=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:He(e,t,v,null,s,o)}for(f in s)if(o=s[f],c=a[f],s.hasOwnProperty(f)&&(o!=null||c!=null))switch(f){case"value":O=o;break;case"defaultValue":R=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&He(e,t,f,o,s,c)}sl(e,O,R);return;case"option":for(var ee in a)O=a[ee],a.hasOwnProperty(ee)&&O!=null&&!s.hasOwnProperty(ee)&&(ee==="selected"?e.selected=!1:He(e,t,ee,null,s,O));for(w in s)O=s[w],R=a[w],s.hasOwnProperty(w)&&O!==R&&(O!=null||R!=null)&&(w==="selected"?e.selected=O&&typeof O!="function"&&typeof O!="symbol":He(e,t,w,O,s,R));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)O=a[oe],a.hasOwnProperty(oe)&&O!=null&&!s.hasOwnProperty(oe)&&He(e,t,oe,null,s,O);for(k in s)if(O=s[k],R=a[k],s.hasOwnProperty(k)&&O!==R&&(O!=null||R!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:He(e,t,k,O,s,R)}return;default:if(fn(t)){for(var $e in a)O=a[$e],a.hasOwnProperty($e)&&O!==void 0&&!s.hasOwnProperty($e)&&xu(e,t,$e,void 0,s,O);for(M in s)O=s[M],R=a[M],!s.hasOwnProperty(M)||O===R||O===void 0&&R===void 0||xu(e,t,M,O,s,R);return}}for(var N in a)O=a[N],a.hasOwnProperty(N)&&O!=null&&!s.hasOwnProperty(N)&&He(e,t,N,null,s,O);for(H in s)O=s[H],R=a[H],!s.hasOwnProperty(H)||O===R||O==null&&R==null||He(e,t,H,O,s,R)}function xm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ey(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],c=o.transferSize,f=o.initiatorType,v=o.duration;if(c&&v&&xm(f)){for(f=0,v=o.responseEnd,s+=1;s<a.length;s++){var w=a[s],k=w.startTime;if(k>v)break;var M=w.transferSize,H=w.initiatorType;M&&xm(H)&&(w=w.responseEnd,f+=M*(w<v?1:(v-k)/(w-k)))}if(--s,t+=8*(c+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Eu=null,ju=null;function go(e){return e.nodeType===9?e:e.ownerDocument}function Em(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nu=null;function jy(){var e=window.event;return e&&e.type==="popstate"?e===Nu?!1:(Nu=e,!0):(Nu=null,!1)}var Tm=typeof setTimeout=="function"?setTimeout:void 0,Ty=typeof clearTimeout=="function"?clearTimeout:void 0,Nm=typeof Promise=="function"?Promise:void 0,Ny=typeof queueMicrotask=="function"?queueMicrotask:typeof Nm!="undefined"?function(e){return Nm.resolve(null).then(e).catch(Ay)}:Tm;function Ay(e){setTimeout(function(){throw e})}function rs(e){return e==="head"}function Am(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),Hi(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Yl(a);for(var c=a.firstChild;c;){var f=c.nextSibling,v=c.nodeName;c[Ln]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=f}}else a==="body"&&Yl(e.ownerDocument.body);a=o}while(a);Hi(t)}function km(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Au(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Au(a),xs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ky(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ln])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=ka(e.nextSibling),e===null)break}return null}function Oy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ka(e.nextSibling),e===null))return null;return e}function Om(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ka(e.nextSibling),e===null))return null;return e}function ku(e){return e.data==="$?"||e.data==="$~"}function Ou(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Cy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ka(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cu=null;function Cm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ka(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function zm(e,t,a){switch(t=go(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Yl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xs(e)}var Oa=new Map,Um=new Set;function yo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var On=W.d;W.d={f:Ry,r:zy,D:Uy,C:Dy,L:My,m:By,X:qy,S:Ly,M:Hy};function Ry(){var e=On.f(),t=lo();return e||t}function zy(e){var t=Zt(e);t!==null&&t.tag===5&&t.type==="form"?Zh(t):On.r(e)}var Bi=typeof document=="undefined"?null:document;function Dm(e,t,a){var s=Bi;if(s&&typeof t=="string"&&t){var o=Je(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Um.has(o)||(Um.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),kt(t,"link",e),We(t),s.head.appendChild(t)))}}function Uy(e){On.D(e),Dm("dns-prefetch",e,null)}function Dy(e,t){On.C(e,t),Dm("preconnect",e,t)}function My(e,t,a){On.L(e,t,a);var s=Bi;if(s&&e&&t){var o='link[rel="preload"][as="'+Je(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Je(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Je(a.imageSizes)+'"]')):o+='[href="'+Je(e)+'"]';var c=o;switch(t){case"style":c=Li(e);break;case"script":c=qi(e)}Oa.has(c)||(e=j({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Oa.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Kl(c))||t==="script"&&s.querySelector(Il(c))||(t=s.createElement("link"),kt(t,"link",e),We(t),s.head.appendChild(t)))}}function By(e,t){On.m(e,t);var a=Bi;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Je(s)+'"][href="'+Je(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=qi(e)}if(!Oa.has(c)&&(e=j({rel:"modulepreload",href:e},t),Oa.set(c,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(c)))return}s=a.createElement("link"),kt(s,"link",e),We(s),a.head.appendChild(s)}}}function Ly(e,t,a){On.S(e,t,a);var s=Bi;if(s&&e){var o=Ja(s).hoistableStyles,c=Li(e);t=t||"default";var f=o.get(c);if(!f){var v={loading:0,preload:null};if(f=s.querySelector(Kl(c)))v.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Oa.get(c))&&Ru(e,a);var w=f=s.createElement("link");We(w),kt(w,"link",e),w._p=new Promise(function(k,M){w.onload=k,w.onerror=M}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,vo(f,t,s)}f={type:"stylesheet",instance:f,count:1,state:v},o.set(c,f)}}}function qy(e,t){On.X(e,t);var a=Bi;if(a&&e){var s=Ja(a).hoistableScripts,o=qi(e),c=s.get(o);c||(c=a.querySelector(Il(o)),c||(e=j({src:e,async:!0},t),(t=Oa.get(o))&&zu(e,t),c=a.createElement("script"),We(c),kt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Hy(e,t){On.M(e,t);var a=Bi;if(a&&e){var s=Ja(a).hoistableScripts,o=qi(e),c=s.get(o);c||(c=a.querySelector(Il(o)),c||(e=j({src:e,async:!0,type:"module"},t),(t=Oa.get(o))&&zu(e,t),c=a.createElement("script"),We(c),kt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Mm(e,t,a,s){var o=(o=pe.current)?yo(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Li(a.href),a=Ja(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Li(a.href);var c=Ja(o).hoistableStyles,f=c.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,f),(c=o.querySelector(Kl(e)))&&!c._p&&(f.instance=c,f.state.loading=5),Oa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Oa.set(e,a),c||$y(o,e,a,f.state))),t&&s===null)throw Error(r(528,""));return f}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qi(a),a=Ja(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Li(e){return'href="'+Je(e)+'"'}function Kl(e){return'link[rel="stylesheet"]['+e+"]"}function Bm(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function $y(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),kt(t,"link",a),We(t),e.head.appendChild(t))}function qi(e){return'[src="'+Je(e)+'"]'}function Il(e){return"script[async]"+e}function Lm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Je(a.href)+'"]');if(s)return t.instance=s,We(s),s;var o=j({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),We(s),kt(s,"style",o),vo(s,a.precedence,e),t.instance=s;case"stylesheet":o=Li(a.href);var c=e.querySelector(Kl(o));if(c)return t.state.loading|=4,t.instance=c,We(c),c;s=Bm(a),(o=Oa.get(o))&&Ru(s,o),c=(e.ownerDocument||e).createElement("link"),We(c);var f=c;return f._p=new Promise(function(v,w){f.onload=v,f.onerror=w}),kt(c,"link",s),t.state.loading|=4,vo(c,a.precedence,e),t.instance=c;case"script":return c=qi(a.src),(o=e.querySelector(Il(c)))?(t.instance=o,We(o),o):(s=a,(o=Oa.get(c))&&(s=j({},a),zu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),We(o),kt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,vo(s,a.precedence,e));return t.instance}function vo(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,f=0;f<s.length;f++){var v=s[f];if(v.dataset.precedence===t)c=v;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var po=null;function qm(e,t,a){if(po===null){var s=new Map,o=po=new Map;o.set(a,s)}else o=po,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[Ln]||c[yt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var f=c.getAttribute(t)||"";f=e+f;var v=s.get(f);v?v.push(c):s.set(f,[c])}}return s}function Hm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Gy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vy(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Li(s.href),c=t.querySelector(Kl(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=bo.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,We(c);return}c=t.ownerDocument||t,s=Bm(s),(o=Oa.get(o))&&Ru(s,o),c=c.createElement("link"),We(c);var f=c;f._p=new Promise(function(v,w){f.onload=v,f.onerror=w}),kt(c,"link",s),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=bo.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Uu=0;function Yy(e,t){return e.stylesheets&&e.count===0&&wo(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&wo(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Uu===0&&(Uu=62500*Ey());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wo(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Uu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function bo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _o=null;function wo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_o=new Map,t.forEach(Ky,e),_o=null,bo.call(e))}function Ky(e,t){if(!(t.state.loading&4)){var a=_o.get(e);if(a)var s=a.get(null);else{a=new Map,_o.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var f=o[c];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),s=f)}s&&a.set(null,s)}o=t.instance,f=o.getAttribute("data-precedence"),c=a.get(f)||s,c===s&&a.set(null,o),a.set(f,o),this.count++,s=bo.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ql={$$typeof:V,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Iy(e,t,a,s,o,c,f,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.hiddenUpdates=Dn(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Gm(e,t,a,s,o,c,f,v,w,k,M,H){return e=new Iy(e,t,a,f,w,k,M,H,v),t=1,c===!0&&(t|=24),c=ha(3,null,null,t),e.current=c,c.stateNode=e,t=fc(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:a,cache:t},vc(c),e}function Vm(e){return e?(e=yi,e):yi}function Ym(e,t,a,s,o,c){o=Vm(o),s.context===null?s.context=o:s.pendingContext=o,s=Zn(t),s.payload={element:a},c=c===void 0?null:c,c!==null&&(s.callback=c),a=Wn(e,s,t),a!==null&&(na(a,e,t),jl(a,e,t))}function Km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Du(e,t){Km(e,t),(e=e.alternate)&&Km(e,t)}function Im(e){if(e.tag===13||e.tag===31){var t=Ms(e,67108864);t!==null&&na(t,e,67108864),Du(e,67108864)}}function Qm(e){if(e.tag===13||e.tag===31){var t=va();t=si(t);var a=Ms(e,t);a!==null&&na(a,e,t),Du(e,t)}}var So=!0;function Qy(e,t,a,s){var o=D.T;D.T=null;var c=W.p;try{W.p=2,Mu(e,t,a,s)}finally{W.p=c,D.T=o}}function Xy(e,t,a,s){var o=D.T;D.T=null;var c=W.p;try{W.p=8,Mu(e,t,a,s)}finally{W.p=c,D.T=o}}function Mu(e,t,a,s){if(So){var o=Bu(s);if(o===null)Su(e,t,s,xo,a),Jm(e,s);else if(Zy(o,e,t,a,s))s.stopPropagation();else if(Jm(e,s),t&4&&-1<Jy.indexOf(e)){for(;o!==null;){var c=Zt(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=St(c.pendingLanes);if(f!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;f;){var w=1<<31-ct(f);v.entanglements[1]|=w,f&=~w}tn(c),(Ue&6)===0&&(so=$t()+500,$l(0))}}break;case 31:case 13:v=Ms(c,2),v!==null&&na(v,c,2),lo(),Du(c,2)}if(c=Bu(s),c===null&&Su(e,t,s,xo,a),c===o)break;o=c}o!==null&&s.stopPropagation()}else Su(e,t,s,null,a)}}function Bu(e){return e=ll(e),Lu(e)}var xo=null;function Lu(e){if(xo=null,e=Xa(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xo=e,null}function Xm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Va()){case mr:return 2;case ai:return 8;case ps:case gr:return 32;case yr:return 268435456;default:return 32}default:return 32}}var qu=!1,os=null,cs=null,us=null,Xl=new Map,Jl=new Map,ds=[],Jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jm(e,t){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(t.pointerId)}}function Zl(e,t,a,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Zt(t),t!==null&&Im(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Zy(e,t,a,s,o){switch(t){case"focusin":return os=Zl(os,e,t,a,s,o),!0;case"dragenter":return cs=Zl(cs,e,t,a,s,o),!0;case"mouseover":return us=Zl(us,e,t,a,s,o),!0;case"pointerover":var c=o.pointerId;return Xl.set(c,Zl(Xl.get(c)||null,e,t,a,s,o)),!0;case"gotpointercapture":return c=o.pointerId,Jl.set(c,Zl(Jl.get(c)||null,e,t,a,s,o)),!0}return!1}function Zm(e){var t=Xa(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,Mn(e.priority,function(){Qm(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,Mn(e.priority,function(){Qm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Bu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);$n=s,a.target.dispatchEvent(s),$n=null}else return t=Zt(a),t!==null&&Im(t),e.blockedOn=a,!1;t.shift()}return!0}function Wm(e,t,a){Eo(e)&&a.delete(t)}function Wy(){qu=!1,os!==null&&Eo(os)&&(os=null),cs!==null&&Eo(cs)&&(cs=null),us!==null&&Eo(us)&&(us=null),Xl.forEach(Wm),Jl.forEach(Wm)}function jo(e,t){e.blockedOn===t&&(e.blockedOn=null,qu||(qu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wy)))}var To=null;function Pm(e){To!==e&&(To=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){To===e&&(To=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Lu(s||a)===null)continue;break}var c=Zt(a);c!==null&&(e.splice(t,3),t-=3,Bc(c,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function Hi(e){function t(w){return jo(w,e)}os!==null&&jo(os,e),cs!==null&&jo(cs,e),us!==null&&jo(us,e),Xl.forEach(t),Jl.forEach(t);for(var a=0;a<ds.length;a++){var s=ds[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ds.length&&(a=ds[0],a.blockedOn===null);)Zm(a),a.blockedOn===null&&ds.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],c=a[s+1],f=o[xt]||null;if(typeof c=="function")f||Pm(a);else if(f){var v=null;if(c&&c.hasAttribute("formAction")){if(o=c,f=c[xt]||null)v=f.formAction;else if(Lu(o)!==null)continue}else v=f.action;typeof v=="function"?a[s+1]=v:(a.splice(s,3),s-=3),Pm(a)}}}function Fm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Hu(e){this._internalRoot=e}No.prototype.render=Hu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,s=va();Ym(a,s,e,t,null,null)},No.prototype.unmount=Hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ym(e.current,2,null,e,null,null),lo(),t[Bn]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ss();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ds.length&&t!==0&&t<ds[a].priority;a++);ds.splice(a,0,e),a===0&&Zm(e)}};var e0=n.version;if(e0!=="19.2.3")throw Error(r(527,e0,"19.2.3"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Py={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Ka=Ao.inject(Py),wt=Ao}catch(e){}}return Pl.createRoot=function(e,t){if(!u(e))throw Error(r(299));var a=!1,s="",o=rf,c=of,f=cf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Gm(e,1,!1,null,null,a,s,null,o,c,f,Fm),e[Bn]=t.current,wu(e),new Hu(t)},Pl.hydrateRoot=function(e,t,a){if(!u(e))throw Error(r(299));var s=!1,o="",c=rf,f=of,v=cf,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=Gm(e,1,!0,t,a!=null?a:null,s,o,w,c,f,v,Fm),t.context=Vm(null),a=t.current,s=va(),s=si(s),o=Zn(s),o.callback=null,Wn(a,o,s),a=s,t.current.lanes=a,Xt(t,a),tn(t),e[Bn]=t.current,wu(e),new No(t)},Pl.version="19.2.3",Pl}var f0;function gv(){if(f0)return Yu.exports;f0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Yu.exports=mv(),Yu.exports}var yv=gv();const vv=K0(yv),pv=["./words.txt"];let fs=null;const bv=()=>b(null,null,function*(){if(fs)return fs;try{const i=pv.map(u=>fetch(u).then(d=>{if(!d.ok)throw new Error(`Failed to load ${u}`);return d.text()}).catch(d=>(console.warn(`   ${u}:`,d),""))),l=(yield Promise.all(i)).join(`
`);if(!l||l.length<100)throw new Error("  ");const r=l.split(/\r?\n/).map(u=>u.trim().toLowerCase().replace(//g,"")).filter(u=>u.length>1&&/^[-]+(-[-]+)*$/.test(u));return fs=new Set(r),console.log(`  : ${fs.size} `),fs}catch(i){console.error("    :",i);const n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];return fs=new Set(n),fs}}),ys=()=>fs,m0="",_v="",g0="",y0={bg:"./sound/Bg.mp3",click:"./sound/Click.mp3",success:"./sound/Succes.mp3",error:"./sound/Error.mp3",bonus:"./sound/Podskazka.mp3",rare_success:"./sound/Redkoe_slovo.mp3",reward_fanfare:"./sound/Redkoe_slovo.mp3"},Uo=()=>new Date().toISOString().split("T")[0],v0=()=>{const i=localStorage.getItem("slovodel_streak_date")||"",n=parseInt(localStorage.getItem("slovodel_streak_count")||"0",10),l=Uo();if(!i)return{count:0,status:"new"};const r=new Date(i),d=new Date(l).getTime()-r.getTime(),m=Math.floor(d/(1e3*60*60*24));return m===1?{count:n,status:"continue"}:m===0?{count:n,status:"same_day"}:{count:0,status:"reset"}},wv=i=>i>=30?"  ":i>=14?" ":i>=7?" ":i>=3?" ":null,Ps=i=>i<2e3?"-":i<5e3?" ":i<1e4?" ":i<2e4?" ":i<5e4?" ":i<1e5?" ":i<2e5?" ":i<5e5?" ":" ",Sv=i=>{const n=Math.floor(i/60),l=i%60;return`${n}:${l.toString().padStart(2,"0")}`},xv=i=>i<2e3?i/2e3*100:i<5e3?(i-2e3)/3e3*100:i<1e4?(i-5e3)/5e3*100:i<2e4?(i-1e4)/1e4*100:i<5e4?(i-2e4)/3e4*100:i<1e5?(i-5e4)/5e4*100:i<2e5?(i-1e5)/1e5*100:i<5e5?(i-2e5)/3e5*100:100,Ev=i=>i<2e3?2e3:i<5e3?5e3:i<1e4?1e4:i<2e4?2e4:i<5e4?5e4:i<1e5?1e5:i<2e5?2e5:i<5e5?5e5:null,jv=(i,n)=>{const l=new Set;let r=0;const u=Math.random,d=i===10?4:i===8?3:2,m=_v.split("").sort(()=>Math.random()-.5);for(const p of m){if(l.size>=d)break;l.add(p)}const y=u()<.3,g=(g0+m0).split("").sort(()=>Math.random()-.5);for(const p of g){if(l.size>=i)break;m0.includes(p)?y&&r<1&&(l.add(p),r++):l.add(p)}if(l.size<i){const p=g0.split("").sort(()=>Math.random()-.5);for(const _ of p){if(l.size>=i)break;l.add(_)}}return Array.from(l).sort(()=>Math.random()-.5)},Xu=(i=1)=>{const n=Math.random();let l,r=1;return n<.3?(l="time",r=Math.random()<.5?1:2):n<.57?(l="swap",r=Math.random()<.5?1:2):n<.82?l="wildcard":l="hint",{type:l,amount:Math.ceil(r*i)}},Tv=i=>i===" "||i===" "?2:i===" "||i===" "?3:i===" "?4:i===" "?5:i===" "?10:1;const Nv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Av=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,r)=>r?r.toUpperCase():l.toLowerCase()),p0=i=>{const n=Av(i);return n.charAt(0).toUpperCase()+n.slice(1)},I0=(...i)=>i.filter((n,l,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===l).join(" ").trim(),kv=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var Ov={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Cv=$.forwardRef((p,g)=>{var _=p,{color:i="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:u="",children:d,iconNode:m}=_,y=$u(_,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return $.createElement("svg",Lt(Lt(an(Lt({ref:g},Ov),{width:n,height:n,stroke:i,strokeWidth:r?Number(l)*24/Number(n):l,className:I0("lucide",u)}),!d&&!kv(y)&&{"aria-hidden":"true"}),y),[...m.map(([j,E])=>$.createElement(j,E)),...Array.isArray(d)?d:[d]])});const Se=(i,n)=>{const l=$.forwardRef((m,d)=>{var y=m,{className:r}=y,u=$u(y,["className"]);return $.createElement(Cv,Lt({ref:d,iconNode:n,className:I0(`lucide-${Nv(p0(i))}`,`lucide-${i}`,r)},u))});return l.displayName=p0(i),l};const Rv=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],zv=Se("archive",Rv);const Uv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Dv=Se("arrow-left",Uv);const Mv=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Bv=Se("award",Mv);const Lv=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]],sd=Se("book-open-text",Lv);const qv=[["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],Hv=Se("book-plus",qv);const $v=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Q0=Se("calendar",$v);const Gv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],id=Se("check",Gv);const Vv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],X0=Se("circle-check-big",Vv);const Yv=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],Kv=Se("delete",Yv);const Iv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qv=Se("eye",Iv);const Xv=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],J0=Se("flame",Xv);const Jv=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Zv=Se("gift",Jv);const Wv=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Pv=Se("hash",Wv);const Fv=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],or=Se("hourglass",Fv);const ep=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_d=Se("info",ep);const tp=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],cr=Se("lightbulb",tp);const ap=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],np=Se("megaphone",ap);const sp=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Z0=Se("message-circle",sp);const ip=[["path",{d:"M5 12h14",key:"1ays0h"}]],lp=Se("minus",ip);const rp=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],op=Se("moon",rp);const cp=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],up=Se("music",cp);const dp=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hp=Se("pen",dp);const fp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wd=Se("plus",fp);const mp=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ur=Se("refresh-cw",mp);const gp=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],yp=Se("reply",gp);const vp=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pp=Se("save",vp);const bp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_p=Se("search",bp);const wp=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ld=Se("send",wp);const Sp=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sd=Se("settings",Sp);const xp=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],W0=Se("shield",xp);const Ep=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],jp=Se("shopping-bag",Ep);const Tp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8.5 14 7-4",key:"12hpby"}],["path",{d:"m8.5 10 7 4",key:"wwy2dy"}]],dr=Se("square-asterisk",Tp);const Np=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],P0=Se("star",Np);const Ap=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kp=Se("sun",Ap);const Op=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rd=Se("trash-2",Op);const Cp=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],xd=Se("trophy",Cp);const Rp=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zp=Se("user",Rp);const Up=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Dp=Se("volume-2",Up);const Mp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nn=Se("x",Mp);const Bp=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Do=Se("zap",Bp),Lp=({words:i,onClose:n,playSfx:l})=>{const r=[...i].sort((u,d)=>d.length!==u.length?d.length-u.length:d.score-u.score);return h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content max-w-sm text-left flex flex-col max-h-[85vh]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(sd,{size:28,className:"modal-header-icon"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:" "}),h.jsxs("p",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:[" : ",i.length]})]})]}),h.jsx("button",{onClick:()=>{l("click"),n()},className:"modal-close-btn",children:h.jsx(nn,{size:24,className:"modal-icon"})})]}),h.jsx("div",{className:"about-scroll-container",children:r.length===0?h.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 py-10 opacity-60",children:[h.jsx(sd,{size:64,strokeWidth:1,className:"text-gray-400 dark:text-gray-600"}),h.jsxs("p",{className:"empty-state-text",children:["  ...",h.jsx("br",{}),"       !"]})]}):r.map((u,d)=>h.jsxs("div",{className:"collection-item animate-pop",children:[h.jsxs("div",{className:"flex flex-col text-left",children:[h.jsx("span",{className:"collection-word",children:u.text}),h.jsxs("span",{className:"collection-meta",children:[u.length," "]})]}),h.jsxs("div",{className:"collection-score",children:["+",u.score]})]},d))}),h.jsx("div",{className:"mt-4 text-center opacity-30 text-[10px] font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400 shrink-0",children:" "})]})})},qp=({data:i,onClose:n,playSfx:l,currentUserId:r,currentUserRankData:u,totalPlayers:d,getUserRank:m,activeTab:y,onTabChange:g,isLoading:p,onPlayerClick:_})=>{const j=E=>E===0?h.jsx("span",{className:"text-xl",children:""}):E===1?h.jsx("span",{className:"text-xl",children:""}):E===2?h.jsx("span",{className:"text-xl",children:""}):h.jsxs("span",{className:"leaderboard-place",children:[E+1,"."]});return h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content h-[85vh] flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(xd,{size:28,className:"modal-header-icon text-yellow-500"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:" "})]}),h.jsx("button",{onClick:()=>{l("click"),n()},className:"modal-close-btn",children:h.jsx(nn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"tabs-group mb-4 shrink-0",children:[h.jsx("button",{onClick:()=>g("all"),className:`tab-item ${y==="all"?"tab-item-active":""}`,children:" "}),h.jsxs("button",{onClick:()=>g("daily"),className:`tab-item ${y==="daily"?"tab-item-active":""}`,children:[h.jsx(Do,{size:12,fill:"currentColor"}),""]}),h.jsxs("button",{onClick:()=>g("previous"),className:`tab-item ${y==="previous"?"tab-item-active":""}`,children:[h.jsx(Do,{size:12,fill:"currentColor"}),""]})]}),h.jsx("div",{className:"text-center mb-2 shrink-0",children:h.jsxs("p",{className:"leaderboard-total-players",children:[y==="all"?" :":y==="daily"?"  |  :":"  |  :"," ",h.jsx("span",{className:"leaderboard-total-count",children:d||0})]})}),h.jsx("div",{className:"leaderboard-scroll",children:p?h.jsx("p",{className:"text-center opacity-50",children:" ..."}):i.length===0?h.jsx("p",{className:"text-center opacity-50",children:"  "}):h.jsxs(h.Fragment,{children:[(()=>{let E=1;return i.map((C,z)=>{z>0&&C.score<i[z-1].score&&E++;const B=E,Q=C.telegram_id===r;return h.jsxs("div",{onClick:()=>_==null?void 0:_(C),className:`leaderboard-card ${Q?"leaderboard-card-active":""} cursor-pointer active:scale-[0.98]`,children:[h.jsx("div",{className:"w-6 flex justify-center items-center",children:j(B-1)}),h.jsx("img",{src:C.avatar_url||"./image/book_face.png",alt:"avatar",className:"w-8 h-8 rounded-full bg-indigo-100"}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("p",{className:`leaderboard-name ${Q?"leaderboard-name-active":""}`,children:C.name}),h.jsx("p",{className:"leaderboard-subtext",children:y==="all"?m(C.score):"  "})]}),h.jsx("span",{className:"leaderboard-points",children:C.score})]},z)})})(),u&&y==="all"&&h.jsxs(h.Fragment,{children:[u.rank>i.length+1&&h.jsx("div",{className:"text-center font-bold opacity-50 my-4",children:"..."}),h.jsxs("div",{className:"leaderboard-card leaderboard-card-active cursor-pointer active:scale-[0.98]",onClick:()=>_==null?void 0:_(an(Lt({},u),{telegram_id:r})),children:[h.jsx("div",{className:"w-6 flex justify-center items-center",children:j(u.rank-1)}),h.jsx("img",{src:u.avatar_url||"./image/book_face.png",alt:"avatar",className:"w-10 h-10 rounded-full bg-indigo-100"}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("p",{className:"leaderboard-name leaderboard-name-active",children:u.username}),h.jsx("p",{className:"leaderboard-subtext",children:m(u.score)})]}),h.jsx("span",{className:"leaderboard-points",children:u.score})]})]})]})}),h.jsx("div",{className:"mt-2 shrink-0",children:h.jsx("button",{onClick:()=>{l("click"),n()},className:"leaderboard-close",children:""})})]})})},Hp=({musicVolume:i,setMusicVolume:n,sfxVolume:l,setSfxVolume:r,theme:u,setTheme:d,onClose:m,onExit:y,playSfx:g,showExitButton:p,isAdmin:_,onOpenAdmin:j})=>{const E=()=>{g("click"),n(i>0?0:.3)},C=()=>{g("click"),r(l>0?0:.5)},z=()=>{g("click"),d(u==="light"?"dark":"light")};return h.jsx("div",{className:"modal-overlay z-[300]",children:h.jsxs("div",{className:"modal-content max-w-sm text-left",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Sd,{size:28,className:"modal-icon"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:""})]}),h.jsx("button",{onClick:()=>{g("click"),m()},className:"modal-close-btn",children:h.jsx(nn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"settings-row",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Dp,{size:24,className:"text-green-500"}),h.jsx("span",{className:"font-bold",children:""})]}),h.jsx("button",{onClick:C,className:`w-14 h-8 rounded-full p-1 transition-colors duration-300 ${l>0?"bg-green-500":"toggle-btn-inactive"}`,children:h.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${l>0?"translate-x-6":"translate-x-0"}`})})]}),h.jsxs("div",{className:"settings-row",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(up,{size:24,className:"text-indigo-500"}),h.jsx("span",{className:"font-bold",children:""})]}),h.jsx("button",{onClick:E,className:`w-14 h-8 rounded-full p-1 transition-colors duration-300 ${i>0?"bg-indigo-500":"toggle-btn-inactive"}`,children:h.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${i>0?"translate-x-6":"translate-x-0"}`})})]}),h.jsxs("div",{className:"settings-row",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[u==="light"?h.jsx(kp,{size:24,className:"text-amber-500"}):h.jsx(op,{size:24,className:"text-purple-400"}),h.jsx("span",{className:"font-bold",children:""})]}),h.jsx("button",{onClick:z,className:`w-14 h-8 rounded-full p-1 transition-colors duration-300 ${u==="dark"?"bg-purple-600":"bg-amber-400"}`,children:h.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${u==="dark"?"translate-x-6":"translate-x-0"}`})})]}),_&&j&&h.jsxs("button",{onClick:()=>{g("click"),j()},className:"btn-action-indigo",children:[h.jsx(W0,{size:18}),"  "]}),p&&h.jsx("button",{onClick:()=>{g("click"),y(),m()},className:"btn-action-red",children:" "})]}),h.jsx("div",{className:"settings-footer",children:"Slovodel Settings"})]})})},$p=({onClose:i,playSfx:n,bonuses:l,onOpenShop:r,onSubmitFeedback:u,showRanks:d=!0,isDailyMode:m})=>{var C;const[y,g]=$.useState(""),[p,_]=$.useState(!1),j=((C=ys())==null?void 0:C.size)||0,E=()=>{y.trim()&&(u(y),g(""),_(!0),setTimeout(()=>_(!1),3e3))};return h.jsx("div",{className:"modal-overlay z-[300]",children:h.jsxs("div",{className:"modal-content max-w-sm text-left flex flex-col max-h-[85vh]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(_d,{size:28,className:"modal-header-icon"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"modal-close-btn",children:h.jsx(nn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"about-scroll-container",children:[h.jsxs("section",{className:"about-block",children:[h.jsx("h3",{className:"about-block-title",children:" "}),h.jsx("p",{className:"text-sm opacity-90",children:"    .   ,   !   60 ."}),h.jsxs("p",{className:"text-xs mt-2 opacity-60",children:["     ",h.jsx("span",{className:"font-bold",children:j>0?j.toLocaleString("ru-RU"):"..."})," ."]})]}),h.jsxs("section",{className:"space-y-3 mt-5",children:[h.jsx("h3",{className:"about-block-title",children:":"}),h.jsx("div",{className:"space-y-2",children:[{icon:h.jsx(or,{size:24,className:"text-icon-indigo shrink-0"}),title:"",desc:" 15    ",count:l.time,color:"text-title-indigo"},{icon:h.jsx(cr,{size:24,className:"text-icon-amber shrink-0"}),title:"",desc:"        ",count:l.hint,color:"text-title-amber"},{icon:h.jsx(dr,{size:24,className:"text-icon-purple shrink-0"}),title:"",desc:"  15  *    ",count:l.wildcard,color:"text-title-purple"},{icon:h.jsx(ur,{size:24,className:"text-icon-pink shrink-0"}),title:"",desc:"      ",count:l.swap,color:"text-title-pink"}].map((z,B)=>h.jsxs("div",{className:"hint-item",children:[z.icon,h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:`font-bold text-sm uppercase truncate ${z.color}`,children:z.title}),h.jsx("p",{className:"text-[10px] leading-tight opacity-70",children:z.desc})]}),h.jsx("div",{className:"bonus-count-badge",children:h.jsx("span",{className:"font-bold text-sm",children:z.count})})]},B))}),m?h.jsx("div",{className:"p-3 bg-amber-500/10 dark:bg-amber-500/20 rounded-xl border border-amber-500/20 text-center",children:h.jsx("p",{className:"text-xs font-bold text-amber-700 dark:text-amber-300",children:"     ."})}):h.jsxs("button",{onClick:()=>{n("click"),r()},className:"btn-action-indigo py-3 text-xs ",children:[h.jsx(wd,{size:16}),"  "]})]}),d&&h.jsxs("section",{className:"space-y-3",children:[h.jsx("h3",{className:"about-block-title mt-5",children:" :"}),h.jsx("div",{className:"grid grid-cols-1",children:[{rank:"-",points:" 2 000",img:"./image/face.png"},{rank:" ",points:" 2 000",img:"./image/worm.png"},{rank:" ",points:" 5 000",img:"./image/ranger.png"},{rank:" ",points:" 10 000",img:"./image/scaut.png"},{rank:" ",points:" 20 000",img:"./image/adept.png"},{rank:" ",points:" 50 000",img:"./image/master.png"},{rank:" ",points:" 100 000",img:"./image/wizard.png"},{rank:" ",points:" 200 000",img:"./image/book_master.png"},{rank:" ",points:" 500 000",img:"./image/oracul.png"}].map((z,B)=>h.jsxs("div",{className:"rank-item",children:[h.jsx("img",{src:z.img,alt:z.rank,className:"w-8 h-8 object-contain"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"rank-title",children:z.rank}),h.jsx("p",{className:"text-[10px] font-bold opacity-50 uppercase",children:z.points})]})]},B))})]}),h.jsxs("section",{className:"about-block",children:[h.jsxs("h3",{className:"about-block-title mb-2",children:[h.jsx(Z0,{size:16}),"  "]}),h.jsx("p",{className:"text-xs mb-3 opacity-80",children:"     ?     "}),p?h.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-green-500/20 text-green-600 dark:text-green-400 rounded-xl font-bold text-sm animate-in fade-in zoom-in",children:[h.jsx(id,{size:18})," !"]}):h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("input",{type:"text",value:y,onChange:z=>g(z.target.value),placeholder:"...",className:"feedback-input"}),h.jsx("button",{onClick:()=>{n("click"),E()},disabled:!y.trim(),className:`feedback-send-btn ${y.trim()?"feedback-send-btn-active":"feedback-send-btn-disabled"}`,children:h.jsx(ld,{size:18})})]})]})]}),h.jsx("div",{className:"mt-4 shrink-0",children:h.jsx("div",{className:"text-center opacity-30 text-[10px] font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400",children:"Created by @AleXX_4D"})})]})})},b0=({onClose:i,playSfx:n,username:l,avatarUrl:r,rank:u,totalScore:d,highScore:m,streak:y,totalWords:g,rareWords:p,bonuses:_,onOpenShop:j,place:E,daysPlayed:C,dailyPlaces:z,coins:B,isPublicView:Q=!1})=>{const q=X=>X.includes("")?"./image/face.png":X.includes("")?"./image/worm.png":X.includes("")?"./image/ranger.png":X.includes("")?"./image/scaut.png":X.includes("")?"./image/adept.png":X.includes("")?"./image/master.png":X.includes("")?"./image/wizard.png":X.includes("")?"./image/book_master.png":X.includes("")?"./image/oracul.png":"./image/face.png",K=xv(d),V=Ev(d),Y=p.filter(X=>X.length>=7&&X.length<=8).length,G=p.filter(X=>X.length>=9&&X.length<=10).length,se=p.filter(X=>X.length>=11).length;return h.jsx("div",{className:"modal-overlay z-[900] text-left",children:h.jsxs("div",{className:"modal-content max-w-sm text-left flex flex-col max-h-[85vh]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(zp,{size:28,className:"modal-header-icon text-amber-500"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"modal-close-btn",children:h.jsx(nn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"about-scroll-container space-y-6",children:[h.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:r||"./image/book_face.png",alt:"avatar",className:"profile-avatar"}),h.jsx("div",{className:"profile-rank-badge",children:h.jsx("img",{src:q(u),alt:"rank",className:"w-6 h-6"})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"profile-name",children:l}),h.jsx("p",{className:"profile-rank",children:u})]})]}),h.jsxs("div",{className:"profile-block",children:[h.jsxs("div",{className:"flex justify-between profile-label",children:[h.jsx("span",{children:" "}),V&&h.jsxs("span",{children:[d," / ",V]})]}),h.jsx("div",{className:"level-progress-bg",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-amber-400 to-orange-500 transition-all duration-1000",style:{width:`${K}%`}})})]}),!Q&&h.jsx("div",{className:"profile-block cursor-pointer active:scale-95 transition-transform",onClick:()=>{n("click"),j("coins")},children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"profile-label mb-0",children:" :"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:"./image/coin.svg",alt:"coin",className:"w-6 h-6 object-contain"}),h.jsx("span",{className:"shop-balance-value",children:B})]})]})}),!Q&&h.jsxs("div",{className:"space-y-3",children:[h.jsx("h3",{className:"profile-label",children:" :"}),h.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{icon:h.jsx(or,{size:20,className:"text-indigo-500"}),count:_.time},{icon:h.jsx(cr,{size:20,className:"text-amber-500"}),count:_.hint},{icon:h.jsx(dr,{size:20,className:"text-purple-500"}),count:_.wildcard},{icon:h.jsx(ur,{size:20,className:"text-pink-500"}),count:_.swap}].map((X,me)=>h.jsxs("div",{className:"bonus-card",children:[h.jsx("div",{className:"mb-1",children:X.icon}),h.jsx("span",{className:"bonus-count-badge font-bold text-sm",children:X.count})]},me))}),h.jsxs("button",{onClick:()=>{n("click"),j()},className:"w-full py-3 bg-violet-600 text-white font-bold rounded-xl shadow-lg active:scale-95 transition-all uppercase text-sm flex items-center justify-center gap-2",children:[h.jsx(wd,{size:18}),"  "]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"profile-label",children:" "}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(Bv,{className:"w-5 h-5 text-indigo-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:d.toLocaleString()}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(P0,{className:"w-5 h-5 text-rose-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:m.toLocaleString()}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(xd,{className:"w-5 h-5 text-amber-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:E>0?E:"-"}),h.jsx("span",{className:"stat-label-text",children:" "})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"profile-label",children:" "}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2 bg-yellow-100/50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-700/30",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:z.first}),h.jsx("span",{className:"stat-label-text",children:"1 "})]}),h.jsxs("div",{className:"stat-box p-2 bg-gray-100/50 dark:bg-gray-800/30 border-gray-200 dark:border-gray-600/30",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:z.second}),h.jsx("span",{className:"stat-label-text",children:"2 "})]}),h.jsxs("div",{className:"stat-box p-2 bg-orange-100/50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-700/30",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:z.third}),h.jsx("span",{className:"stat-label-text",children:"3 "})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"profile-label",children:""}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(Q0,{className:"w-5 h-5 text-blue-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:C}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(J0,{className:"w-5 h-5 text-orange-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:y}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(Pv,{className:"w-5 h-5 text-green-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:g.toLocaleString()}),h.jsx("span",{className:"stat-label-text",children:" "})]})]})]}),h.jsxs("div",{className:"space-y-2 mb-1",children:[h.jsx("h3",{className:"profile-label",children:" "}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xs font-bold mb-1 text-indigo-500",children:"7-8 "}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:Y})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xs font-bold mb-1 text-purple-500",children:"9-10 "}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:G})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xs font-bold mb-1 text-pink-500",children:"11+ "}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:se})]})]})]})]})]})})},Gp=({streak:i,streakMilestone:n,setStreakMilestone:l,hasPlayedToday:r,openGlobalRanking:u,openAchievements:d,playSfx:m,setShowCollection:y,onOpenAbout:g,setIsMenuOpen:p,userName:_,totalScore:j,highScore:E,isDailyPlayedToday:C,startGame:z,openDailyChallenge:B,dailyScore:Q,challengeEndTime:q,coins:K,onOpenShop:V})=>{const[Y,G]=$.useState("");return $.useEffect(()=>{const se=()=>{if(!q){G("...");return}const me=Date.now(),ge=new Date(q).getTime()-me;if(ge<=0){G("00:00:00");return}const Rt=Math.floor(ge/(1e3*60*60)),rt=Math.floor(ge%(1e3*60*60)/(1e3*60)),Le=Math.floor(ge%(1e3*60)/1e3);G(`${Rt.toString().padStart(2,"0")}:${rt.toString().padStart(2,"0")}:${Le.toString().padStart(2,"0")}`)};se();const X=setInterval(se,1e3);return()=>clearInterval(X)},[q]),h.jsxs("div",{className:"h-[100dvh] w-full max-w-md mx-auto p-4 flex flex-col relative overflow-hidden",children:[n&&h.jsx("div",{className:"modal-overlay z-[100]",children:h.jsxs("div",{className:"modal-content",children:[h.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),h.jsx("h2",{className:"modal-title text-amber-500",children:" !"}),h.jsxs("p",{className:"text-lg font-bold my-4 italic text-gray-800 dark:text-white break-words px-4",children:['"',n,'"']}),h.jsxs("p",{className:"text-sm opacity-70 mb-6 text-gray-600 dark:text-gray-200",children:[" : ",i," ."]}),h.jsx("button",{onClick:()=>{m("click"),l(null)},className:"w-full py-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-2xl shadow-lg active:scale-95 transition-transform uppercase",children:""})]})}),h.jsxs("div",{className:"w-full flex justify-between items-center z-10 shrink-0 gap-2",children:[h.jsxs("div",{className:"flex gap-1 shrink-0",children:[h.jsx("button",{onClick:u,className:"stat-card text-yellow-400",children:h.jsx(xd,{size:24})}),h.jsxs("div",{className:"px-2 py-2 rounded-2xl font-bold flex items-center gap-2 shadow-lg stat-card",title:" ",children:[h.jsx("span",{className:`${r?"animate-pulse text-red-500":"opacity-50 grayscale text-gray-500"}`,children:h.jsx(J0,{size:24,fill:r?"currentColor":"none"})}),h.jsx("span",{className:`text-sm ${r?"text-red-500":"opacity-50 text-gray-600 dark:text-gray-300"}`,children:i})]})]}),h.jsxs("div",{className:"flex gap-1 shrink-0",children:[h.jsx("button",{onClick:()=>{m("click"),y(!0)},className:"stat-card text-blue-600",children:h.jsx(sd,{size:24})}),h.jsx("button",{onClick:()=>{m("click"),g()},className:"stat-card text-cyan-500",children:h.jsx(_d,{size:24})}),h.jsx("button",{onClick:()=>p(!0),className:"stat-card main_up",children:h.jsx(Sd,{size:24})})]})]}),h.jsx("div",{className:"flex items-center justify-center relative z-0 min-h-0 mt-10 w-full px-8",children:h.jsx("div",{className:"logo-svg text-gradient-custom drop-shadow-lg"})}),h.jsxs("div",{className:"w-full shrink-0 flex flex-col gap-4 pb-2 mt-auto",children:[h.jsxs("div",{className:"flex justify-center items-center gap-3",children:[h.jsxs("button",{onClick:()=>{m("click"),d()},className:"player-card active:scale-95 transition-transform",children:[h.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-gradient-custom",children:_}),h.jsx("p",{className:"text-[10px] font-bold tracking-widest opacity-60 stat-label",children:Ps(j)})]}),h.jsxs("button",{onClick:()=>{m("click"),V("coins")},className:"coin-card",title:"",children:[h.jsx("img",{src:"./image/coin.svg",alt:"coins",className:"w-5 h-5"}),h.jsx("span",{className:"coin-value",children:K})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[h.jsxs("div",{className:"stat-card ",children:[h.jsx("div",{className:"stat-label mb-1 uppercase",children:" "}),h.jsx("div",{className:"stat-value",children:E})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-label mb-1 uppercase",children:" "}),h.jsx("div",{className:"stat-value",children:j})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:()=>{m("click"),B()},className:`w-full py-3 font-bold rounded-2xl border transition-all uppercase text-sm flex flex-col items-center justify-center relative overflow-hidden group
            ${C?"game-day-end":"game-day"}`,children:[C?h.jsxs("span",{className:"text-lg relative z-10 flex items-center gap-2",children:[h.jsx(X0,{size:20}),"  "]}):h.jsxs("span",{className:"text-lg relative z-10 flex items-center gap-2",children:[h.jsx(Do,{size:20,fill:"currentColor"}),"  "]}),C?h.jsxs("span",{className:"text-[10px] lowercase normal-case mt-1 opacity-70",children:[" : ",Q,"    : ",Y]}):h.jsxs("span",{className:"text-[10px] lowercase normal-case mt-1 opacity-90",children:[" : ",Y]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[h.jsxs("button",{onClick:()=>z(10),className:"game_easy font-bold",children:[" ",h.jsx("span",{className:"opacity-80 ml-1 normal-case font-medium",children:"( x 1 )"})]}),h.jsxs("button",{onClick:()=>z(8),className:"game_medium font-bold",children:[" ",h.jsx("span",{className:"opacity-80 ml-1 normal-case font-medium",children:"( x 1.5 )"})]}),h.jsxs("button",{onClick:()=>z(6),className:"game_hard font-bold",children:[" ",h.jsx("span",{className:"opacity-80 ml-1 normal-case font-medium",children:"( x 2 )"})]})]})]}),h.jsx("div",{className:"text-center opacity-30 text-[10px] font-bold uppercase tracking-widest text-gray-500",children:"Slovodel  2026"})]})]})},Vp=i=>{const{score:n,isDailyMode:l,timeLeft:r,onOpenAbout:u,onOpenMenu:d,hintWord:m,isDefinitionLoading:y,hintDefinition:g,foundWords:p,currentInput:_,setCurrentInput:j,playSfx:E,handleAddTime:C,bonusTimeLeft:z,handleHint:B,bonusHintLeft:Q,handleWildcard:q,bonusWildcardLeft:K,wildcardActiveSeconds:V,hintActiveSeconds:Y,toggleSwapMode:G,bonusSwapLeft:se,isSwapActive:X,grid:me,hintIndices:ge,startSwap:Rt,checkWord:rt,performSwap:Le,swapTargetIdx:Ht,setSwapTargetIdx:gt,showConfirm:ot,setShowConfirm:D,finishGame:W,setGrid:ae,onOpenShop:we}=i;return h.jsxs("div",{className:"game-container",children:[Ht!==null&&h.jsx("div",{className:"modal-overlay z-[60]",children:h.jsxs("div",{className:"modal-content",children:[h.jsx("h3",{className:"swap-modal-title",children:""}),h.jsx("p",{className:"swap-modal-text",children:" :"}),h.jsx("input",{autoFocus:!0,className:"swap-modal-input",maxLength:1,onChange:te=>Le(te.target.value)}),h.jsx("button",{onClick:()=>gt(null),className:"swap-modal-cancel-btn",children:""})]})}),h.jsxs("header",{className:"game-header",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("div",{className:"game-score",children:n}),l&&h.jsx("div",{className:"text-[10px] font-bold uppercase text-amber-500 tracking-wider",children:" "})]}),h.jsx("div",{className:`timer-base ${r<10?"timer-warning":"timer-normal"}`,children:Sv(r)}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>{E("click"),u()},className:"game-header-btn text-cyan-500",children:h.jsx(_d,{size:24})}),h.jsx("button",{onClick:()=>{E("click"),d()},className:"game-header-btn",children:h.jsx(Sd,{size:24})})]})]}),h.jsxs("div",{className:"game-board-area",children:[m&&h.jsxs("div",{className:"hint-box",children:[h.jsx("div",{className:"hint-label",children:""}),Y>0?h.jsx("div",{className:"hint-text",children:y?"...":g}):h.jsx("div",{className:"hint-word",children:m})]}),h.jsx("div",{className:"flex flex-wrap gap-2 content-start",children:p.map((te,S)=>h.jsxs("div",{className:"found-word-item",children:[h.jsx("span",{className:te.text.length>=7?"text-amber-500":"",children:te.text.toUpperCase()}),h.jsxs("span",{className:"found-word-score",children:["+",te.score]})]},S))})]}),h.jsxs("div",{className:"game-panel",children:[h.jsx("div",{className:"mb-5 flex justify-around items-center",children:[{icon:h.jsx(or,{size:32,className:"text-icon-indigo bonus-icon-base"}),count:z,action:C,active:!0},{icon:h.jsx(cr,{size:32,className:"text-icon-amber bonus-icon-base"}),count:Y>0?`${Y}c`:Q,action:B,active:!0,pulse:Y>0,ringClass:"ring-amber-400/50"},{icon:h.jsx(dr,{size:32,className:"text-icon-purple bonus-icon-base"}),count:V>0?`${V}c`:K,action:q,active:V>0,pulse:V>0,ringClass:"ring-purple-400/50"},{icon:h.jsx(ur,{size:32,className:"text-icon-pink bonus-icon-base"}),count:se,action:G,active:X}].map((te,S)=>{const U=typeof te.count=="number"&&te.count<=0&&!te.pulse;return h.jsxs("button",{onClick:U?l?void 0:()=>{E("click"),we()}:te.action,className:`bonus-btn-wrapper ${U&&l?"bonus-btn-disabled":"bonus-btn-active"}`,disabled:U&&l,children:[h.jsx("div",{className:`bonus-btn-container ${te.pulse?`animate-pulse ring-4 ${te.ringClass}`:""}`,children:te.icon}),h.jsx("span",{className:`bonus-badge ${U&&!l?"bonus-badge-zero":"bonus-badge-normal"}`,children:U?l?"0":"+":te.count})]},S)})}),h.jsxs("div",{className:"input-field-container",children:[_.length>0&&h.jsx("button",{onClick:()=>{E("click"),j([])},className:"absolute left-2 p-2 input-field-element hover:text-red-400 transition-colors",title:" ",children:h.jsx(rd,{size:24})}),h.jsx("div",{className:`input-text ${_.length>12?"text-right":"text-center"}`,style:{direction:_.length>12?"rtl":"ltr"},children:_.length>0?h.jsx("span",{style:{direction:"ltr",unicodeBidi:"embed"},children:_.join("")}):h.jsx("span",{className:"input-placeholder",children:"..."})}),_.length>0&&h.jsx("button",{onClick:()=>{E("click"),j(te=>te.slice(0,-1))},className:"absolute right-2 p-2 input-field-element hover:text-indigo-500 transition-colors",children:h.jsx(Kv,{size:24})})]}),h.jsx("div",{className:`grid ${me.length===10?"grid-cols-5":me.length===8?"grid-cols-4":"grid-cols-3"} gap-2 mb-4`,children:me.map((te,S)=>h.jsx("button",{onClick:()=>{X?Rt(S):(E("click"),j(U=>[...U,te]))},className:`${me.length===10?"aspect-square":me.length===8?"aspect-[5/4]":"aspect-[5/3]"} letter-btn ${ge.has(S)?"letter-btn-hint":""}`,children:te},S))}),h.jsxs("div",{className:"game-controls",children:[h.jsx("button",{onClick:()=>{E("click"),ae([...me].sort(()=>Math.random()-.5))},className:"btn-control-mix",children:""}),h.jsx("button",{onClick:rt,disabled:_.length===0,className:`btn-control-enter ${_.length>0?"btn-control-enter-active":"btn-enter-disabled"}`,children:""})]})]}),ot&&h.jsx("div",{className:"modal-overlay z-[70]",children:h.jsxs("div",{className:"modal-content",children:[h.jsx("h3",{className:"modal-title",children:" ?"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>{E("click"),D(!1)},className:"confirm-modal-cancel",children:""}),h.jsx("button",{onClick:()=>{E("click"),W()},className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold shadow-lg shadow-red-500/30",children:""})]})]})})]})},Yp=({score:i,lastRoundRecordBeaten:n,totalScore:l,userName:r,onMenu:u,newRankReached:d,onRankModalClose:m})=>{const[y,g]=$.useState(!!d),p=_=>_<2e3?_/2e3*100:_<5e3?(_-2e3)/3e3*100:_<1e4?(_-5e3)/5e3*100:_<5e4?(_-1e4)/4e4*100:_<1e5?(_-5e4)/5e4*100:_<2e5?(_-1e5)/1e5*100:_<5e5?(_-2e5)/3e5*100:100;return h.jsxs("div",{className:"h-full w-full max-w-md mx-auto p-6 flex flex-col items-center justify-center animate-pop relative",children:[y&&d&&h.jsx("div",{className:"rank-modal-overlay",children:h.jsxs("div",{className:"rank-modal-content",children:[h.jsx("div",{className:"rank-modal-gradient-bar"}),h.jsx("img",{src:"./image/crown.png",alt:"Rank Up",className:"rank-modal-icon"}),h.jsx("h2",{className:"rank-modal-title",children:"!"}),h.jsx("p",{className:"rank-modal-subtitle",children:"  !  :"}),h.jsx("div",{className:"rank-modal-box",children:h.jsx("p",{className:"rank-modal-rank-name",children:d})}),h.jsx("button",{onClick:()=>{g(!1),m()},className:"rank-modal-button",children:"!"})]})}),h.jsx("h2",{className:"round-end-up",children:" "}),h.jsx("div",{className:"relative",children:h.jsx("div",{className:"round-end-score",children:i})}),n!==null&&h.jsx("div",{className:"mb-8 text-center animate-bounce",children:h.jsx("div",{className:"round-end-record",children:h.jsx("p",{className:"font-bold text-sm uppercase tracking-wide",children:"  !"})})}),h.jsxs("div",{className:"round-end-bg",children:[h.jsx("div",{className:"round-end-progress",children:" "}),h.jsx("div",{className:"round-end-progress-rank",children:h.jsx("div",{className:"round-end-progress-scale",style:{width:`${Math.min(100,p(l))}%`}})}),h.jsxs("div",{className:"flex justify-between items-end",children:[h.jsx("p",{className:"round-end-name",children:r}),h.jsx("p",{className:"round-end-rank",children:Ps(l)})]})]}),h.jsx("button",{onClick:u,className:"leaderboard-close",children:" "})]})},Kp=({onClose:i,playSfx:n,coins:l,onBuyBonuses:r,initialTab:u="bonuses"})=>{const[d,m]=$.useState(u),[y,g]=$.useState({}),p=q=>y[q]||0,_=(q,K)=>{n("click"),g(V=>{const Y=V[q]||0,G=Math.max(0,Math.min(99,Y+K));return an(Lt({},V),{[q]:G})})},j=[{id:"time",name:"",icon:h.jsx(or,{size:24,className:"text-indigo-500"}),cost:30,type:"time"},{id:"swap",name:"",icon:h.jsx(ur,{size:24,className:"text-pink-500"}),cost:40,type:"swap"},{id:"hint",name:"",icon:h.jsx(cr,{size:24,className:"text-amber-500"}),cost:50,type:"hint"},{id:"wildcard",name:"",icon:h.jsx(dr,{size:24,className:"text-purple-500"}),cost:60,type:"wildcard"}],E=[{id:1,amount:100,price:50,label:""},{id:2,amount:250,price:100,label:""},{id:3,amount:500,price:200,label:""},{id:4,amount:1e3,price:350,label:""},{id:5,amount:1500,price:500,label:" "}],C=q=>{n("click"),alert(`     ${q.price} Telegram Stars  ${q.amount} .`)},z=j.reduce((q,K)=>q+K.cost*p(K.id),0),B=j.reduce((q,K)=>q+p(K.id),0),Q=()=>{if(B===0)return;const q=j.map(K=>({type:K.type,cost:K.cost*p(K.id),amount:p(K.id)})).filter(K=>K.amount>0);r(q)&&g({})};return h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content max-w-sm h-[80vh] flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(jp,{size:28,className:"modal-header-icon"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"modal-close-btn",children:h.jsx(nn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"shop-balance-card",children:[h.jsx("span",{className:"shop-balance-label",children:" "}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:"./image/coin.svg",alt:"coin",className:"w-8 h-8 object-contain"}),h.jsx("span",{className:"shop-balance-value",children:l})]})]}),h.jsxs("div",{className:"tabs-group mb-4 shrink-0",children:[h.jsx("button",{onClick:()=>{n("click"),m("bonuses")},className:`tab-item ${d==="bonuses"?"tab-item-active":""}`,children:" "}),h.jsx("button",{onClick:()=>{n("click"),m("coins")},className:`tab-item ${d==="coins"?"tab-item-active":""}`,children:" "})]}),h.jsx("div",{className:"shop-list-container",children:d==="bonuses"?h.jsxs(h.Fragment,{children:[j.map(q=>{const K=p(q.id);return h.jsx("div",{className:"shop-item-card !flex-col !items-stretch !h-auto gap-3",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"shop-item-icon-bg",children:q.icon}),h.jsxs("div",{children:[h.jsx("p",{className:"shop-item-title",children:q.name}),h.jsxs("p",{className:"shop-item-cost flex items-center",children:[h.jsx("img",{src:"./image/coin.svg",alt:"C",className:"w-3 h-3 mr-1"}),q.cost]})]})]}),h.jsxs("div",{className:"shop-item-control",children:[h.jsx("button",{onClick:()=>_(q.id,-1),className:"shop-item-control-plus",children:h.jsx(lp,{size:14})}),h.jsx("span",{className:"shop-item-control-count ",children:K}),h.jsx("button",{onClick:()=>_(q.id,1),className:"shop-item-control-plus",children:h.jsx(wd,{size:14})})]})]})},q.id)}),h.jsx("p",{className:"shop-item-info",children:"        ,  ,       ."})]}):E.map(q=>h.jsxs("div",{className:"coin-pack-card",children:[h.jsxs("div",{className:"relative z-10 text-left",children:[h.jsxs("p",{className:"coin-pack-amount flex items-center gap-1",children:[h.jsx("img",{src:"./image/coin.svg",alt:"c",className:"w-5 h-5"}),q.amount]}),h.jsx("p",{className:"coin-pack-label",children:q.label})]}),h.jsxs("button",{onClick:()=>C(q),className:"coin-pack-btn",children:[q.price," ",h.jsx(P0,{size:12,fill:"currentColor"})]}),h.jsx("img",{src:"./image/coin.svg",className:"coin-pack-bg-icon w-16 h-16"})]},q.id))}),d==="bonuses"&&h.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-white/10 mt-auto",children:h.jsxs("button",{onClick:Q,disabled:B===0,className:`shop-footer-btn ${B>0?"shop-footer-btn-active":"shop-footer-btn-disabled"}`,children:[h.jsx("span",{children:B>0?`  ${z}`:" "}),B>0&&h.jsx("img",{src:"./image/coin.svg",className:"w-6 h-6"})]})})]})})},Ip=({onClose:i,playSfx:n,fetchFeedbacks:l,addCustomWord:r,fetchAdminCustomWords:u,deleteCustomWord:d,updateCustomWord:m,onReply:y,onArchive:g,onDelete:p,onBroadcast:_,onTestModal:j})=>{const[E,C]=$.useState("feedback"),[z,B]=$.useState([]),[Q,q]=$.useState([]),[K,V]=$.useState(""),[Y,G]=$.useState(!1),[se,X]=$.useState("idle"),[me,ge]=$.useState(null),[Rt,rt]=$.useState(""),[Le,Ht]=$.useState(""),[gt,ot]=$.useState(null),[D,W]=$.useState(null),[ae,we]=$.useState(""),[te,S]=$.useState("all"),[U,P]=$.useState("");$.useEffect(()=>{E==="feedback"?(G(!0),l().then(J=>{B(J),G(!1)})):E==="dictionary"&&(G(!0),u().then(J=>{q(J),G(!1)}))},[E,l,u]);const F=()=>b(null,null,function*(){if(!K.trim())return;const J=K.trim().toLowerCase(),Ye=ys();if(Ye&&Ye.has(J)){alert("     !");return}(yield r(J))?(Ye==null||Ye.add(J),V(""),X("success"),setTimeout(()=>X("idle"),2e3),u().then(q)):X("error")}),ce=(J,Ye)=>b(null,null,function*(){if(window.confirm(`  "${Ye}"?`)&&(yield d(J))){const Ga=ys();Ga==null||Ga.delete(Ye),q(Qt=>Qt.filter(sn=>sn.id!==J))}}),pe=J=>{ge(J.id),rt(J.word)},xe=()=>{ge(null),rt("")},Ie=(J,Ye)=>b(null,null,function*(){const nt=Rt.trim().toLowerCase();if(!nt||nt===Ye){xe();return}if(yield m(J,nt)){const Qt=ys();Qt==null||Qt.delete(Ye),Qt==null||Qt.add(nt),q(sn=>sn.map(ln=>ln.id===J?an(Lt({},ln),{word:nt}):ln)),xe()}}),De=()=>{if(!Le.trim())return;const J=ys(),Ye=Le.trim().toLowerCase().replace(//g,"");J&&J.has(Ye)?ot("found"):ot("not-found")},Ca=Q.filter(J=>J.word.toLowerCase().includes(Le.toLowerCase())),Ra=z.filter(J=>te==="archived"?J.status==="archived":J.status==="archived"?!1:te==="new"?J.status!=="replied":te==="replied"?J.status==="replied":!0),vs=J=>b(null,null,function*(){if(!ae.trim())return;(yield y(J.id,J.telegram_id,ae))?(W(null),we(""),l().then(B)):alert("  ")}),zn=J=>b(null,null,function*(){(yield g(J))&&B(Ye=>Ye.map(nt=>nt.id===J?an(Lt({},nt),{status:"archived"}):nt))}),ia=J=>b(null,null,function*(){window.confirm("  ?")&&(yield p(J))&&B(Ye=>Ye.filter(nt=>nt.id!==J))}),$a=()=>b(null,null,function*(){U.trim()&&window.confirm(" ,       ?")&&((yield _(U))?(P(""),alert("   !")):alert("  "))});return h.jsx("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-slate-900 animate-in fade-in duration-300",children:h.jsxs("div",{className:"flex flex-col h-full p-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(W0,{size:28,className:"modal-header-icon"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight text-gray-900 dark:text-white",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"p-2 bg-white/70 dark:bg-white/10 rounded-xl hover:bg-black/10 transition-colors",children:h.jsx(Dv,{size:24,className:"text-gray-800 dark:text-white"})})]}),h.jsxs("div",{className:"tabs-group mb-4 shrink-0",children:[h.jsxs("button",{onClick:()=>C("feedback"),className:`tab-item ${E==="feedback"?"tab-item-active":""}`,children:[h.jsx(Z0,{size:16})," "]}),h.jsxs("button",{onClick:()=>C("dictionary"),className:`tab-item ${E==="dictionary"?"tab-item-active":""}`,children:[h.jsx(Hv,{size:16})," "]}),h.jsxs("button",{onClick:()=>C("broadcast"),className:`tab-item ${E==="broadcast"?"tab-item-active":""}`,children:[h.jsx(np,{size:16})," "]}),h.jsxs("button",{onClick:()=>C("testing"),className:`tab-item ${E==="testing"?"tab-item-active":""}`,children:[h.jsx(Qv,{size:16})," UI "]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:E==="feedback"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:[h.jsx("button",{onClick:()=>S("all"),className:`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap transition-colors ${te==="all"?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-400"}`,children:""}),h.jsx("button",{onClick:()=>S("new"),className:`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap transition-colors ${te==="new"?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-400"}`,children:""}),h.jsx("button",{onClick:()=>S("replied"),className:`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap transition-colors ${te==="replied"?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-400"}`,children:" "}),h.jsx("button",{onClick:()=>S("archived"),className:`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap transition-colors ${te==="archived"?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-400"}`,children:""})]}),Y?h.jsx("p",{className:"text-center opacity-50 mt-10",children:"..."}):Ra.length===0?h.jsx("p",{className:"text-center opacity-50 mt-10",children:" "}):Ra.map((J,Ye)=>h.jsxs("div",{className:"bg-white/40 dark:bg-white/5 p-4 rounded-2xl border border-white/10",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-300 text-sm",children:J.username}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] opacity-50",children:new Date(J.created_at).toLocaleDateString()}),h.jsx("button",{onClick:()=>zn(J.id),className:"text-gray-400 hover:text-indigo-500 transition-colors",title:" ",children:h.jsx(zv,{size:14})}),h.jsx("button",{onClick:()=>ia(J.id),className:"text-gray-400 hover:text-red-500 transition-colors",title:"",children:h.jsx(rd,{size:14})})]})]}),h.jsx("p",{className:"text-sm text-gray-800 dark:text-white/90 whitespace-pre-wrap",children:J.message}),J.status==="replied"?h.jsxs("div",{className:"mt-3 pl-3 border-l-2 border-green-500",children:[h.jsx("p",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 uppercase",children:" :"}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:J.admin_reply})]}):h.jsx("div",{className:"mt-3",children:D===J.id?h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{value:ae,onChange:nt=>we(nt.target.value),placeholder:" ...",className:"flex-1 bg-white/50 dark:bg-black/20 border border-white/10 rounded-xl px-3 py-2 text-sm outline-none"}),h.jsx("button",{onClick:()=>vs(J),className:"p-2 bg-green-500 text-white rounded-xl",children:h.jsx(ld,{size:16})}),h.jsx("button",{onClick:()=>W(null),className:"p-2 bg-gray-300 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-xl",children:h.jsx(nn,{size:16})})]}):h.jsxs("button",{onClick:()=>{W(J.id),we("")},className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 flex items-center gap-1 hover:underline",children:[h.jsx(yp,{size:12})," "]})})]},Ye))]}):E==="dictionary"?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-white/40 dark:bg-white/5 p-4 rounded-2xl border border-white/10",children:[h.jsx("label",{className:"text-xs font-bold uppercase opacity-60 mb-2 block",children:"  "}),h.jsxs("div",{className:"flex gap-2 mb-2",children:[h.jsx("input",{value:Le,onChange:J=>{Ht(J.target.value),ot(null)},placeholder:"...",className:"flex-1 bg-white/50 dark:bg-black/20 border border-white/10 rounded-xl px-3 py-2 outline-none",onKeyDown:J=>J.key==="Enter"&&De()}),h.jsx("button",{onClick:De,className:"p-3 rounded-xl text-white bg-blue-500 hover:bg-blue-600 transition-all",children:h.jsx(_p,{size:20})})]}),gt==="found"&&h.jsxs("div",{className:"text-green-600 dark:text-green-400 text-sm font-bold flex items-center gap-2 animate-in fade-in slide-in-from-top-1",children:[h.jsx(id,{size:16}),"    "]}),gt==="not-found"&&h.jsxs("div",{className:"text-red-500 dark:text-red-400 text-sm font-bold flex items-center gap-2 animate-in fade-in slide-in-from-top-1",children:[h.jsx(nn,{size:16}),"   "]})]}),h.jsxs("div",{className:"bg-white/40 dark:bg-white/5 p-4 rounded-2xl border border-white/10",children:[h.jsx("label",{className:"text-xs font-bold uppercase opacity-60 mb-2 block",children:"   "}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{value:K,onChange:J=>V(J.target.value),placeholder:"...",className:"flex-1 bg-white/50 dark:bg-black/20 border border-white/10 rounded-xl px-3 py-2 outline-none"}),h.jsx("button",{onClick:F,className:`p-3 rounded-xl text-white transition-all ${se==="success"?"bg-green-500":"bg-indigo-600"}`,children:se==="success"?h.jsx(id,{size:20}):h.jsx(ld,{size:20})})]})]}),h.jsx("div",{className:"space-y-2 pb-4",children:Q.length===0?h.jsx("p",{className:"text-center opacity-50 text-xs",children:"  "}):Ca.length===0?h.jsx("p",{className:"text-center opacity-50 text-xs",children:"  "}):Ca.map(J=>h.jsx("div",{className:"bg-white/40 dark:bg-white/5 p-3 rounded-xl border border-white/10 flex items-center justify-between gap-2",children:me===J.id?h.jsxs(h.Fragment,{children:[h.jsx("input",{value:Rt,onChange:Ye=>rt(Ye.target.value),className:"flex-1 bg-white/50 dark:bg-black/20 border border-white/10 rounded-lg px-2 py-1 outline-none text-sm",autoFocus:!0}),h.jsx("button",{onClick:()=>Ie(J.id,J.word),className:"p-2 text-green-600 hover:bg-green-100 dark:hover:bg-green-900/30 rounded-lg",children:h.jsx(pp,{size:16})}),h.jsx("button",{onClick:xe,className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:h.jsx(nn,{size:16})})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"font-bold text-gray-800 dark:text-white flex-1",children:J.word}),h.jsx("button",{onClick:()=>pe(J),className:"p-2 text-indigo-600 hover:bg-indigo-100 dark:hover:bg-indigo-900/30 rounded-lg",children:h.jsx(hp,{size:16})}),h.jsx("button",{onClick:()=>ce(J.id,J.word),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg",children:h.jsx(rd,{size:16})})]})},J.id))})]}):E==="broadcast"?h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"bg-white/40 dark:bg-white/5 p-4 rounded-2xl border border-white/10",children:[h.jsx("label",{className:"text-xs font-bold uppercase opacity-60 mb-2 block text-gray-800 dark:text-white",children:"   "}),h.jsx("textarea",{value:U,onChange:J=>P(J.target.value),className:"w-full bg-white/50 dark:bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-sm outline-none min-h-[120px] mb-4 text-gray-900 dark:text-white placeholder:text-gray-500",placeholder:"  ..."}),h.jsx("button",{onClick:$a,disabled:!U.trim(),className:`w-full py-3 rounded-xl text-white font-bold transition-all ${U.trim()?"bg-indigo-600 hover:bg-indigo-700 active:scale-95":"bg-gray-300 dark:bg-gray-700 cursor-not-allowed"}`,children:""}),h.jsx("p",{className:"text-[10px] opacity-50 mt-2 text-center text-gray-600 dark:text-gray-400",children:"    ,  ."})]})}):h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"bg-white/40 dark:bg-white/5 p-4 rounded-2xl border border-white/10",children:[h.jsx("label",{className:"text-xs font-bold uppercase opacity-60 mb-4 block text-gray-800 dark:text-white",children:"  "}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx("button",{onClick:()=>{n("click"),j("reward")},className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-xl font-bold text-sm hover:opacity-80 transition-opacity",children:" "}),h.jsx("button",{onClick:()=>{n("click"),j("rank_up")},className:"p-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-xl font-bold text-sm hover:opacity-80 transition-opacity",children:" "})]})]})})})]})})},Qp=({onClose:i,onStart:n,playSfx:l,completedLevels:r,currentScore:u=0})=>h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content max-w-sm",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Do,{size:28,className:"modal-header-icon text-amber-500",fill:"currentColor"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:" "})]}),h.jsx("button",{onClick:()=>{l("click"),i()},className:"modal-close-btn",children:h.jsx(nn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"daychallenge-bg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("div",{className:"daychallenge-callendar",children:[h.jsx(Q0,{size:14}),h.jsx("span",{children:""})]}),h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsx("span",{className:"daychallenge-points text-[10px] uppercase opacity-60",children:" "}),h.jsx("span",{className:"daychallenge-points text-xl leading-none",children:u})]})]}),h.jsx("p",{className:"daychallenge-info",children:"  ,      .        1   .   ,       !"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-center text-xs font-bold uppercase opacity-50 mb-2",children:" "}),[{lvl:10,label:"",mult:"( x 1 )",color:"daychallenge-easy-color",border:"daychallenge-easy-border",hover:"hover:bg-green-500/10"},{lvl:8,label:"",mult:"( x 1.5 )",color:"daychallenge-normal-color",border:"daychallenge-normal-border",hover:"hover:bg-blue-500/10"},{lvl:6,label:"",mult:"( x 2 )",color:"daychallenge-hard-color",border:"daychallenge-hard-border",hover:"hover:bg-red-500/10"}].map(d=>{const m=r.includes(d.lvl);return h.jsxs("button",{onClick:()=>!m&&n(d.lvl),disabled:m,className:`daychallenge-button
                    ${m?"opacity-50 cursor-not-allowed border-gray-200 text-gray-400":`${d.color} ${d.border} ${d.hover} active:scale-[0.98]`}`,children:[h.jsxs("span",{className:"uppercase",children:[d.label," ",h.jsx("span",{className:"normal-case opacity-60 ml-1",children:d.mult})]}),m&&h.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[h.jsx(X0,{size:20})," ",h.jsx("span",{className:"text-[10px]",children:""})]})]},d.lvl)})]})]})]})}),Xp={time:h.jsx(or,{size:48,className:"text-indigo-500"}),hint:h.jsx(cr,{size:48,className:"text-amber-500"}),swap:h.jsx(ur,{size:48,className:"text-pink-500"}),wildcard:h.jsx(dr,{size:48,className:"text-purple-500"})},Jp={time:"",hint:"",swap:"",wildcard:""},Zp=({onClose:i,playSfx:n,achievement:l,reward:r})=>h.jsx("div",{className:"fixed inset-0 z-[500] flex items-center justify-center dark:bg-black/80 backdrop-blur-md p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"reward-modal-content",children:[h.jsx("div",{className:"reward-gradient-bar"}),h.jsx(Zv,{size:64,className:"reward-icon"}),h.jsx("h2",{className:"reward-title",children:"!"}),h.jsx("p",{className:"reward-subtitle",children:l}),h.jsxs("div",{className:"reward-box",children:[h.jsx("p",{className:"reward-box-label",children:" :"}),Xp[r.type],h.jsxs("p",{className:"reward-box-value",children:[Jp[r.type]," +",r.amount]})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"reward-button",children:""})]})}),Wp=()=>{const[i,n]=$.useState(()=>localStorage.getItem("slovodel_theme")||"light");return $.useEffect(()=>{i==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.style.colorScheme="dark"):(document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light"),localStorage.setItem("slovodel_theme",i)},[i]),{theme:i,setTheme:n}};function Pp({saveUserData:i,saveDailyScore:n,getUserData:l,getActiveChallenge:r,getLeaderboard:u,getDailyLeaderboard:d,fetchPreviousDailyLeaderboard:m,getUserDailyScore:y,fetchUserRank:g,saveFeedback:p,fetchFeedbacks:_,addCustomWord:j,fetchCustomWords:E,fetchAdminCustomWords:C,deleteCustomWord:z,updateCustomWord:B,sendFeedbackReply:Q,archiveFeedback:q,deleteFeedback:K,sendBroadcast:V,tg:Y}){var Sr,xr,Er;const G=(Er=(xr=(Sr=window.Telegram)==null?void 0:Sr.WebApp)==null?void 0:xr.initDataUnsafe)==null?void 0:Er.user,se=G?G.first_name+(G.last_name?" "+G.last_name:""):" ",X="818790686, 6162543835".split(",").map(T=>Number(T.trim())).filter(T=>!isNaN(T)),[me,ge]=$.useState("menu"),[Rt,rt]=$.useState(!0),[Le,Ht]=$.useState(60),[gt,ot]=$.useState(0),[D,W]=$.useState(1),[ae,we]=$.useState(!1),[te,S]=$.useState(!1),[U,P]=$.useState(!1),[F,ce]=$.useState(!1),[pe,xe]=$.useState(!1),[Ie,De]=$.useState(!1),[Ca,Ra]=$.useState(null),[vs,zn]=$.useState("bonuses"),[ia,$a]=$.useState(!1),[J,Ye]=$.useState(()=>{const T=localStorage.getItem("slovodel_daily_play_v2");if(T)try{const I=JSON.parse(T);if(I.challengeId)return I.challengeId}catch(I){}return"1"}),[nt,Ga]=$.useState(null),[Qt,sn]=$.useState(null),[ln,fr]=$.useState(!1),[$t,Va]=$.useState([]),[mr,ai]=$.useState(null),[ps,gr]=$.useState("all"),[yr,Ya]=$.useState(0),[Go,Ka]=$.useState(!1),{theme:wt,setTheme:Ia}=Wp(),[ct,Vo]=$.useState(()=>{var T;return Number((T=localStorage.getItem("slovodel_music_vol"))!=null?T:.3)}),[bs,Yo]=$.useState(()=>{var T;return Number((T=localStorage.getItem("slovodel_sfx_vol"))!=null?T:.5)}),Gt=$.useRef(null),[zt,Un]=$.useState(()=>{const T=localStorage.getItem("slovodel_total_score");return T?parseInt(T,10):0}),[St,_s]=$.useState(()=>{const T=localStorage.getItem("slovodel_high_score");return T?parseInt(T,10):0}),[wa,Pi]=$.useState(()=>{const T=localStorage.getItem("slovodel_total_words");return T?parseInt(T,10):0}),[Qa,Dn]=$.useState(()=>{const T=localStorage.getItem("slovodel_coins");return T?parseInt(T,10):0}),[Xt,Fi]=$.useState(()=>v0().count),[ws,vr]=$.useState(()=>localStorage.getItem("slovodel_streak_date")===Uo()),[ni,si]=$.useState(null),[Ut,Ss]=$.useState(()=>{const T=localStorage.getItem("slovodel_rare_words");if(T)try{return JSON.parse(T)}catch(I){console.error("   :",I)}return[]}),[Mn,Sa]=$.useState(0),[yt,xt]=$.useState({first:0,second:0,third:0}),[Bn,el]=$.useState(0);$.useEffect(()=>{localStorage.setItem("slovodel_rare_words",JSON.stringify(Ut))},[Ut]);const[Jt,tl]=$.useState(()=>{const T=localStorage.getItem("slovodel_daily_play_v2");if(T)try{const I=JSON.parse(T);if(I.userId===(G==null?void 0:G.id)&&I.challengeId&&I.scores)return I}catch(I){console.error("  :",I)}return{challengeId:"1",scores:{},userId:G==null?void 0:G.id}}),[pr,Ln]=$.useState(null),[xs,Xa]=$.useState(null),[Zt,rn]=$.useState(null),[Ja,We]=$.useState([]),[Et,al]=$.useState(null),on=T=>{ge("menu"),setTimeout(()=>{switch(T){case"reward":rn({achievement:" ",reward:{type:"hint",amount:5}}),fe("reward_fanfare");break;case"rank_up":Xa(" "),ge("results");break}},100)},Ge=$.useCallback((T,I)=>{Vt({text:T,type:I}),setTimeout(()=>Vt(null),3500)},[]);$.useEffect(()=>{if(Y){Y.ready(),Y.expand();const T=wt==="light"?"#c7d2fe":"#0f172a";Y.setHeaderColor(T),Y.setBackgroundColor&&Y.setBackgroundColor(T)}},[wt,Y]),$.useEffect(()=>{v0().status==="reset"&&Xt>0&&(Ge("  ...  ,       !   !","bad"),Fi(0),localStorage.setItem("slovodel_streak_count","0"))},[]);const[cn,ii]=$.useState([]),[li,un]=$.useState([]),[dn,Es]=$.useState([]),[jt,Vt]=$.useState(null),[br,nl]=$.useState(!1),[Yt,Za]=$.useState(()=>{var T;return Number((T=localStorage.getItem("slovodel_bonus_time"))!=null?T:2)}),[Dt,hn]=$.useState(()=>{var T;return Number((T=localStorage.getItem("slovodel_bonus_swap"))!=null?T:2)}),[Je,za]=$.useState(()=>{var T;return Number((T=localStorage.getItem("slovodel_bonus_hint"))!=null?T:2)}),[Wt,Ua]=$.useState(()=>{var T;return Number((T=localStorage.getItem("slovodel_bonus_wildcard"))!=null?T:2)}),la=$.useRef({time:0,hint:0,swap:0,wildcard:0}),[sl,js]=$.useState(0),[ra,Ts]=$.useState(0),[Ns,qn]=$.useState(0),[fn,ri]=$.useState(null),[il,Hn]=$.useState(!1),[st,$n]=$.useState(null),[ll,Mt]=$.useState(null),[Gn,rl]=$.useState(!1),[ol,cl]=$.useState(new Set);$.useEffect(()=>{st&&ra===0&&Ns===0&&($n(null),Mt(null))},[ra,Ns,st]);const fe=$.useCallback(T=>{var Z,re,ye;if(T==="bg")return;const I=new Audio(y0[T]);I.volume=bs,I.play().catch(()=>{}),(T==="success"||T==="rare_success")&&((Z=Y==null?void 0:Y.HapticFeedback)==null||Z.notificationOccurred("success")),T==="error"&&((re=Y==null?void 0:Y.HapticFeedback)==null||re.notificationOccurred("error")),T==="bonus"&&((ye=Y==null?void 0:Y.HapticFeedback)==null||ye.impactOccurred("medium"))},[bs,Y]);$.useEffect(()=>{Gt.current||(Gt.current=new Audio(y0.bg),Gt.current.loop=!0,Gt.current.volume=ct)},[ct]),$.useEffect(()=>{Gt.current&&(me==="playing"&&!ae&&!te&&!Ie?Gt.current.play().catch(T=>console.log("Audio play failed",T)):(Gt.current.pause(),me!=="playing"&&(Gt.current.currentTime=0)))},[me,ae,te,Ie]),$.useEffect(()=>{Gt.current&&(Gt.current.volume=ct),localStorage.setItem("slovodel_music_vol",ct.toString())},[ct]),$.useEffect(()=>{localStorage.setItem("slovodel_sfx_vol",bs.toString())},[bs]),$.useEffect(()=>{bv().then(()=>b(null,null,function*(){if(rt(!1),E){const Z=yield E(),re=ys();re&&Z.length>0&&(Z.forEach(ye=>re.add(ye)),console.log(`[]  ${Z.length}    `))}}));const T=()=>{r&&r().then(Z=>{Z&&(Ye(re=>re!==Z.id?Z.id:re),Ga(re=>JSON.stringify(re)!==JSON.stringify(Z.letters)?Z.letters:re),sn(re=>re!==Z.endTime?Z.endTime:re))})};T();const I=setInterval(T,3e4);return()=>clearInterval(I)},[E,r]),$.useEffect(()=>{localStorage.setItem("slovodel_total_score",zt.toString()),localStorage.setItem("slovodel_high_score",St.toString()),localStorage.setItem("slovodel_rare_words",JSON.stringify(Ut)),localStorage.setItem("slovodel_total_words",wa.toString()),localStorage.setItem("slovodel_coins",Qa.toString())},[zt,St,Ut,wa]),$.useEffect(()=>{localStorage.setItem("slovodel_bonus_time",Yt.toString())},[Yt]),$.useEffect(()=>{localStorage.setItem("slovodel_bonus_swap",Dt.toString())},[Dt]),$.useEffect(()=>{localStorage.setItem("slovodel_bonus_hint",Je.toString())},[Je]),$.useEffect(()=>{localStorage.setItem("slovodel_bonus_wildcard",Wt.toString())},[Wt]),$.useEffect(()=>{G!=null&&G.id&&l&&(l(G.id).then(T=>{var I,Z,re,ye,ue,ze,Ee,bt,Pt,Rs,Kt,ca;if(T){if(Un((I=T.score)!=null?I:0),Dn((Z=T.coins)!=null?Z:0),Za((re=T.bonus_time)!=null?re:2),za((ye=T.bonus_hint)!=null?ye:2),hn((ue=T.bonus_swap)!=null?ue:2),Ua((ze=T.bonus_wildcard)!=null?ze:2),Ss(Array.isArray(T.rare_words)?T.rare_words:[]),Pi((Ee=T.total_words)!=null?Ee:0),((bt=T.streak)!=null?bt:0)>Xt){const ua=T.updated_at?new Date(T.updated_at):new Date(0),gn=new Date,zs=new Date(gn);zs.setDate(gn.getDate()-1);const fl=ua.toDateString()===gn.toDateString(),Io=ua.toDateString()===zs.toDateString();(fl||Io)&&(Fi(T.streak),localStorage.setItem("slovodel_streak_count",T.streak.toString()))}Sa((Pt=T.days_played)!=null?Pt:0),xt({first:(Rs=T.daily_1_place)!=null?Rs:0,second:(Kt=T.daily_2_place)!=null?Kt:0,third:(ca=T.daily_3_place)!=null?ca:0}),g&&g(G.id).then(ua=>{ua&&typeof ua.rank=="number"&&el(ua.rank)})}else Un(0),_s(0),Ss([]),Dn(0),Za(2),za(2),hn(2),Ua(2),Pi(0),Sa(0),xt({first:0,second:0,third:0})}).catch(T=>{console.warn("    (,  ).   .",T)}),y&&y(G.id,J).then(T=>{tl(T?I=>{var Z,re,ye,ue;return an(Lt({},I),{challengeId:J,scores:T.level_scores||I.scores,bonuses:{time:(Z=T.bonus_time)!=null?Z:2,hint:(re=T.bonus_hint)!=null?re:2,swap:(ye=T.bonus_swap)!=null?ye:2,wildcard:(ue=T.bonus_wildcard)!=null?ue:2}})}:I=>I.challengeId!==J?{challengeId:J,scores:{},userId:G.id,bonuses:{time:1,hint:1,swap:1,wildcard:1}}:I)}))},[G,l,y,J,g]);const oa=$.useCallback(()=>{const T=gt,I=St,Z=zt+T,re=Ps(zt),ye=Ps(Z);Xa(re!==ye?ye:null);let ue=Xt,ze=Mn;const Ee=Uo();ws||(ue=Xt+1,ze=Mn+1);const bt=T>St?T:St;Un(Z);const Pt=U?la.current:{time:Yt,hint:Je,swap:Dt,wildcard:Wt},Rs={time:Yt,hint:Je,swap:Dt,wildcard:Wt};if(Promise.resolve(i({telegramId:G==null?void 0:G.id,username:se,score:Z,bonuses:Pt,avatarUrl:G==null?void 0:G.photo_url,rareWords:Ut,totalWords:wa,highScore:bt,daysPlayed:ze,streak:ue,coins:Qa})).catch(Kt=>{console.error("  :",Kt)}),T>I?(_s(T),Ln(T-I)):Ln(null),!ws){Fi(ue),Sa(ze),vr(!0),localStorage.setItem("slovodel_streak_count",ue.toString()),localStorage.setItem("slovodel_streak_date",Ee);const Kt=wv(ue);if([3,7,14,30].includes(ue)){si(Kt);let ca=1;ue>=30?ca=5:ue>=14?ca=3:ue>=7&&(ca=2);const ua=Xu(ca);We(gn=>[...gn,{achievement:`: ${ue} !`,reward:ua}])}else Ge("    !      !","good")}if(U){const Kt=cn.length,ca=an(Lt({},Jt.scores),{[Kt]:T}),ua={challengeId:J,scores:ca,bonuses:Rs,userId:G==null?void 0:G.id};tl(ua),localStorage.setItem("slovodel_daily_play_v2",JSON.stringify(ua));const gn=Object.values(ca).reduce((zs,fl)=>zs+fl,0);n&&(G!=null&&G.id)&&n({telegramId:G.id,username:se,avatarUrl:G.photo_url,score:gn,challengeId:J,bonuses:Rs,levelScores:ca})}if(nl(!1),we(!1),U&&(Za(la.current.time),za(la.current.hint),hn(la.current.swap),Ua(la.current.wildcard)),js(0),Ts(0),qn(0),fe("bonus"),Y){Y.MainButton.setText("  "),Y.MainButton.show();const Kt=()=>{ge("menu"),Y.MainButton.hide(),Y.MainButton.offClick(Kt)};Y.MainButton.onClick(Kt),Y.disableClosingConfirmation()}ge("results")},[gt,se,i,n,St,zt,Yt,Je,Dt,Wt,G,Ut,Xt,ws,U,fe,Ge,Y,wa,J,Mn,Jt.scores]),ul=()=>{if(!Zt)return;const{type:T,amount:I}=Zt.reward;switch(T){case"time":Za(Z=>Z+I);break;case"hint":za(Z=>Z+I);break;case"swap":hn(Z=>Z+I);break;case"wildcard":Ua(Z=>Z+I);break;case"coins":Dn(Z=>Z+I);break}fe("bonus"),rn(null)};$.useEffect(()=>{if(me==="menu"&&Ja.length>0&&!Zt&&!ni&&!ae&&!te&&!F&&!pe&&!Ie&&!ia&&!ln){const T=Ja[0];rn(T),We(I=>I.slice(1)),fe("reward_fanfare")}},[me,Ja,Zt,ni,ae,te,F,pe,Ie,ia,ln,fe]),$.useEffect(()=>{let T;return me==="playing"&&Le>0&&!ae&&!te&&!Ie&&fn===null?T=window.setInterval(()=>{Ht(I=>I-1),js(I=>Math.max(0,I-1)),ra>0?Ts(I=>I-1):Ns>0&&qn(I=>I-1)},1e3):Le===0&&me==="playing"&&oa(),()=>clearInterval(T)},[me,Le,ae,te,Ie,oa,fn,ra,Ns]);const Vn=(T,I=!1)=>{if(Rt)return;if(fe("click"),W(T===10?1:T===8?1.5:2),P(I),$a(!1),I){la.current={time:Yt,hint:Je,swap:Dt,wildcard:Wt};const re=Jt.challengeId===J&&Jt.bonuses?Jt.bonuses:{time:1,hint:1,swap:1,wildcard:1};Za(re.time),za(re.hint),hn(re.swap),Ua(re.wildcard)}const Z=I&&nt?nt[T]:jv(T);ii(Z),Es([]),un([]),ot(0),Ht(60),js(0),Ts(0),qn(0),ri(null),Hn(!1),$n(null),Mt(null),cl(new Set),ge("playing"),Y==null||Y.enableClosingConfirmation(),Y==null||Y.MainButton.hide()},Wa=$.useMemo(()=>{if(!st)return new Set;const T=new Set,I=[...cn];for(const Z of st.toLowerCase()){const re=I.findIndex(ye=>ye.toLowerCase()===Z);re!==-1&&(T.add(re),I[re]="USED")}return T},[st,cn]),dl=()=>{const T=li.join("").toLowerCase(),I=ys();if(T.length<2)return fe("error"),Ge("!","bad");let Z=T,re=!1;if(T.includes("*")){const ye="^"+T.replace(/\*/g,".")+"$",ue=new RegExp(ye);if(I){const ze=new Set(dn.map(Ee=>Ee.text.toLowerCase()));for(const Ee of I)if(ue.test(Ee)&&!ze.has(Ee)){Z=Ee,re=!0;break}}}else{const ye=T.replace(//g,"");I&&I.has(ye)&&(re=!0)}if(!T.includes("*")&&dn.some(ye=>ye.text===Z)){fe("error"),Ge(" !","bad"),un([]);return}if(re){const ye=Math.round(Z.length*10*D);if(Z.length>=7){fe("rare_success");const ue=Z.toLowerCase(),ze=Ut.findIndex(Ee=>Ee.text===ue);if(ze===-1){Ge(`  : ${Z.toUpperCase()}!`,"good");const Ee=[...Ut,{text:ue,length:Z.length,score:ye}];if(Ss(Ee),Ee.length%5===0){const bt=Xu();We(Pt=>[...Pt,{achievement:`: ${Ee.length} !`,reward:bt}]),fe("reward_fanfare")}}else ye>Ut[ze].score?(Ge(`  : ${Z.toUpperCase()}!`,"good"),Ss(Ee=>Ee.map((bt,Pt)=>Pt===ze?an(Lt({},bt),{score:ye}):bt))):Ge(`  : ${Z.toUpperCase()}!`,"good")}else fe("success"),Ge(`+${ye}`,"good");Es(ue=>[{text:Z,score:ye},...ue]),ot(ue=>ue+ye),Pi(ue=>ue+1),st&&Z===st.toLowerCase()&&($n(null),Mt(null),Ts(0),qn(0)),un([])}else fe("error"),Ge("  ","bad"),un([])},As=(T="all")=>b(null,null,function*(){fe("click"),fr(!0),gr(T),Va([]),ai(null),Ya(0),Ka(!0);try{if(T==="all"){const{players:I,count:Z}=yield u();if(Va(I),Ya(Z),G!=null&&G.id&&g&&!I.some(ye=>ye.telegram_id===G.id)){const ye=yield g(G.id);ye&&ai(ye)}}else if(T==="daily"){const{players:I,count:Z}=yield d(J);Va(I),Ya(Z)}else{const{players:I,count:Z}=yield m(J);Va(I),Ya(Z)}}finally{Ka(!1)}}),_r=T=>b(null,null,function*(){fe("click"),gr(T),Va([]),ai(null),Ya(0),Ka(!0);try{if(T==="all"){const{players:I,count:Z}=yield u();Va(I),Ya(Z)}else if(T==="daily"){const{players:I,count:Z}=yield d(J);Va(I),Ya(Z)}else{const{players:I,count:Z}=yield m(J);Va(I),Ya(Z)}}finally{Ka(!1)}}),oi=T=>b(null,null,function*(){if(fe("click"),T.telegram_id===(G==null?void 0:G.id)){ce(!0);return}if(l)try{const I=yield l(T.telegram_id);let Z=0;if(g){const re=yield g(T.telegram_id);re&&typeof re.rank=="number"&&(Z=re.rank)}I&&al(an(Lt({},I),{rank:Z}))}catch(I){console.error("    ",I)}}),ci=()=>{Yt<=0||(fe("bonus"),Za(T=>T-1),Ht(T=>T+15),Ge("+15 !","good"))},wr=()=>{if(sl>0){if(li.includes("*")){fe("error");return}fe("click"),un(T=>[...T,"*"]);return}Wt<=0||(fe("bonus"),Ua(T=>T-1),js(15),un(T=>[...T,"*"]),Ge(" !","good"))},Bt=T=>b(null,null,function*(){rl(!0);try{const I=`https://ru.wiktionary.org/w/api.php?action=query&prop=revisions&rvprop=content&rvslots=main&titles=${encodeURIComponent(T.toLowerCase())}&redirects=1&format=json&origin=*`,ye=(yield(yield fetch(I)).json()).query.pages,ue=Object.keys(ye)[0];if(ue==="-1"){Mt("    .");return}const Ee=ye[ue].revisions[0].slots.main["*"].match(/#\s*([^{#\n][^#\n]+)/);if(Ee&&Ee[1]){let bt=Ee[1].replace(/\[\[|\]\]/g,"").replace(/\{\{[^}]+\}\}/g,"").replace(/''+/g,"").trim();Mt(bt?bt.split(".")[0]+".":" ,     .")}else Mt("    .")}catch(I){console.error(" :",I),Mt("   .")}finally{rl(!1)}}),mn=()=>b(null,null,function*(){if(Je<=0)return;const T=ys();if(!T)return;const I=cn.join("").toLowerCase(),Z=[],re=new Set(dn.map(ue=>ue.text.toLowerCase())),ye=st==null?void 0:st.toLowerCase();for(const ue of T){if(ue.length<3||ue.length>5||re.has(ue)||ue===ye||ol.has(ue))continue;let ze=I,Ee=!0;for(const bt of ue){const Pt=ze.indexOf(bt);if(Pt===-1){Ee=!1;break}ze=ze.substring(0,Pt)+ze.substring(Pt+1)}Ee&&Z.push(ue)}if(Z.length>0){fe("bonus"),Z.sort((ze,Ee)=>Ee.length-ze.length);let ue=Z[0];cl(ze=>new Set(ze).add(ue)),$n(ue.toUpperCase()),Mt(null),za(ze=>ze-1),Ts(20),qn(5),Ge(" !","good"),Bt(ue)}else fe("error"),Ge("  ","bad")}),ui=()=>{if(!(Dt<=0)){if(ra>0){fe("error"),Ge("     !","bad");return}fe("click"),il||Ge(" ,  ","good"),Hn(!il)}},ks=T=>{fe("click"),ri(T),Hn(!1)},Ko=T=>{if(fn===null)return;const I=T.toUpperCase();if(!/[-]/.test(I)){I.length>0&&(fe("error"),Ge(" !","bad"));return}if(cn.includes(I)){fe("error"),Ge("   !","bad");return}fe("bonus");const Z=[...cn];Z[fn]=I,ii(Z),hn(re=>re-1),ri(null)},hl=T=>{const I=T.reduce((Z,re)=>Z+re.cost,0);if(Qa>=I){const Z=Qa-I;Dn(Z);let re=Yt,ye=Je,ue=Dt,ze=Wt;return T.forEach(Ee=>{switch(Ee.type){case"time":re+=Ee.amount;break;case"hint":ye+=Ee.amount;break;case"swap":ue+=Ee.amount;break;case"wildcard":ze+=Ee.amount;break}}),Za(re),za(ye),hn(ue),Ua(ze),fe("bonus"),Ge(` : ${T.reduce((Ee,bt)=>Ee+bt.amount,0)}`,"good"),i({telegramId:G==null?void 0:G.id,username:se,score:zt,bonuses:{time:re,hint:ye,swap:ue,wildcard:ze},rareWords:Ut,totalWords:wa,highScore:St,daysPlayed:Mn,streak:Xt,coins:Z}),!0}else return fe("error"),Ge(" !","bad"),!1},Os=Jt.challengeId===J,Cs=Os&&Jt.scores?Object.keys(Jt.scores).map(Number):[],Yn=Os&&[10,8,6].every(T=>Jt.scores&&Object.prototype.hasOwnProperty.call(Jt.scores,T)),di=Os&&Jt.scores?Object.values(Jt.scores).reduce((T,I)=>T+I,0):0;return Rt?h.jsxs("div",{className:"app-wrapper items-center justify-center p-6",children:[h.jsx("div",{className:"logo-loading text-gradient-custom drop-shadow-lg mb-8 animate-pulse"}),h.jsx("div",{className:"spinner w-8 h-8 text-indigo-600 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"}),h.jsx("p",{className:"text-sm opacity-50 mt-4 text-gray-900 dark:text-white font-bold uppercase tracking-widest",children:"..."})]}):h.jsxs("div",{className:"app-wrapper",children:[ae&&h.jsx(Hp,{musicVolume:ct,setMusicVolume:Vo,sfxVolume:bs,setSfxVolume:Yo,theme:wt,setTheme:Ia,onClose:()=>we(!1),onExit:()=>nl(!0),playSfx:fe,showExitButton:me==="playing",isAdmin:G!=null&&G.id?X.includes(G.id):!1,onOpenAdmin:()=>{we(!1),ge("admin")}}),te&&h.jsx($p,{onClose:()=>S(!1),playSfx:fe,bonuses:{time:Yt,hint:Je,swap:Dt,wildcard:Wt},onOpenShop:()=>{S(!1),Ra("about"),De(!0)},showRanks:me!=="playing",onSubmitFeedback:T=>p&&p({telegramId:G==null?void 0:G.id,username:se,message:T}),isDailyMode:U}),Zt&&h.jsx(Zp,{achievement:Zt.achievement,reward:Zt.reward,onClose:ul,playSfx:fe}),pe&&h.jsx(Lp,{words:Ut,onClose:()=>xe(!1),playSfx:fe}),Ie&&h.jsx(Kp,{coins:Qa,onBuyBonuses:hl,initialTab:vs,onClose:()=>{De(!1),zn("bonuses"),Ca==="about"?S(!0):Ca==="achievements"&&ce(!0)},playSfx:fe}),me==="admin"&&h.jsx(Ip,{onClose:()=>ge("menu"),playSfx:fe,fetchFeedbacks:_,addCustomWord:T=>j(T,G==null?void 0:G.id),fetchAdminCustomWords:C,deleteCustomWord:z,updateCustomWord:B,onReply:Q,onArchive:q,onDelete:K,onBroadcast:V,onTestModal:on}),ia&&h.jsx(Qp,{onClose:()=>$a(!1),onStart:T=>Vn(T,!0),playSfx:fe,completedLevels:Cs,currentScore:di}),ln&&h.jsx(qp,{data:$t,onClose:()=>fr(!1),playSfx:fe,currentUserId:G==null?void 0:G.id,currentUserRankData:mr,userScore:ps==="all"?zt:di,totalPlayers:yr,getUserRank:Ps,activeTab:ps,onTabChange:_r,isLoading:Go,onPlayerClick:oi}),F&&h.jsx(b0,{onClose:()=>ce(!1),playSfx:fe,username:se,avatarUrl:G==null?void 0:G.photo_url,rank:Ps(zt),totalScore:zt,highScore:St,streak:Xt,totalWords:wa,rareWords:Ut,bonuses:{time:Yt,hint:Je,swap:Dt,wildcard:Wt},onOpenShop:T=>{ce(!1),Ra("achievements"),T&&zn(T),De(!0)},place:Bn,daysPlayed:Mn,dailyPlaces:yt,coins:Qa}),Et&&h.jsx(b0,{onClose:()=>al(null),playSfx:fe,username:Et.username||"",avatarUrl:Et.avatar_url,rank:Ps(Number(Et.score)||0),totalScore:Number(Et.score)||0,highScore:Et.high_score||0,streak:Et.streak||0,totalWords:Et.total_words||0,rareWords:Et.rare_words||[],bonuses:{time:0,hint:0,swap:0,wildcard:0},onOpenShop:()=>{},place:Et.rank||0,daysPlayed:Et.days_played||0,dailyPlaces:{first:Et.daily_1_place||0,second:Et.daily_2_place||0,third:Et.daily_3_place||0},coins:0,isPublicView:!0}),me==="menu"&&h.jsx(Gp,{streak:Xt,streakMilestone:ni,setStreakMilestone:si,hasPlayedToday:ws,openGlobalRanking:()=>As("all"),openAchievements:()=>ce(!0),playSfx:fe,setShowCollection:xe,onOpenAbout:()=>S(!0),setIsMenuOpen:we,userName:se,totalScore:zt,highScore:St,isDailyPlayedToday:Yn,startGame:Vn,openDailyChallenge:()=>Yn?As("daily"):$a(!0),dailyScore:di,challengeId:J,challengeEndTime:Qt,coins:Qa,onOpenShop:T=>{T&&zn(T),De(!0)}}),me==="results"&&h.jsx(Yp,{score:gt,lastRoundRecordBeaten:pr,totalScore:zt,userName:se,onMenu:()=>{ge("menu"),Y==null||Y.MainButton.hide(),U&&(Yn||$a(!0),P(!1))},newRankReached:xs,onRankModalClose:()=>{if(xs){const T=Tv(xs),I=Xu(T);We(Z=>[...Z,{achievement:"  !",reward:I}])}}}),me==="playing"&&h.jsx(Vp,{score:gt,isDailyMode:U,timeLeft:Le,onOpenAbout:()=>S(!0),onOpenMenu:()=>we(!0),hintWord:st,isDefinitionLoading:Gn,hintDefinition:ll,foundWords:dn,currentInput:li,setCurrentInput:un,playSfx:fe,handleAddTime:ci,bonusTimeLeft:Yt,handleHint:mn,bonusHintLeft:Je,handleWildcard:wr,bonusWildcardLeft:Wt,wildcardActiveSeconds:sl,hintActiveSeconds:ra,toggleSwapMode:ui,bonusSwapLeft:Dt,isSwapActive:il,grid:cn,hintIndices:Wa,startSwap:ks,checkWord:dl,performSwap:Ko,swapTargetIdx:fn,setSwapTargetIdx:ri,showConfirm:br,setShowConfirm:nl,finishGame:oa,setGrid:ii,onOpenShop:()=>{Ra(null),De(!0)}}),jt&&h.jsx("div",{className:`fixed top-24 left-1/2 -translate-x-1/2 px-6 py-3 rounded-2xl font-bold text-white shadow-2xl z-[1000] animate-bounce text-center backdrop-blur-md border border-white/20 ${(jt==null?void 0:jt.type)==="good"?"bg-indigo-600/90":"bg-red-500/90"}`,children:jt==null?void 0:jt.text})]})}function qo(i,n){var l={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(l[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(i);u<r.length;u++)n.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(i,r[u])&&(l[r[u]]=i[r[u]]);return l}function Fp(i,n,l,r){function u(d){return d instanceof l?d:new l(function(m){m(d)})}return new(l||(l=Promise))(function(d,m){function y(_){try{p(r.next(_))}catch(j){m(j)}}function g(_){try{p(r.throw(_))}catch(j){m(j)}}function p(_){_.done?d(_.value):u(_.value).then(y,g)}p((r=r.apply(i,n||[])).next())})}const eb=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class Ed extends Error{constructor(n,l="FunctionsError",r){super(n),this.name=l,this.context=r}}class tb extends Ed{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class _0 extends Ed{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class w0 extends Ed{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var od;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(od||(od={}));class ab{constructor(n,{headers:l={},customFetch:r,region:u=od.Any}={}){this.url=n,this.headers=l,this.region=u,this.fetch=eb(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Fp(this,arguments,void 0,function*(l,r={}){var u;let d,m;try{const{headers:y,method:g,body:p,signal:_,timeout:j}=r;let E={},{region:C}=r;C||(C=this.region);const z=new URL(`${this.url}/${l}`);C&&C!=="any"&&(E["x-region"]=C,z.searchParams.set("forceFunctionRegion",C));let B;p&&(y&&!Object.prototype.hasOwnProperty.call(y,"Content-Type")||!y)?typeof Blob!="undefined"&&p instanceof Blob||p instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",B=p):typeof p=="string"?(E["Content-Type"]="text/plain",B=p):typeof FormData!="undefined"&&p instanceof FormData?B=p:(E["Content-Type"]="application/json",B=JSON.stringify(p)):B=p;let Q=_;j&&(m=new AbortController,d=setTimeout(()=>m.abort(),j),_?(Q=m.signal,_.addEventListener("abort",()=>m.abort())):Q=m.signal);const q=yield this.fetch(z.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),y),body:B,signal:Q}).catch(G=>{throw new tb(G)}),K=q.headers.get("x-relay-error");if(K&&K==="true")throw new _0(q);if(!q.ok)throw new w0(q);let V=((u=q.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),Y;return V==="application/json"?Y=yield q.json():V==="application/octet-stream"||V==="application/pdf"?Y=yield q.blob():V==="text/event-stream"?Y=q:V==="multipart/form-data"?Y=yield q.formData():Y=yield q.text(),{data:Y,error:null,response:q}}catch(y){return{data:null,error:y,response:y instanceof w0||y instanceof _0?y.context:void 0}}finally{d&&clearTimeout(d)}})}}var nb=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},sb=class{constructor(i){var n,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let u=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(d=>b(this,null,function*(){let m=null,y=null,g=null,p=d.status,_=d.statusText;if(d.ok){var j,E;if(l.method!=="HEAD"){var C;const q=yield d.text();q===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((C=l.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?y=q:y=JSON.parse(q))}const B=(j=l.headers.get("Prefer"))===null||j===void 0?void 0:j.match(/count=(exact|planned|estimated)/),Q=(E=d.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");B&&Q&&Q.length>1&&(g=parseInt(Q[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,p=406,_="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{var z;const B=yield d.text();try{m=JSON.parse(B),Array.isArray(m)&&d.status===404&&(y=[],m=null,p=200,_="OK")}catch(Q){d.status===404&&B===""?(p=204,_="No Content"):m={message:B}}if(m&&l.isMaybeSingle&&(!(m==null||(z=m.details)===null||z===void 0)&&z.includes("0 rows"))&&(m=null,p=200,_="OK"),m&&l.shouldThrowOnError)throw new nb(m)}return{error:m,data:y,count:g,status:p,statusText:_}}));return this.shouldThrowOnError||(u=u.catch(d=>{var m;let y="";const g=d==null?void 0:d.cause;if(g){var p,_,j,E;const z=(p=g==null?void 0:g.message)!==null&&p!==void 0?p:"",B=(_=g==null?void 0:g.code)!==null&&_!==void 0?_:"";y=`${(j=d==null?void 0:d.name)!==null&&j!==void 0?j:"FetchError"}: ${d==null?void 0:d.message}`,y+=`

Caused by: ${(E=g==null?void 0:g.name)!==null&&E!==void 0?E:"Error"}: ${z}`,B&&(y+=` (${B})`),g!=null&&g.stack&&(y+=`
${g.stack}`)}else{var C;y=(C=d==null?void 0:d.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(m=d==null?void 0:d.name)!==null&&m!==void 0?m:"FetchError"}: ${d==null?void 0:d.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,n)}returns(){return this}overrideTypes(){return this}},ib=class extends sb{select(i){let n=!1;const l=(i!=null?i:"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:l,foreignTable:r,referencedTable:u=r}={}){const d=u?`${u}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${i}.${n?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:l=n}={}){const r=typeof l=="undefined"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,n,{foreignTable:l,referencedTable:r=l}={}){const u=typeof r=="undefined"?"offset":`${r}.offset`,d=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:l=!1,buffers:r=!1,wal:u=!1,format:d="text"}={}){var m;const y=[i?"analyze":null,n?"verbose":null,l?"settings":null,r?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${y};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const S0=new RegExp("[,()]");var Qi=class extends ib{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&S0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}notIn(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&S0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`not.in.(${l})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:l,type:r}={}){let u="";r==="plain"?u="pl":r==="phrase"?u="ph":r==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${n}`),this}match(i){return Object.entries(i).forEach(([n,l])=>{this.url.searchParams.append(n,`eq.${l}`)}),this}not(i,n,l){return this.url.searchParams.append(i,`not.${n}.${l}`),this}or(i,{foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,n,l){return this.url.searchParams.append(i,`${n}.${l}`),this}},lb=class{constructor(i,{headers:n={},schema:l,fetch:r}){this.url=i,this.headers=new Headers(n),this.schema=l,this.fetch=r}select(i,n){const{head:l=!1,count:r}=n!=null?n:{},u=l?"HEAD":"GET";let d=!1;const m=(i!=null?i:"*").split("").map(y=>/\s/.test(y)&&!d?"":(y==='"'&&(d=!d),y)).join("");return this.url.searchParams.set("select",m),r&&this.headers.append("Prefer",`count=${r}`),new Qi({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:l=!0}={}){var r;const u="POST";if(n&&this.headers.append("Prefer",`count=${n}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(d.length>0){const m=[...new Set(d)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new Qi({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:l=!1,count:r,defaultToNull:u=!0}={}){var d;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),r&&this.headers.append("Prefer",`count=${r}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(y.length>0){const g=[...new Set(y)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new Qi({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:n}={}){var l;const r="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Qi({method:r,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var n;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new Qi({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},rb=class F0{constructor(n,{headers:l={},schema:r,fetch:u}={}){this.url=n,this.headers=new Headers(l),this.schemaName=r,this.fetch=u}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new lb(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new F0(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,l={},{head:r=!1,get:u=!1,count:d}={}){var m;let y;const g=new URL(`${this.url}/rpc/${n}`);let p;r||u?(y=r?"HEAD":"GET",Object.entries(l).filter(([j,E])=>E!==void 0).map(([j,E])=>[j,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([j,E])=>{g.searchParams.append(j,E)})):(y="POST",p=l);const _=new Headers(this.headers);return d&&_.set("Prefer",`count=${d}`),new Qi({method:y,url:g,headers:_,schema:this.schemaName,body:p,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};class ob{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket!="undefined")return{type:"native",constructor:WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocket!="undefined")return{type:"native",constructor:globalThis.WebSocket};if(typeof global!="undefined"&&typeof global.WebSocket!="undefined")return{type:"native",constructor:global.WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocketPair!="undefined"&&typeof globalThis.WebSocket=="undefined")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis!="undefined"&&globalThis.EdgeRuntime||typeof navigator!="undefined"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process!="undefined"){const l=process.versions;if(l&&l.node){const r=l.node,u=parseInt(r.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket!="undefined"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const r=this.getWebSocketConstructor();return new r(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch(n){return!1}}}const cb="2.89.0",ub=`realtime-js/${cb}`,eg="1.0.0",db="2.0.0",x0=eg,cd=1e4,hb=1e3,fb=100;var ms;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(ms||(ms={}));var pt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(pt||(pt={}));var Ha;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Ha||(Ha={}));var ud;(function(i){i.websocket="websocket"})(ud||(ud={}));var Fs;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Fs||(Fs={}));class mb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n!=null?n:[]}encode(n,l){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var l;return this._isArrayBuffer((l=n.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var l,r;const u=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var l,r;const u=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},m=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,m)}_encodeUserBroadcastPush(n,l,r){var u,d;const m=n.topic,y=(u=n.ref)!==null&&u!==void 0?u:"",g=(d=n.join_ref)!==null&&d!==void 0?d:"",p=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},j=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`ref length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`topic length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(j.length>255)throw new Error(`metadata length ${j.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+y.length+m.length+p.length+j.length,C=new ArrayBuffer(this.HEADER_LENGTH+E);let z=new DataView(C),B=0;z.setUint8(B++,this.KINDS.userBroadcastPush),z.setUint8(B++,g.length),z.setUint8(B++,y.length),z.setUint8(B++,m.length),z.setUint8(B++,p.length),z.setUint8(B++,j.length),z.setUint8(B++,l),Array.from(g,q=>z.setUint8(B++,q.charCodeAt(0))),Array.from(y,q=>z.setUint8(B++,q.charCodeAt(0))),Array.from(m,q=>z.setUint8(B++,q.charCodeAt(0))),Array.from(p,q=>z.setUint8(B++,q.charCodeAt(0))),Array.from(j,q=>z.setUint8(B++,q.charCodeAt(0)));var Q=new Uint8Array(C.byteLength+r.byteLength);return Q.set(new Uint8Array(C),0),Q.set(new Uint8Array(r),C.byteLength),Q.buffer}decode(n,l){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return l(r)}if(typeof n=="string"){const r=JSON.parse(n),[u,d,m,y,g]=r;return l({join_ref:u,ref:d,topic:m,event:y,payload:g})}return l({})}_binaryDecode(n){const l=new DataView(n),r=l.getUint8(0),u=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,l,u)}_decodeUserBroadcast(n,l,r){const u=l.getUint8(1),d=l.getUint8(2),m=l.getUint8(3),y=l.getUint8(4);let g=this.HEADER_LENGTH+4;const p=r.decode(n.slice(g,g+u));g=g+u;const _=r.decode(n.slice(g,g+d));g=g+d;const j=r.decode(n.slice(g,g+m));g=g+m;const E=n.slice(g,n.byteLength),C=y===this.JSON_ENCODING?JSON.parse(r.decode(E)):E,z={type:this.BROADCAST_EVENT,event:_,payload:C};return m>0&&(z.meta=JSON.parse(j)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:z}}_isArrayBuffer(n){var l;return n instanceof ArrayBuffer||((l=n==null?void 0:n.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(n,l){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>l.includes(r)))}}class tg{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ke||(Ke={}));const E0=(i,n,l={})=>{var r;const u=(r=l.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((d,m)=>(d[m]=gb(m,i,n,u),d),{}):{}},gb=(i,n,l,r)=>{const u=n.find(y=>y.name===i),d=u==null?void 0:u.type,m=l[i];return d&&!r.includes(d)?ag(d,m):dd(m)},ag=(i,n)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return bb(n,l)}switch(i){case Ke.bool:return yb(n);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return vb(n);case Ke.json:case Ke.jsonb:return pb(n);case Ke.timestamp:return _b(n);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return dd(n);default:return dd(n)}},dd=i=>i,yb=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},vb=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},pb=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return i}return i},bb=(i,n)=>{if(typeof i!="string")return i;const l=i.length-1,r=i[l];if(i[0]==="{"&&r==="}"){let d;const m=i.slice(1,l);try{d=JSON.parse("["+m+"]")}catch(y){d=m?m.split(","):[]}return d.map(y=>ag(n,y))}return i},_b=i=>typeof i=="string"?i.replace(" ","T"):i,ng=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Ju{constructor(n,l,r={},u=cd){this.channel=n,this.event=l,this.payload=r,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var r;return this._hasReceived(n)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var j0;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(j0||(j0={}));class er{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},u=>{const{onJoin:d,onLeave:m,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=er.syncState(this.state,u,d,m),this.pendingDiffs.forEach(g=>{this.state=er.syncDiff(this.state,g,d,m)}),this.pendingDiffs=[],y()}),this.channel._on(r.diff,{},u=>{const{onJoin:d,onLeave:m,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=er.syncDiff(this.state,u,d,m),y())}),this.onJoin((u,d,m)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:m})}),this.onLeave((u,d,m)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,r,u){const d=this.cloneDeep(n),m=this.transformState(l),y={},g={};return this.map(d,(p,_)=>{m[p]||(g[p]=_)}),this.map(m,(p,_)=>{const j=d[p];if(j){const E=_.map(Q=>Q.presence_ref),C=j.map(Q=>Q.presence_ref),z=_.filter(Q=>C.indexOf(Q.presence_ref)<0),B=j.filter(Q=>E.indexOf(Q.presence_ref)<0);z.length>0&&(y[p]=z),B.length>0&&(g[p]=B)}else y[p]=_}),this.syncDiff(d,{joins:y,leaves:g},r,u)}static syncDiff(n,l,r,u){const{joins:d,leaves:m}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),u||(u=()=>{}),this.map(d,(y,g)=>{var p;const _=(p=n[y])!==null&&p!==void 0?p:[];if(n[y]=this.cloneDeep(g),_.length>0){const j=n[y].map(C=>C.presence_ref),E=_.filter(C=>j.indexOf(C.presence_ref)<0);n[y].unshift(...E)}r(y,_,g)}),this.map(m,(y,g)=>{let p=n[y];if(!p)return;const _=g.map(j=>j.presence_ref);p=p.filter(j=>_.indexOf(j.presence_ref)<0),n[y]=p,u(y,p,g),p.length===0&&delete n[y]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(r=>l(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,r)=>{const u=n[r];return"metas"in u?l[r]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[r]=u,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var T0;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(T0||(T0={}));var tr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(tr||(tr={}));var Cn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Cn||(Cn={}));class Zi{constructor(n,l={config:{}},r){var u,d;if(this.topic=n,this.params=l,this.socket=r,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Ju(this,Ha.join,this.params,this.timeout),this.rejoinTimer=new tg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ha.reply,{},(m,y)=>{this._trigger(this._replyEventName(y),m)}),this.presence=new er(this),this.broadcastEndpointURL=ng(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var r,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:m,presence:y,private:g}}=this.params,p=(u=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(C=>C.filter))!==null&&u!==void 0?u:[],_=!!this.bindings[tr.PRESENCE]&&this.bindings[tr.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,j={},E={broadcast:m,presence:Object.assign(Object.assign({},y),{enabled:_}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(j.access_token=this.socket.accessTokenValue),this._onError(C=>n==null?void 0:n(Cn.CHANNEL_ERROR,C)),this._onClose(()=>n==null?void 0:n(Cn.CLOSED)),this.updateJoinPayload(Object.assign({config:E},j)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",z=>b(this,[z],function*({postgres_changes:C}){var B;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){n==null||n(Cn.SUBSCRIBED);return}else{const Q=this.bindings.postgres_changes,q=(B=Q==null?void 0:Q.length)!==null&&B!==void 0?B:0,K=[];for(let V=0;V<q;V++){const Y=Q[V],{filter:{event:G,schema:se,table:X,filter:me}}=Y,ge=C&&C[V];if(ge&&ge.event===G&&Zi.isFilterValueEqual(ge.schema,se)&&Zi.isFilterValueEqual(ge.table,X)&&Zi.isFilterValueEqual(ge.filter,me))K.push(Object.assign(Object.assign({},Y),{id:ge.id}));else{this.unsubscribe(),this.state=pt.errored,n==null||n(Cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=K,n&&n(Cn.SUBSCRIBED);return}})).receive("error",C=>{this.state=pt.errored,n==null||n(Cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return b(this,arguments,function*(n,l={}){return yield this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)})}untrack(){return b(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,l,r){return this.state===pt.joined&&n===tr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>b(this,null,function*(){return yield this.subscribe()}))),this._on(n,l,r)}httpSend(u,d){return b(this,arguments,function*(n,l,r={}){var m;if(l==null)return Promise.reject("Payload is required for httpSend()");const y={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(y.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:y,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},p=yield this._fetchWithTimeout(this.broadcastEndpointURL,g,(m=r.timeout)!==null&&m!==void 0?m:this.timeout);if(p.status===202)return{success:!0};let _=p.statusText;try{const j=yield p.json();_=j.error||j.message||_}catch(j){}return Promise.reject(new Error(_))})}send(r){return b(this,arguments,function*(n,l={}){var u,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:m,payload:y}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:m,payload:y,private:this.private}]})};try{const _=yield this._fetchWithTimeout(this.broadcastEndpointURL,p,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);return yield(d=_.body)===null||d===void 0?void 0:d.cancel(),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(m=>{var y,g,p;const _=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(y=this.params)===null||y===void 0?void 0:y.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&m("ok"),_.receive("ok",()=>m("ok")),_.receive("error",()=>m("error")),_.receive("timeout",()=>m("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=pt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ha.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(u=>{r=new Ju(this,Ha.leave,{},n),r.receive("ok",()=>{l(),u("ok")}).receive("timeout",()=>{l(),u("timed out")}).receive("error",()=>{u("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}_fetchWithTimeout(n,l,r){return b(this,null,function*(){const u=new AbortController,d=setTimeout(()=>u.abort(),r),m=yield this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:u.signal}));return clearTimeout(d),m})}_push(n,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Ju(this,n,l,r);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>fb){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,r){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,r){var u,d;const m=n.toLocaleLowerCase(),{close:y,error:g,leave:p,join:_}=Ha;if(r&&[y,g,p,_].indexOf(m)>=0&&r!==this._joinRef())return;let E=this._onMessage(m,l,r);if(l&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(C=>{var z,B,Q;return((z=C.filter)===null||z===void 0?void 0:z.event)==="*"||((Q=(B=C.filter)===null||B===void 0?void 0:B.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())===m}).map(C=>C.callback(E,r)):(d=this.bindings[m])===null||d===void 0||d.filter(C=>{var z,B,Q,q,K,V;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in C){const Y=C.id,G=(z=C.filter)===null||z===void 0?void 0:z.event;return Y&&((B=l.ids)===null||B===void 0?void 0:B.includes(Y))&&(G==="*"||(G==null?void 0:G.toLocaleLowerCase())===((Q=l.data)===null||Q===void 0?void 0:Q.type.toLocaleLowerCase()))}else{const Y=(K=(q=C==null?void 0:C.filter)===null||q===void 0?void 0:q.event)===null||K===void 0?void 0:K.toLocaleLowerCase();return Y==="*"||Y===((V=l==null?void 0:l.event)===null||V===void 0?void 0:V.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===m}).map(C=>{if(typeof E=="object"&&"ids"in E){const z=E.data,{schema:B,table:Q,commit_timestamp:q,type:K,errors:V}=z;E=Object.assign(Object.assign({},{schema:B,table:Q,commit_timestamp:q,eventType:K,new:{},old:{},errors:V}),this._getPayloadRecords(z))}C.callback(E,r)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,r){const u=n.toLocaleLowerCase(),d={type:u,filter:l,callback:r};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,l){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&Zi.isEqual(u.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const r in n)if(n[r]!==l[r])return!1;return!0}static isFilterValueEqual(n,l){const r=n!=null?n:void 0,u=l!=null?l:void 0;return r===u}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ha.close,{},n)}_onError(n){this._on(Ha.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=E0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=E0(n.columns,n.old_record)),l}}const Zu=()=>{},Oo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wb=[1e3,2e3,5e3,1e4],Sb=1e4,xb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Eb{constructor(n,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cd,this.transport=null,this.heartbeatIntervalMs=Oo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zu,this.ref=0,this.reconnectTimer=null,this.vsn=x0,this.logger=Zu,this.conn=null,this.sendBuffer=[],this.serializer=new mb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((r=l==null?void 0:l.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${ud.websocket}`,this.httpEndpoint=ng(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ob.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,l!=null?l:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){return b(this,null,function*(){const l=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),l})}removeAllChannels(){return b(this,null,function*(){const n=yield Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,l,r){this.logger(n,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ms.connecting:return Fs.Connecting;case ms.open:return Fs.Open;case ms.closing:return Fs.Closing;default:return Fs.Closed}}isConnected(){return this.connectionState()===Fs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const r=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===r);if(u)return u;{const d=new Zi(`realtime:${n}`,l,this);return this.channels.push(d),d}}push(n){const{topic:l,event:r,payload:u,ref:d}=n,m=()=>{this.encode(n,y=>{var g;(g=this.conn)===null||g===void 0||g.send(y)})};this.log("push",`${l} ${r} (${d})`,u),this.isConnected()?m():this.sendBuffer.push(m)}setAuth(n=null){return b(this,null,function*(){this._authPromise=this._performAuth(n);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return b(this,null,function*(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(hb,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Oo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:u,payload:d,ref:m}=l,y=m?`(${m})`:"",g=d.status||"";this.log("receive",`${g} ${r} ${u} ${y}`.trim(),d),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(u,d,m)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ms.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ms.open||this.conn.readyState===ms.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ha.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const r=n.match(/\?/)?"&":"?",u=new URLSearchParams(l);return`${n}${r}${u}`}_workerObjectUrl(n){let l;if(n)l=n;else{const r=new Blob([xb],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}_performAuth(n=null){return b(this,null,function*(){let l,r=!1;if(n)l=n,r=!0;else if(this.accessToken)try{l=yield this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(u=>{const d={access_token:l,version:ub};l&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(Ha.access_token,{access_token:l})}))})}_waitForAuthIfNeeded(){return b(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(l)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new tg(()=>b(this,null,function*(){setTimeout(()=>b(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Oo.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(n){var l,r,u,d,m,y,g,p,_,j,E,C;switch(this.transport=(l=n==null?void 0:n.transport)!==null&&l!==void 0?l:null,this.timeout=(r=n==null?void 0:n.timeout)!==null&&r!==void 0?r:cd,this.heartbeatIntervalMs=(u=n==null?void 0:n.heartbeatIntervalMs)!==null&&u!==void 0?u:Oo.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(m=n==null?void 0:n.accessToken)!==null&&m!==void 0?m:null,this.heartbeatCallback=(y=n==null?void 0:n.heartbeatCallback)!==null&&y!==void 0?y:Zu,this.vsn=(g=n==null?void 0:n.vsn)!==null&&g!==void 0?g:x0,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(z=>wb[z-1]||Sb),this.vsn){case eg:this.encode=(_=n==null?void 0:n.encode)!==null&&_!==void 0?_:((z,B)=>B(JSON.stringify(z))),this.decode=(j=n==null?void 0:n.decode)!==null&&j!==void 0?j:((z,B)=>B(JSON.parse(z)));break;case db:this.encode=(E=n==null?void 0:n.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(C=n==null?void 0:n.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var ar=class extends Error{constructor(i,n){var l;super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((l=n.icebergType)==null?void 0:l.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jb(i,n,l){const r=new URL(n,i);if(l)for(const[u,d]of Object.entries(l))d!==void 0&&r.searchParams.set(u,d);return r.toString()}function Tb(i){return b(this,null,function*(){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?yield i.getHeaders():{}})}function Nb(i){var l;const n=(l=i.fetchImpl)!=null?l:globalThis.fetch;return{request(p){return b(this,arguments,function*({method:u,path:d,query:m,body:y,headers:g}){var Q;const _=jb(i.baseUrl,d,m),j=yield Tb(i.auth),E=yield n(_,{method:u,headers:Lt(Lt(Lt({},y?{"Content-Type":"application/json"}:{}),j),g),body:y?JSON.stringify(y):void 0}),C=yield E.text(),z=(E.headers.get("content-type")||"").includes("application/json"),B=z&&C?JSON.parse(C):C;if(!E.ok){const q=z?B:void 0,K=q==null?void 0:q.error;throw new ar((Q=K==null?void 0:K.message)!=null?Q:`Request failed with status ${E.status}`,{status:E.status,icebergType:K==null?void 0:K.type,icebergCode:K==null?void 0:K.code,details:q})}return{status:E.status,headers:E.headers,data:B}})}}}function Co(i){return i.join("")}var Ab=class{constructor(i,n=""){this.client=i,this.prefix=n}listNamespaces(i){return b(this,null,function*(){const n=i?{parent:Co(i.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(i,n){return b(this,null,function*(){const l={namespace:i.namespace,properties:n==null?void 0:n.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data})}dropNamespace(i){return b(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Co(i.namespace)}`})})}loadNamespaceMetadata(i){return b(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Co(i.namespace)}`})).data.properties}})}namespaceExists(i){return b(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Co(i.namespace)}`}),!0}catch(n){if(n instanceof ar&&n.status===404)return!1;throw n}})}createNamespaceIfNotExists(i,n){return b(this,null,function*(){try{return yield this.createNamespace(i,n)}catch(l){if(l instanceof ar&&l.status===409)return;throw l}})}};function $i(i){return i.join("")}var kb=class{constructor(i,n="",l){this.client=i,this.prefix=n,this.accessDelegation=l}listTables(i){return b(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$i(i.namespace)}/tables`})).data.identifiers})}createTable(i,n){return b(this,null,function*(){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$i(i.namespace)}/tables`,body:n,headers:l})).data.metadata})}updateTable(i,n){return b(this,null,function*(){const l=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$i(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}})}dropTable(i,n){return b(this,null,function*(){var l;yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$i(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((l=n==null?void 0:n.purge)!=null?l:!1)}})})}loadTable(i){return b(this,null,function*(){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$i(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata})}tableExists(i){return b(this,null,function*(){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$i(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(l){if(l instanceof ar&&l.status===404)return!1;throw l}})}createTableIfNotExists(i,n){return b(this,null,function*(){try{return yield this.createTable(i,n)}catch(l){if(l instanceof ar&&l.status===409)return yield this.loadTable({namespace:i.namespace,name:n.name});throw l}})}},Ob=class{constructor(i){var r;let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const l=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Nb({baseUrl:l,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(r=i.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Ab(this.client,n),this.tableOps=new kb(this.client,n,this.accessDelegation)}listNamespaces(i){return b(this,null,function*(){return this.namespaceOps.listNamespaces(i)})}createNamespace(i,n){return b(this,null,function*(){return this.namespaceOps.createNamespace(i,n)})}dropNamespace(i){return b(this,null,function*(){yield this.namespaceOps.dropNamespace(i)})}loadNamespaceMetadata(i){return b(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(i)})}listTables(i){return b(this,null,function*(){return this.tableOps.listTables(i)})}createTable(i,n){return b(this,null,function*(){return this.tableOps.createTable(i,n)})}updateTable(i,n){return b(this,null,function*(){return this.tableOps.updateTable(i,n)})}dropTable(i,n){return b(this,null,function*(){yield this.tableOps.dropTable(i,n)})}loadTable(i){return b(this,null,function*(){return this.tableOps.loadTable(i)})}namespaceExists(i){return b(this,null,function*(){return this.namespaceOps.namespaceExists(i)})}tableExists(i){return b(this,null,function*(){return this.tableOps.tableExists(i)})}createNamespaceIfNotExists(i,n){return b(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(i,n)})}createTableIfNotExists(i,n){return b(this,null,function*(){return this.tableOps.createTableIfNotExists(i,n)})}},Ho=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Pe(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Cb=class extends Ho{constructor(i,n,l){super(i),this.name="StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hd=class extends Ho{constructor(i,n){super(i),this.name="StorageUnknownError",this.originalError=n}};const jd=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Rb=()=>Response,fd=i=>{if(Array.isArray(i))return i.map(l=>fd(l));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([l,r])=>{const u=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=fd(r)}),n},zb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Ub=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function nr(i){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nr(i)}function Db(i,n){if(nr(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(nr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Mb(i){var n=Db(i,"string");return nr(n)=="symbol"?n:n+""}function Bb(i,n,l){return(n=Mb(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function N0(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),l.push.apply(l,r)}return l}function he(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?N0(Object(l),!0).forEach(function(r){Bb(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):N0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const Wu=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},Lb=(i,n,l)=>b(null,null,function*(){i instanceof(yield Rb())&&!(l!=null&&l.noResolveJson)?i.json().then(r=>{const u=i.status||500,d=(r==null?void 0:r.statusCode)||u+"";n(new Cb(Wu(r),u,d))}).catch(r=>{n(new hd(Wu(r),r))}):n(new hd(Wu(i),i))}),qb=(i,n,l,r)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"||!r?u:(zb(r)?(u.headers=he({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(r)):u.body=r,n!=null&&n.duplex&&(u.duplex=n.duplex),he(he({},u),l))};function hr(i,n,l,r,u,d){return b(this,null,function*(){return new Promise((m,y)=>{i(l,qb(n,r,u,d)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>m(g)).catch(g=>Lb(g,y,r))})})}function sr(i,n,l,r){return b(this,null,function*(){return hr(i,"GET",n,l,r)})}function qa(i,n,l,r,u){return b(this,null,function*(){return hr(i,"POST",n,r,u,l)})}function md(i,n,l,r,u){return b(this,null,function*(){return hr(i,"PUT",n,r,u,l)})}function Hb(i,n,l,r){return b(this,null,function*(){return hr(i,"HEAD",n,he(he({},l),{},{noResolveJson:!0}),r)})}function Td(i,n,l,r,u){return b(this,null,function*(){return hr(i,"DELETE",n,r,u,l)})}var $b=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}execute(){return b(this,null,function*(){var i=this;try{return{data:(yield i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}};let sg;sg=Symbol.toStringTag;var Gb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[sg]="BlobDownloadBuilder",this.promise=null}asStream(){return new $b(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return b(this,null,function*(){var i=this;try{return{data:yield(yield i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}};const Vb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},A0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Yb=class{constructor(i,n={},l,r){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.bucketId=l,this.fetch=jd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(i,n,l,r){return b(this,null,function*(){var u=this;try{let d;const m=he(he({},A0),r);let y=he(he({},u.headers),i==="POST"&&{"x-upsert":String(m.upsert)});const g=m.metadata;typeof Blob!="undefined"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),g&&d.append("metadata",u.encodeMetadata(g)),d.append("",l)):typeof FormData!="undefined"&&l instanceof FormData?(d=l,d.has("cacheControl")||d.append("cacheControl",m.cacheControl),g&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(g))):(d=l,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType,g&&(y["x-metadata"]=u.toBase64(u.encodeMetadata(g))),(typeof ReadableStream!="undefined"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!m.duplex&&(m.duplex="half")),r!=null&&r.headers&&(y=he(he({},y),r.headers));const p=u._removeEmptyFolders(n),_=u._getFinalPath(p),j=yield(i=="PUT"?md:qa)(u.fetch,`${u.url}/object/${_}`,d,he({headers:y},m!=null&&m.duplex?{duplex:m.duplex}:{}));return{data:{path:p,id:j.Id,fullPath:j.Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Pe(d))return{data:null,error:d};throw d}})}upload(i,n,l){return b(this,null,function*(){return this.uploadOrUpdate("POST",i,n,l)})}uploadToSignedUrl(i,n,l,r){return b(this,null,function*(){var u=this;const d=u._removeEmptyFolders(i),m=u._getFinalPath(d),y=new URL(u.url+`/object/upload/sign/${m}`);y.searchParams.set("token",n);try{let g;const p=he({upsert:A0.upsert},r),_=he(he({},u.headers),{"x-upsert":String(p.upsert)});return typeof Blob!="undefined"&&l instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",l)):typeof FormData!="undefined"&&l instanceof FormData?(g=l,g.append("cacheControl",p.cacheControl)):(g=l,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType),{data:{path:d,fullPath:(yield md(u.fetch,y.toString(),g,{headers:_})).Key},error:null}}catch(g){if(u.shouldThrowOnError)throw g;if(Pe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(i,n){return b(this,null,function*(){var l=this;try{let r=l._getFinalPath(i);const u=he({},l.headers);n!=null&&n.upsert&&(u["x-upsert"]="true");const d=yield qa(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:u}),m=new URL(l.url+d.url),y=m.searchParams.get("token");if(!y)throw new Ho("No token returned by API");return{data:{signedUrl:m.toString(),path:i,token:y},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}update(i,n,l){return b(this,null,function*(){return this.uploadOrUpdate("PUT",i,n,l)})}move(i,n,l){return b(this,null,function*(){var r=this;try{return{data:yield qa(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers}),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}copy(i,n,l){return b(this,null,function*(){var r=this;try{return{data:{path:(yield qa(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers})).Key},error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}createSignedUrl(i,n,l){return b(this,null,function*(){var r=this;try{let u=r._getFinalPath(i),d=yield qa(r.fetch,`${r.url}/object/sign/${u}`,he({expiresIn:n},l!=null&&l.transform?{transform:l.transform}:{}),{headers:r.headers});const m=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${r.url}${d.signedURL}${m}`)},{data:d,error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}createSignedUrls(i,n,l){return b(this,null,function*(){var r=this;try{const u=yield qa(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:i},{headers:r.headers}),d=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(m=>he(he({},m),{},{signedUrl:m.signedURL?encodeURI(`${r.url}${m.signedURL}${d}`):null})),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}download(i,n){const l=typeof(n==null?void 0:n.transform)!="undefined"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=r?`?${r}`:"",d=this._getFinalPath(i),m=()=>sr(this.fetch,`${this.url}/${l}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new Gb(m,this.shouldThrowOnError)}info(i){return b(this,null,function*(){var n=this;const l=n._getFinalPath(i);try{return{data:fd(yield sr(n.fetch,`${n.url}/object/info/${l}`,{headers:n.headers})),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}exists(i){return b(this,null,function*(){var n=this;const l=n._getFinalPath(i);try{return yield Hb(n.fetch,`${n.url}/object/${l}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Pe(r)&&r instanceof hd){const u=r.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:r}}throw r}})}getPublicUrl(i,n){const l=this._getFinalPath(i),r=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&r.push(u);const d=typeof(n==null?void 0:n.transform)!="undefined"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&r.push(m);let y=r.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${l}${y}`)}}}remove(i){return b(this,null,function*(){var n=this;try{return{data:yield Td(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}list(i,n,l){return b(this,null,function*(){var r=this;try{const u=he(he(he({},Vb),n),{},{prefix:i||""});return{data:yield qa(r.fetch,`${r.url}/object/list/${r.bucketId}`,u,{headers:r.headers},l),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}listV2(i,n){return b(this,null,function*(){var l=this;try{const r=he({},i);return{data:yield qa(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},n),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer!="undefined"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const ig="2.89.0",lg={"X-Client-Info":`storage-js/${ig}`};var Kb=class{constructor(i,n={},l,r){this.shouldThrowOnError=!1;const u=new URL(i);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=he(he({},lg),n),this.fetch=jd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(i){return b(this,null,function*(){var n=this;try{const l=n.listBucketOptionsToQueryString(i);return{data:yield sr(n.fetch,`${n.url}/bucket${l}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}getBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield sr(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}createBucket(l){return b(this,arguments,function*(i,n={public:!1}){var r=this;try{return{data:yield qa(r.fetch,`${r.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}updateBucket(i,n){return b(this,null,function*(){var l=this;try{return{data:yield md(l.fetch,`${l.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}emptyBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield qa(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}deleteBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield Td(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Ib=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},lg),n),this.fetch=jd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield qa(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}listBuckets(i){return b(this,null,function*(){var n=this;try{const l=new URLSearchParams;(i==null?void 0:i.limit)!==void 0&&l.set("limit",i.limit.toString()),(i==null?void 0:i.offset)!==void 0&&l.set("offset",i.offset.toString()),i!=null&&i.sortColumn&&l.set("sortColumn",i.sortColumn),i!=null&&i.sortOrder&&l.set("sortOrder",i.sortOrder),i!=null&&i.search&&l.set("search",i.search);const r=l.toString(),u=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return{data:yield sr(n.fetch,u,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}deleteBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield Td(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}from(i){var n=this;if(!Ub(i))throw new Ho("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new Ob({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:()=>b(this,null,function*(){return n.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(u,d){const m=u[d];return typeof m!="function"?m:(...y)=>b(null,null,function*(){try{return{data:yield m.apply(u,y),error:null}}catch(g){if(r)throw g;return{data:null,error:g}}})}})}};const Nd={"X-Client-Info":`storage-js/${ig}`,"Content-Type":"application/json"};var rg=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ba(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var Pu=class extends rg{constructor(i,n,l){super(i),this.name="StorageVectorsApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qb=class extends rg{constructor(i,n){super(i),this.name="StorageVectorsUnknownError",this.originalError=n}};const Ad=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Xb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},k0=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Jb=(i,n,l)=>b(null,null,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(l!=null&&l.noResolveJson)){const r=i.status||500,u=i;if(typeof u.json=="function")u.json().then(d=>{const m=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||r+"";n(new Pu(k0(d),r,m))}).catch(()=>{const d=r+"";n(new Pu(u.statusText||`HTTP ${r} error`,r,d))});else{const d=r+"";n(new Pu(u.statusText||`HTTP ${r} error`,r,d))}}else n(new Qb(k0(i),i))}),Zb=(i,n,l,r)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return r?(Xb(r)?(u.headers=he({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(r)):u.body=r,he(he({},u),l)):u};function Wb(i,n,l,r,u,d){return b(this,null,function*(){return new Promise((m,y)=>{i(l,Zb(n,r,u,d)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>m(g)).catch(g=>Jb(g,y,r))})})}function _a(i,n,l,r,u){return b(this,null,function*(){return Wb(i,"POST",n,r,u,l)})}var Pb=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},Nd),n),this.fetch=Ad(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(i){return b(this,null,function*(){var n=this;try{return{data:(yield _a(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers}))||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ba(l))return{data:null,error:l};throw l}})}getIndex(i,n){return b(this,null,function*(){var l=this;try{return{data:yield _a(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(ba(r))return{data:null,error:r};throw r}})}listIndexes(i){return b(this,null,function*(){var n=this;try{return{data:yield _a(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ba(l))return{data:null,error:l};throw l}})}deleteIndex(i,n){return b(this,null,function*(){var l=this;try{return{data:(yield _a(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers}))||{},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(ba(r))return{data:null,error:r};throw r}})}},Fb=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},Nd),n),this.fetch=Ad(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(i){return b(this,null,function*(){var n=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield _a(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers}))||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ba(l))return{data:null,error:l};throw l}})}getVectors(i){return b(this,null,function*(){var n=this;try{return{data:yield _a(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ba(l))return{data:null,error:l};throw l}})}listVectors(i){return b(this,null,function*(){var n=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:yield _a(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ba(l))return{data:null,error:l};throw l}})}queryVectors(i){return b(this,null,function*(){var n=this;try{return{data:yield _a(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ba(l))return{data:null,error:l};throw l}})}deleteVectors(i){return b(this,null,function*(){var n=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield _a(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers}))||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ba(l))return{data:null,error:l};throw l}})}},e_=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},Nd),n),this.fetch=Ad(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(i){return b(this,null,function*(){var n=this;try{return{data:(yield _a(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers}))||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ba(l))return{data:null,error:l};throw l}})}getBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield _a(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ba(l))return{data:null,error:l};throw l}})}listBuckets(){return b(this,arguments,function*(i={}){var n=this;try{return{data:yield _a(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ba(l))return{data:null,error:l};throw l}})}deleteBucket(i){return b(this,null,function*(){var n=this;try{return{data:(yield _a(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers}))||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ba(l))return{data:null,error:l};throw l}})}},t_=class i extends e_{constructor(n,l={}){super(n,l.headers||{},l.fetch)}from(n){return new a_(this.url,this.headers,n,this.fetch)}createBucket(n){return b(this,null,function*(){var l=()=>sa(i.prototype,this,"createBucket"),r=this;return l().call(r,n)})}getBucket(n){return b(this,null,function*(){var l=()=>sa(i.prototype,this,"getBucket"),r=this;return l().call(r,n)})}listBuckets(){return b(this,arguments,function*(n={}){var l=()=>sa(i.prototype,this,"listBuckets"),r=this;return l().call(r,n)})}deleteBucket(n){return b(this,null,function*(){var l=()=>sa(i.prototype,this,"deleteBucket"),r=this;return l().call(r,n)})}},a_=class i extends Pb{constructor(n,l,r,u){super(n,l,u),this.vectorBucketName=r}createIndex(n){return b(this,null,function*(){var l=()=>sa(i.prototype,this,"createIndex"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName}))})}listIndexes(){return b(this,arguments,function*(n={}){var l=()=>sa(i.prototype,this,"listIndexes"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName}))})}getIndex(n){return b(this,null,function*(){var l=()=>sa(i.prototype,this,"getIndex"),r=this;return l().call(r,r.vectorBucketName,n)})}deleteIndex(n){return b(this,null,function*(){var l=()=>sa(i.prototype,this,"deleteIndex"),r=this;return l().call(r,r.vectorBucketName,n)})}index(n){return new n_(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},n_=class i extends Fb{constructor(n,l,r,u,d){super(n,l,d),this.vectorBucketName=r,this.indexName=u}putVectors(n){return b(this,null,function*(){var l=()=>sa(i.prototype,this,"putVectors"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}getVectors(n){return b(this,null,function*(){var l=()=>sa(i.prototype,this,"getVectors"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}listVectors(){return b(this,arguments,function*(n={}){var l=()=>sa(i.prototype,this,"listVectors"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}queryVectors(n){return b(this,null,function*(){var l=()=>sa(i.prototype,this,"queryVectors"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}deleteVectors(n){return b(this,null,function*(){var l=()=>sa(i.prototype,this,"deleteVectors"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}},s_=class extends Kb{constructor(i,n={},l,r){super(i,n,l,r)}from(i){return new Yb(this.url,this.headers,i,this.fetch)}get vectors(){return new t_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ib(this.url+"/iceberg",this.headers,this.fetch)}};const og="2.89.0",Xi=30*1e3,gd=3,Fu=gd*Xi,i_="http://localhost:9999",l_="supabase.auth.token",r_={"X-Client-Info":`gotrue-js/${og}`},yd="X-Supabase-Api-Version",cg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,c_=600*1e3;class ir extends Error{constructor(n,l,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function ie(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class u_ extends ir{constructor(n,l,r){super(n,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function d_(i){return ie(i)&&i.name==="AuthApiError"}class ei extends ir{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class Rn extends ir{constructor(n,l,r,u){super(n,r,u),this.name=l,this.status=r}}class pa extends Rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function h_(i){return ie(i)&&i.name==="AuthSessionMissingError"}class Gi extends Rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ro extends Rn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class zo extends Rn{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function f_(i){return ie(i)&&i.name==="AuthImplicitGrantRedirectError"}class O0 extends Rn{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class m_ extends Rn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class vd extends Rn{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function ed(i){return ie(i)&&i.name==="AuthRetryableFetchError"}class C0 extends Rn{constructor(n,l,r){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class pd extends Rn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R0=` 	
\r=`.split(""),g_=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<R0.length;n+=1)i[R0[n].charCodeAt(0)]=-2;for(let n=0;n<Mo.length;n+=1)i[Mo[n].charCodeAt(0)]=n;return i})();function z0(i,n,l){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(Mo[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(Mo[r]),n.queuedBits-=6}}function ug(i,n,l){const r=g_[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function U0(i){const n=[],l=m=>{n.push(String.fromCodePoint(m))},r={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=m=>{p_(m,r,l)};for(let m=0;m<i.length;m+=1)ug(i.charCodeAt(m),u,d);return n.join("")}function y_(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function v_(i,n){for(let l=0;l<i.length;l+=1){let r=i.charCodeAt(l);if(r>55295&&r<=56319){const u=(r-55296)*1024&65535;r=(i.charCodeAt(l+1)-56320&65535|u)+65536,l+=1}y_(r,n)}}function p_(i,n,l){if(n.utf8seq===0){if(i<=127){l(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function Wi(i){const n=[],l={queue:0,queuedBits:0},r=u=>{n.push(u)};for(let u=0;u<i.length;u+=1)ug(i.charCodeAt(u),l,r);return new Uint8Array(n)}function b_(i){const n=[];return v_(i,l=>n.push(l)),new Uint8Array(n)}function ti(i){const n=[],l={queue:0,queuedBits:0},r=u=>{n.push(u)};return i.forEach(u=>z0(u,l,r)),z0(null,l,r),n.join("")}function __(i){return Math.round(Date.now()/1e3)+i}function w_(){return Symbol("auth-callback")}const Ct=()=>typeof window!="undefined"&&typeof document!="undefined",Js={tested:!1,writable:!1},dg=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(n){return!1}if(Js.tested)return Js.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Js.tested=!0,Js.writable=!0}catch(n){Js.tested=!0,Js.writable=!1}return Js.writable};function S_(i){const n={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch(r){}return l.searchParams.forEach((r,u)=>{n[u]=r}),n}const hg=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),x_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Ji=(i,n,l)=>b(null,null,function*(){yield i.setItem(n,JSON.stringify(l))}),Zs=(i,n)=>b(null,null,function*(){const l=yield i.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch(r){return l}}),Ot=(i,n)=>b(null,null,function*(){yield i.removeItem(n)});class $o{constructor(){this.promise=new $o.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}$o.promiseConstructor=Promise;function td(i){const n=i.split(".");if(n.length!==3)throw new pd("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!o_.test(n[r]))throw new pd("JWT not in base64url format");return{header:JSON.parse(U0(n[0])),payload:JSON.parse(U0(n[1])),signature:Wi(n[2]),raw:{header:n[0],payload:n[1]}}}function E_(i){return b(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),i)})})}function j_(i,n){return new Promise((r,u)=>{b(null,null,function*(){for(let d=0;d<1/0;d++)try{const m=yield i(d);if(!n(d,null,m)){r(m);return}}catch(m){if(!n(d,m)){u(m);return}}})})}function T_(i){return("0"+i.toString(16)).substr(-2)}function N_(){const n=new Uint32Array(56);if(typeof crypto=="undefined"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let u="";for(let d=0;d<56;d++)u+=l.charAt(Math.floor(Math.random()*r));return u}return crypto.getRandomValues(n),Array.from(n,T_).join("")}function A_(i){return b(this,null,function*(){const l=new TextEncoder().encode(i),r=yield crypto.subtle.digest("SHA-256",l),u=new Uint8Array(r);return Array.from(u).map(d=>String.fromCharCode(d)).join("")})}function k_(i){return b(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const l=yield A_(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Vi(i,n,l=!1){return b(this,null,function*(){const r=N_();let u=r;l&&(u+="/PASSWORD_RECOVERY"),yield Ji(i,`${n}-code-verifier`,u);const d=yield k_(r);return[d,r===d?"plain":"s256"]})}const O_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function C_(i){const n=i.headers.get(yd);if(!n||!n.match(O_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch(l){return null}}function R_(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function z_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const U_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yi(i){if(!U_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ad(){const i={};return new Proxy(i,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function D_(i,n){return new Proxy(i,{get:(l,r,u)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,u)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(l,r,u)}})}function D0(i){return JSON.parse(JSON.stringify(i))}const Ws=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),M_=[502,503,504];function M0(i){return b(this,null,function*(){var n;if(!x_(i))throw new vd(Ws(i),0);if(M_.includes(i.status))throw new vd(Ws(i),i.status);let l;try{l=yield i.json()}catch(d){throw new ei(Ws(d),d)}let r;const u=C_(i);if(u&&u.getTime()>=cg["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new C0(Ws(l),i.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new pa}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,m)=>d&&typeof m=="string",!0))throw new C0(Ws(l),i.status,l.weak_password.reasons);throw new u_(Ws(l),i.status||500,r)})}const B_=(i,n,l,r)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),u.body=JSON.stringify(r),Object.assign(Object.assign({},u),l))};function de(i,n,l,r){return b(this,null,function*(){var u;const d=Object.assign({},r==null?void 0:r.headers);d[yd]||(d[yd]=cg["2024-01-01"].name),r!=null&&r.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const m=(u=r==null?void 0:r.query)!==null&&u!==void 0?u:{};r!=null&&r.redirectTo&&(m.redirect_to=r.redirectTo);const y=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",g=yield L_(i,n,l+y,{headers:d,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}})}function L_(i,n,l,r,u,d){return b(this,null,function*(){const m=B_(n,r,u,d);let y;try{y=yield i(l,Object.assign({},m))}catch(g){throw console.error(g),new vd(Ws(g),0)}if(y.ok||(yield M0(y)),r!=null&&r.noResolveJson)return y;try{return yield y.json()}catch(g){yield M0(g)}})}function La(i){var n;let l=null;$_(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=__(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:l,user:r},error:null}}function B0(i){const n=La(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function gs(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function q_(i){return{data:i,error:null}}function H_(i){const{action_link:n,email_otp:l,hashed_token:r,redirect_to:u,verification_type:d}=i,m=qo(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:n,email_otp:l,hashed_token:r,redirect_to:u,verification_type:d},g=Object.assign({},m);return{data:{properties:y,user:g},error:null}}function L0(i){return i}function $_(i){return i.access_token&&i.refresh_token&&i.expires_in}const nd=["global","local","others"];class G_{constructor({url:n="",headers:l={},fetch:r}){this.url=n,this.headers=l,this.fetch=hg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return b(this,arguments,function*(n,l=nd[0]){if(nd.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nd.join(", ")}`);try{return yield de(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(u){if(ie(u))return{data:null,error:u};throw u}})}inviteUserByEmail(r){return b(this,arguments,function*(n,l={}){try{return yield de(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:gs})}catch(u){if(ie(u))return{data:{user:null},error:u};throw u}})}generateLink(n){return b(this,null,function*(){try{const{options:l}=n,r=qo(n,["options"]),u=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(u.new_email=r==null?void 0:r.newEmail,delete u.newEmail),yield de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:H_,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(ie(l))return{data:{properties:null,user:null},error:l};throw l}})}createUser(n){return b(this,null,function*(){try{return yield de(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:gs})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}})}listUsers(n){return b(this,null,function*(){var l,r,u,d,m,y,g;try{const p={nextPage:null,lastPage:0,total:0},_=yield de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n==null?void 0:n.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:L0});if(_.error)throw _.error;const j=yield _.json(),E=(m=_.headers.get("x-total-count"))!==null&&m!==void 0?m:0,C=(g=(y=_.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(z=>{const B=parseInt(z.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(z.split(";")[1].split("=")[1]);p[`${Q}Page`]=B}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},j),p),error:null}}catch(p){if(ie(p))return{data:{users:[]},error:p};throw p}})}getUserById(n){return b(this,null,function*(){Yi(n);try{return yield de(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:gs})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}})}updateUserById(n,l){return b(this,null,function*(){Yi(n);try{return yield de(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:gs})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,l=!1){return b(this,null,function*(){Yi(n);try{return yield de(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:gs})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return b(this,null,function*(){Yi(n.userId);try{const{data:l,error:r}=yield de(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:l,error:r}}catch(l){if(ie(l))return{data:null,error:l};throw l}})}_deleteFactor(n){return b(this,null,function*(){Yi(n.userId),Yi(n.id);try{return{data:yield de(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}})}_listOAuthClients(n){return b(this,null,function*(){var l,r,u,d,m,y,g;try{const p={nextPage:null,lastPage:0,total:0},_=yield de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n==null?void 0:n.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:L0});if(_.error)throw _.error;const j=yield _.json(),E=(m=_.headers.get("x-total-count"))!==null&&m!==void 0?m:0,C=(g=(y=_.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(z=>{const B=parseInt(z.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(z.split(";")[1].split("=")[1]);p[`${Q}Page`]=B}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},j),p),error:null}}catch(p){if(ie(p))return{data:{clients:[]},error:p};throw p}})}_createOAuthClient(n){return b(this,null,function*(){try{return yield de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}})}_getOAuthClient(n){return b(this,null,function*(){try{return yield de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}})}_updateOAuthClient(n,l){return b(this,null,function*(){try{return yield de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(n){return b(this,null,function*(){try{return yield de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}})}_regenerateOAuthClientSecret(n){return b(this,null,function*(){try{return yield de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}})}}function q0(i={}){return{getItem:n=>i[n]||null,setItem:(n,l)=>{i[n]=l},removeItem:n=>{delete i[n]}}}const Ki={debug:!!(globalThis&&dg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class V_ extends fg{}function Y_(i,n,l){return b(this,null,function*(){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},u=>b(null,null,function*(){if(u){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return yield l()}finally{Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(n===0)throw Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new V_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ki.debug)try{const d=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield l()}})))})}function K_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(i){typeof self!="undefined"&&(self.globalThis=self)}}function mg(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function I_(i){return parseInt(i,16)}function Q_(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function X_(i){var n;const{chainId:l,domain:r,expirationTime:u,issuedAt:d=new Date,nonce:m,notBefore:y,requestId:g,resources:p,scheme:_,uri:j,version:E}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(m&&m.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${m}`);if(!j)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const C=mg(i.address),z=_?`${_}://${r}`:r,B=i.statement?`${i.statement}
`:"",Q=`${z} wants you to sign in with your Ethereum account:
${C}

${B}`;let q=`URI: ${j}
Version: ${E}
Chain ID: ${l}${m?`
Nonce: ${m}`:""}
Issued At: ${d.toISOString()}`;if(u&&(q+=`
Expiration Time: ${u.toISOString()}`),y&&(q+=`
Not Before: ${y.toISOString()}`),g&&(q+=`
Request ID: ${g}`),p){let K=`
Resources:`;for(const V of p){if(!V||typeof V!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${V}`);K+=`
- ${V}`}q+=K}return`${Q}
${q}`}class mt extends Error{constructor({message:n,code:l,cause:r,name:u}){var d;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=u!=null?u:r instanceof Error?r.name:void 0)!==null&&d!==void 0?d:"Unknown Error",this.code=l}}class Bo extends mt{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function J_({error:i,options:n}){var l,r,u;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=d.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new mt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(y=>y.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const m=window.location.hostname;if(gg(m)){if(d.rp.id!==m)return new mt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Z_({error:i,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new mt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(gg(r)){if(l.rpId!==r)return new mt({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class W_{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const P_=new W_;function F_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential!="undefined"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:l,excludeCredentials:r}=i,u=qo(i,["challenge","user","excludeCredentials"]),d=Wi(n).buffer,m=Object.assign(Object.assign({},l),{id:Wi(l.id).buffer}),y=Object.assign(Object.assign({},u),{challenge:d,user:m});if(r&&r.length>0){y.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const p=r[g];y.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Wi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return y}function e1(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential!="undefined"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:l}=i,r=qo(i,["challenge","allowCredentials"]),u=Wi(n).buffer,d=Object.assign(Object.assign({},r),{challenge:u});if(l&&l.length>0){d.allowCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const y=l[m];d.allowCredentials[m]=Object.assign(Object.assign({},y),{id:Wi(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return d}function t1(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:ti(new Uint8Array(i.response.attestationObject)),clientDataJSON:ti(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function a1(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,r=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:ti(new Uint8Array(u.authenticatorData)),clientDataJSON:ti(new Uint8Array(u.clientDataJSON)),signature:ti(new Uint8Array(u.signature)),userHandle:u.userHandle?ti(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function gg(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function H0(){var i,n;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}function n1(i){return b(this,null,function*(){try{const n=yield navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Bo("Browser returned unexpected credential type",n)}:{data:null,error:new Bo("Empty credential response",n)}}catch(n){return{data:null,error:J_({error:n,options:i})}}})}function s1(i){return b(this,null,function*(){try{const n=yield navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Bo("Browser returned unexpected credential type",n)}:{data:null,error:new Bo("Empty credential response",n)}}catch(n){return{data:null,error:Z_({error:n,options:i})}}})}const i1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},l1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lo(...i){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),l=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),r={};for(const u of i)if(u)for(const d in u){const m=u[d];if(m!==void 0)if(Array.isArray(m))r[d]=m;else if(l(m))r[d]=m;else if(n(m)){const y=r[d];n(y)?r[d]=Lo(y,m):r[d]=Lo(m)}else r[d]=m}return r}function r1(i,n){return Lo(i1,i,n||{})}function o1(i,n){return Lo(l1,i,n||{})}class c1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(n){return b(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))})}_challenge(m,y){return b(this,arguments,function*({factorId:n,webauthn:l,friendlyName:r,signal:u},d){try{const{data:g,error:p}=yield this.client.mfa.challenge({factorId:n,webauthn:l});if(!g)return{data:null,error:p};const _=u!=null?u:P_.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:j}=g.webauthn.credential_options.publicKey;j.name||(j.name=`${j.id}:${r}`),j.displayName||(j.displayName=j.name)}switch(g.webauthn.type){case"create":{const j=r1(g.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:E,error:C}=yield n1({publicKey:j,signal:_});return E?{data:{factorId:n,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:E}},error:null}:{data:null,error:C}}case"request":{const j=o1(g.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:E,error:C}=yield s1(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:j,signal:_}));return E?{data:{factorId:n,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:E}},error:null}:{data:null,error:C}}}}catch(g){return ie(g)?{data:null,error:g}:{data:null,error:new ei("Unexpected error in challenge",g)}}})}_verify(u){return b(this,arguments,function*({challengeId:n,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:r})})}_authenticate(m,y){return b(this,arguments,function*({factorId:n,webauthn:{rpId:l=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:r=typeof window!="undefined"?[window.location.origin]:void 0,signal:u}={}},d){if(!l)return{data:null,error:new ir("rpId is required for WebAuthn authentication")};try{if(!H0())return{data:null,error:new ei("Browser does not support WebAuthn",null)};const{data:g,error:p}=yield this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:r},signal:u},{request:d});if(!g)return{data:null,error:p};const{webauthn:_}=g;return this._verify({factorId:n,challengeId:g.challengeId,webauthn:{type:_.type,rpId:l,rpOrigins:r,credential_response:_.credential_response}})}catch(g){return ie(g)?{data:null,error:g}:{data:null,error:new ei("Unexpected error in authenticate",g)}}})}_register(m,y){return b(this,arguments,function*({friendlyName:n,webauthn:{rpId:l=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:r=typeof window!="undefined"?[window.location.origin]:void 0,signal:u}={}},d){if(!l)return{data:null,error:new ir("rpId is required for WebAuthn registration")};try{if(!H0())return{data:null,error:new ei("Browser does not support WebAuthn",null)};const{data:g,error:p}=yield this._enroll({friendlyName:n});if(!g)return yield this.client.mfa.listFactors().then(E=>{var C;return(C=E.data)===null||C===void 0?void 0:C.all.find(z=>z.factor_type==="webauthn"&&z.friendly_name===n&&z.status!=="unverified")}).then(E=>E?this.client.mfa.unenroll({factorId:E==null?void 0:E.id}):void 0),{data:null,error:p};const{data:_,error:j}=yield this._challenge({factorId:g.id,friendlyName:g.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:u},{create:d});return _?this._verify({factorId:g.id,challengeId:_.challengeId,webauthn:{rpId:l,rpOrigins:r,type:_.webauthn.type,credential_response:_.webauthn.credential_response}}):{data:null,error:j}}catch(g){return ie(g)?{data:null,error:g}:{data:null,error:new ei("Unexpected error in register",g)}}})}}K_();const u1={url:i_,storageKey:l_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:r_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function $0(i,n,l){return b(this,null,function*(){return yield l()})}const Ii={};class lr{get jwks(){var n,l;return(l=(n=Ii[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){Ii[this.storageKey]=Object.assign(Object.assign({},Ii[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=Ii[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ii[this.storageKey]=Object.assign(Object.assign({},Ii[this.storageKey]),{cachedAt:n})}constructor(n){var l,r,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},u1),n);if(this.storageKey=d.storageKey,this.instanceID=(l=lr.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,lr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&Ct()){const m=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(m),this.logDebugMessages&&console.trace(m)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new G_({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=hg(d.fetch),this.lock=d.lock||$0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&Ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Y_:this.lock=$0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new c1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:dg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=q0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=q0(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",m=>b(this,null,function*(){this._debug("received broadcast notification from other tab or client",m),yield this._notifyAllSubscribers(m.data.event,m.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${og}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return b(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=b(this,null,function*(){return yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return b(this,null,function*(){var n;try{let l={},r="none";if(Ct()&&(l=S_(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":(yield this._isPKCECallback(l))&&(r="pkce")),Ct()&&this.detectSessionInUrl&&r!=="none"){const{data:u,error:d}=yield this._getSessionFromURL(l,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),f_(d)){const g=(n=d.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return yield this._removeSession(),{error:d}}const{session:m,redirectType:y}=u;return this._debug("#_initialize()","detected session in URL",m,"redirect type",y),yield this._saveSession(m),setTimeout(()=>b(this,null,function*(){y==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",m):yield this._notifyAllSubscribers("SIGNED_IN",m)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(l){return ie(l)?this._returnResult({error:l}):this._returnResult({error:new ei("Unexpected error during initialization",l)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return b(this,null,function*(){var l,r,u;try{const d=yield de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=n==null?void 0:n.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(u=n==null?void 0:n.options)===null||u===void 0?void 0:u.captchaToken}},xform:La}),{data:m,error:y}=d;if(y||!m)return this._returnResult({data:{user:null,session:null},error:y});const g=m.session,p=m.user;return m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(ie(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}signUp(n){return b(this,null,function*(){var l,r,u;try{let d;if("email"in n){const{email:_,password:j,options:E}=n;let C=null,z=null;this.flowType==="pkce"&&([C,z]=yield Vi(this.storage,this.storageKey)),d=yield de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:_,password:j,data:(l=E==null?void 0:E.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:C,code_challenge_method:z},xform:La})}else if("phone"in n){const{phone:_,password:j,options:E}=n;d=yield de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:j,data:(r=E==null?void 0:E.data)!==null&&r!==void 0?r:{},channel:(u=E==null?void 0:E.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:La})}else throw new Ro("You must provide either an email or phone number and a password");const{data:m,error:y}=d;if(y||!m)return yield Ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:y});const g=m.session,p=m.user;return m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(yield Ot(this.storage,`${this.storageKey}-code-verifier`),ie(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}signInWithPassword(n){return b(this,null,function*(){try{let l;if("email"in n){const{email:d,password:m,options:y}=n;l=yield de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:m,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:B0})}else if("phone"in n){const{phone:d,password:m,options:y}=n;l=yield de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:m,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:B0})}else throw new Ro("You must provide either an email or phone number and a password");const{data:r,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!r||!r.session||!r.user){const d=new Gi;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:u})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}signInWithOAuth(n){return b(this,null,function*(){var l,r,u,d;return yield this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})})}exchangeCodeForSession(n){return b(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>b(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return b(this,null,function*(){const{chain:l}=n;switch(l){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}})}signInWithEthereum(n){return b(this,null,function*(){var l,r,u,d,m,y,g,p,_,j,E;let C,z;if("message"in n)C=n.message,z=n.signature;else{const{chain:B,wallet:Q,statement:q,options:K}=n;let V;if(Ct())if(typeof Q=="object")V=Q;else{const ge=window;if("ethereum"in ge&&typeof ge.ethereum=="object"&&"request"in ge.ethereum&&typeof ge.ethereum.request=="function")V=ge.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof Q!="object"||!(K!=null&&K.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=Q}const Y=new URL((l=K==null?void 0:K.url)!==null&&l!==void 0?l:window.location.href),G=yield V.request({method:"eth_requestAccounts"}).then(ge=>ge).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const se=mg(G[0]);let X=(r=K==null?void 0:K.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!X){const ge=yield V.request({method:"eth_chainId"});X=I_(ge)}const me={domain:Y.host,address:se,statement:q,uri:Y.href,version:"1",chainId:X,nonce:(u=K==null?void 0:K.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(m=(d=K==null?void 0:K.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&m!==void 0?m:new Date,expirationTime:(y=K==null?void 0:K.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(g=K==null?void 0:K.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=K==null?void 0:K.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(_=K==null?void 0:K.signInWithEthereum)===null||_===void 0?void 0:_.resources};C=X_(me),z=yield V.request({method:"personal_sign",params:[Q_(C),se]})}try{const{data:B,error:Q}=yield de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:z},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:La});if(Q)throw Q;if(!B||!B.session||!B.user){const q=new Gi;return this._returnResult({data:{user:null,session:null},error:q})}return B.session&&(yield this._saveSession(B.session),yield this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:Q})}catch(B){if(ie(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}})}signInWithSolana(n){return b(this,null,function*(){var l,r,u,d,m,y,g,p,_,j,E,C;let z,B;if("message"in n)z=n.message,B=n.signature;else{const{chain:Q,wallet:q,statement:K,options:V}=n;let Y;if(Ct())if(typeof q=="object")Y=q;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))Y=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!(V!=null&&V.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=q}const G=new URL((l=V==null?void 0:V.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in Y&&Y.signIn){const se=yield Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},V==null?void 0:V.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),K?{statement:K}:null));let X;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")X=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)X=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)z=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),B=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");z=[`${G.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(u=(r=V==null?void 0:V.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=V==null?void 0:V.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${V.signInWithSolana.notBefore}`]:[],...!((m=V==null?void 0:V.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${V.signInWithSolana.expirationTime}`]:[],...!((y=V==null?void 0:V.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${V.signInWithSolana.chainId}`]:[],...!((g=V==null?void 0:V.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${V.signInWithSolana.nonce}`]:[],...!((p=V==null?void 0:V.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${V.signInWithSolana.requestId}`]:[],...!((j=(_=V==null?void 0:V.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||j===void 0)&&j.length?["Resources",...V.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const se=yield Y.signMessage(new TextEncoder().encode(z),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=se}}try{const{data:Q,error:q}=yield de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:z,signature:ti(B)},!((E=n.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(C=n.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:La});if(q)throw q;if(!Q||!Q.session||!Q.user){const K=new Gi;return this._returnResult({data:{user:null,session:null},error:K})}return Q.session&&(yield this._saveSession(Q.session),yield this._notifyAllSubscribers("SIGNED_IN",Q.session)),this._returnResult({data:Object.assign({},Q),error:q})}catch(Q){if(ie(Q))return this._returnResult({data:{user:null,session:null},error:Q});throw Q}})}_exchangeCodeForSession(n){return b(this,null,function*(){const l=yield Zs(this.storage,`${this.storageKey}-code-verifier`),[r,u]=(l!=null?l:"").split("/");try{if(!r&&this.flowType==="pkce")throw new m_;const{data:d,error:m}=yield de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:La});if(yield Ot(this.storage,`${this.storageKey}-code-verifier`),m)throw m;if(!d||!d.session||!d.user){const y=new Gi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:y})}return d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u!=null?u:null}),error:m})}catch(d){if(yield Ot(this.storage,`${this.storageKey}-code-verifier`),ie(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}})}signInWithIdToken(n){return b(this,null,function*(){try{const{options:l,provider:r,token:u,access_token:d,nonce:m}=n,y=yield de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:u,access_token:d,nonce:m,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:La}),{data:g,error:p}=y;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const _=new Gi;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(yield this._saveSession(g.session),yield this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}signInWithOtp(n){return b(this,null,function*(){var l,r,u,d,m;try{if("email"in n){const{email:y,options:g}=n;let p=null,_=null;this.flowType==="pkce"&&([p,_]=yield Vi(this.storage,this.storageKey));const{error:j}=yield de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(l=g==null?void 0:g.data)!==null&&l!==void 0?l:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:j})}if("phone"in n){const{phone:y,options:g}=n,{data:p,error:_}=yield de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(u=g==null?void 0:g.data)!==null&&u!==void 0?u:{},create_user:(d=g==null?void 0:g.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(m=g==null?void 0:g.channel)!==null&&m!==void 0?m:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:_})}throw new Ro("You must provide either an email or phone number.")}catch(y){if(yield Ot(this.storage,`${this.storageKey}-code-verifier`),ie(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}})}verifyOtp(n){return b(this,null,function*(){var l,r;try{let u,d;"options"in n&&(u=(l=n.options)===null||l===void 0?void 0:l.redirectTo,d=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:m,error:y}=yield de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:La});if(y)throw y;if(!m)throw new Error("An error occurred on token verification.");const g=m.session,p=m.user;return g!=null&&g.access_token&&(yield this._saveSession(g),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}signInWithSSO(n){return b(this,null,function*(){var l,r,u,d,m;try{let y=null,g=null;this.flowType==="pkce"&&([y,g]=yield Vi(this.storage,this.storageKey));const p=yield de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((u=n==null?void 0:n.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:g}),headers:this.headers,xform:q_});return!((d=p.data)===null||d===void 0)&&d.url&&Ct()&&!(!((m=n.options)===null||m===void 0)&&m.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(y){if(yield Ot(this.storage,`${this.storageKey}-code-verifier`),ie(y))return this._returnResult({data:null,error:y});throw y}})}reauthenticate(){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return b(this,null,function*(){try{return yield this._useSession(n=>b(this,null,function*(){const{data:{session:l},error:r}=n;if(r)throw r;if(!l)throw new pa;const{error:u}=yield de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:u})}))}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return b(this,null,function*(){try{const l=`${this.url}/resend`;if("email"in n){const{email:r,type:u,options:d}=n,{error:m}=yield de(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}else if("phone"in n){const{phone:r,type:u,options:d}=n,{data:m,error:y}=yield de(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y})}throw new Ro("You must provide either an email or phone number and a type")}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}getSession(){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return this._useSession(l=>b(this,null,function*(){return l}))}))})}_acquireLock(n,l){return b(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=b(this,null,function*(){return yield r,yield l()});return this.pendingInLock.push(b(this,null,function*(){try{yield u}catch(d){}})),u}return yield this.lock(`lock:${this.storageKey}`,n,()=>b(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push(b(this,null,function*(){try{yield r}catch(u){}})),yield r;this.pendingInLock.length;){const u=[...this.pendingInLock];yield Promise.all(u),this.pendingInLock.splice(0,u.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return b(this,null,function*(){this._debug("#_useSession","begin");try{const l=yield this.__loadSession();return yield n(l)}finally{this._debug("#_useSession","end")}})}__loadSession(){return b(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=yield Zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Fu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const m=yield Zs(this.userStorage,this.storageKey+"-user");m!=null&&m.user?n.user=m.user:n.user=ad()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const m={value:this.suppressGetSessionWarning};n.user=D_(n.user,m),m.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:d}=yield this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return b(this,null,function*(){if(n)return yield this._getUser(n);yield this.initializePromise;const l=yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._getUser()}));return l.data.user&&(this.suppressGetSessionWarning=!0),l})}_getUser(n){return b(this,null,function*(){try{return n?yield de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:gs}):yield this._useSession(l=>b(this,null,function*(){var r,u,d;const{data:m,error:y}=l;if(y)throw y;return!(!((r=m.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pa}:yield de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:gs})}))}catch(l){if(ie(l))return h_(l)&&(yield this._removeSession(),yield Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}})}updateUser(r){return b(this,arguments,function*(n,l={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._updateUser(n,l)}))})}_updateUser(r){return b(this,arguments,function*(n,l={}){try{return yield this._useSession(u=>b(this,null,function*(){const{data:d,error:m}=u;if(m)throw m;if(!d.session)throw new pa;const y=d.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=yield Vi(this.storage,this.storageKey));const{data:_,error:j}=yield de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:y.access_token,xform:gs});if(j)throw j;return y.user=_.user,yield this._saveSession(y),yield this._notifyAllSubscribers("USER_UPDATED",y),this._returnResult({data:{user:y.user},error:null})}))}catch(u){if(yield Ot(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null},error:u});throw u}})}setSession(n){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return b(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new pa;const l=Date.now()/1e3;let r=l,u=!0,d=null;const{payload:m}=td(n.access_token);if(m.exp&&(r=m.exp,u=r<=l),u){const{data:y,error:g}=yield this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y)return{data:{user:null,session:null},error:null};d=y}else{const{data:y,error:g}=yield this._getUser(n.access_token);if(g)throw g;d={access_token:n.access_token,refresh_token:n.refresh_token,user:y.user,token_type:"bearer",expires_in:r-l,expires_at:r},yield this._saveSession(d),yield this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(l){if(ie(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}})}refreshSession(n){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r;if(!n){const{data:m,error:y}=l;if(y)throw y;n=(r=m.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new pa;const{data:u,error:d}=yield this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}_getSessionFromURL(n,l){return b(this,null,function*(){try{if(!Ct())throw new zo("No browser detected.");if(n.error||n.error_description||n.error_code)throw new zo(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new O0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zo("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new O0("No code detected.");const{data:K,error:V}=yield this._exchangeCodeForSession(n.code);if(V)throw V;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:K.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:u,access_token:d,refresh_token:m,expires_in:y,expires_at:g,token_type:p}=n;if(!d||!y||!m||!p)throw new zo("No session defined in URL");const _=Math.round(Date.now()/1e3),j=parseInt(y);let E=_+j;g&&(E=parseInt(g));const C=E-_;C*1e3<=Xi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${j}s`);const z=E-j;_-z>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",z,E,_):_-z<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",z,E,_);const{data:B,error:Q}=yield this._getUser(d);if(Q)throw Q;const q={provider_token:r,provider_refresh_token:u,access_token:d,expires_in:j,expires_at:E,refresh_token:m,token_type:p,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:q,redirectType:n.type},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}})}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}_isPKCECallback(n){return b(this,null,function*(){const l=yield Zs(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)})}signOut(){return b(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return b(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(l=>b(this,null,function*(){var r;const{data:u,error:d}=l;if(d)return this._returnResult({error:d});const m=(r=u.session)===null||r===void 0?void 0:r.access_token;if(m){const{error:y}=yield this.admin.signOut(m,n);if(y&&!(d_(y)&&(y.status===404||y.status===401||y.status===403)))return this._returnResult({error:y})}return n!=="others"&&(yield this._removeSession(),yield Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){const l=w_(),r={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),b(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){this._emitInitialSession(l)}))}),{data:{subscription:r}}}_emitInitialSession(n){return b(this,null,function*(){return yield this._useSession(l=>b(this,null,function*(){var r,u;try{const{data:{session:d},error:m}=l;if(m)throw m;yield(r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){yield(u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}}))})}resetPasswordForEmail(r){return b(this,arguments,function*(n,l={}){let u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Vi(this.storage,this.storageKey,!0));try{return yield de(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:u,code_challenge_method:d,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(m){if(yield Ot(this.storage,`${this.storageKey}-code-verifier`),ie(m))return this._returnResult({data:null,error:m});throw m}})}getUserIdentities(){return b(this,null,function*(){var n;try{const{data:l,error:r}=yield this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}})}linkIdentity(n){return b(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return b(this,null,function*(){var l;try{const{data:r,error:u}=yield this._useSession(d=>b(this,null,function*(){var m,y,g,p,_;const{data:j,error:E}=d;if(E)throw E;const C=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(m=n.options)===null||m===void 0?void 0:m.redirectTo,scopes:(y=n.options)===null||y===void 0?void 0:y.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return yield de(this.fetch,"GET",C,{headers:this.headers,jwt:(_=(p=j.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})}));if(u)throw u;return Ct()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:n.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ie(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}})}linkIdentityIdToken(n){return b(this,null,function*(){return yield this._useSession(l=>b(this,null,function*(){var r;try{const{error:u,data:{session:d}}=l;if(u)throw u;const{options:m,provider:y,token:g,access_token:p,nonce:_}=n,j=yield de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d==null?void 0:d.access_token)!==null&&r!==void 0?r:void 0,body:{provider:y,id_token:g,access_token:p,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:La}),{data:E,error:C}=j;return C?this._returnResult({data:{user:null,session:null},error:C}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Gi}):(E.session&&(yield this._saveSession(E.session),yield this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:C}))}catch(u){if(yield Ot(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}))})}unlinkIdentity(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r,u;const{data:d,error:m}=l;if(m)throw m;return yield de(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0})}))}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}})}_refreshAccessToken(n){return b(this,null,function*(){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return yield j_(u=>b(this,null,function*(){return u>0&&(yield E_(200*Math.pow(2,u-1))),this._debug(l,"refreshing attempt",u),yield de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:La})}),(u,d)=>{const m=200*Math.pow(2,u);return d&&ed(d)&&Date.now()+m-r<Xi})}catch(r){if(this._debug(l,"error",r),ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,l){return b(this,null,function*(){const r=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",r),Ct()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}})}_recoverAndRefresh(){return b(this,null,function*(){var n,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const u=yield Zs(this.storage,this.storageKey);if(u&&this.userStorage){let m=yield Zs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:u.user},yield Ji(this.userStorage,this.storageKey+"-user",m)),u.user=(n=m==null?void 0:m.user)!==null&&n!==void 0?n:ad()}else if(u&&!u.user&&!u.user){const m=yield Zs(this.storage,this.storageKey+"-user");m&&(m!=null&&m.user)?(u.user=m.user,yield Ot(this.storage,this.storageKey+"-user"),yield Ji(this.storage,this.storageKey,u)):u.user=ad()}if(this._debug(r,"session from storage",u),!this._isValidSession(u)){this._debug(r,"session is not valid"),u!==null&&(yield this._removeSession());return}const d=((l=u.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Fu;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${Fu}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:m}=yield this._callRefreshToken(u.refresh_token);m&&(console.error(m),ed(m)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",m),yield this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:y}=yield this._getUser(u.access_token);!y&&(m!=null&&m.user)?(u.user=m.user,yield this._saveSession(u),yield this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(r,"error getting user data, skipping SIGNED_IN notification",m)}else yield this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(r,"error",u),console.error(u);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return b(this,null,function*(){var l,r;if(!n)throw new pa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new $o;const{data:d,error:m}=yield this._refreshAccessToken(n);if(m)throw m;if(!d.session)throw new pa;yield this._saveSession(d.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const y={data:d.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(d){if(this._debug(u,"error",d),ie(d)){const m={data:null,error:d};return ed(d)||(yield this._removeSession()),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(m),m}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}})}_notifyAllSubscribers(n,l,r=!0){return b(this,null,function*(){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:l});const d=[],m=Array.from(this.stateChangeEmitters.values()).map(y=>b(this,null,function*(){try{yield y.callback(n,l)}catch(g){d.push(g)}}));if(yield Promise.all(m),d.length>0){for(let y=0;y<d.length;y+=1)console.error(d[y]);throw d[0]}}finally{this._debug(u,"end")}})}_saveSession(n){return b(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Ot(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},n),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&(yield Ji(this.userStorage,this.storageKey+"-user",{user:l.user}));const u=Object.assign({},l);delete u.user;const d=D0(u);yield Ji(this.storage,this.storageKey,d)}else{const u=D0(l);yield Ji(this.storage,this.storageKey,u)}})}_removeSession(){return b(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield Ot(this.storage,this.storageKey),yield Ot(this.storage,this.storageKey+"-code-verifier"),yield Ot(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ot(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(l){console.error("removing visibilitychange callback failed",l)}}_startAutoRefresh(){return b(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Xi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>b(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return b(this,null,function*(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return b(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return b(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return b(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>b(this,null,function*(){try{const n=Date.now();try{return yield this._useSession(l=>b(this,null,function*(){const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((r.expires_at*1e3-n)/Xi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Xi}ms, refresh threshold is ${gd} ticks`),u<=gd&&(yield this._callRefreshToken(r.refresh_token))}))}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof fg)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return b(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>b(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return b(this,null,function*(){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,l,r){return b(this,null,function*(){const u=[`provider=${encodeURIComponent(l)}`];if(r!=null&&r.redirectTo&&u.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&u.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,m]=yield Vi(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(m)}`});u.push(y.toString())}if(r!=null&&r.queryParams){const d=new URLSearchParams(r.queryParams);u.push(d.toString())}return r!=null&&r.skipBrowserRedirect&&u.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${u.join("&")}`})}_unenroll(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r;const{data:u,error:d}=l;return d?this._returnResult({data:null,error:d}):yield de(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token})}))}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}})}_enroll(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r,u;const{data:d,error:m}=l;if(m)return this._returnResult({data:null,error:m});const y=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=yield de(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&g.type==="totp"&&(!((u=g==null?void 0:g.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))}))}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}})}_verify(n){return b(this,null,function*(){return this._acquireLock(-1,()=>b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r;const{data:u,error:d}=l;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?t1(n.webauthn.credential_response):a1(n.webauthn.credential_response)})}:{code:n.code}),{data:y,error:g}=yield de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:m,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+y.expires_in},y)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",y),this._returnResult({data:y,error:g}))}))}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}))})}_challenge(n){return b(this,null,function*(){return this._acquireLock(-1,()=>b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r;const{data:u,error:d}=l;if(d)return this._returnResult({data:null,error:d});const m=yield de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});if(m.error)return m;const{data:y}=m;if(y.type!=="webauthn")return{data:y,error:null};switch(y.webauthn.type){case"create":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:F_(y.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:e1(y.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}))})}_challengeAndVerify(n){return b(this,null,function*(){const{data:l,error:r}=yield this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):yield this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})})}_listFactors(){return b(this,null,function*(){var n;const{data:{user:l},error:r}=yield this.getUser();if(r)return{data:null,error:r};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=l==null?void 0:l.factors)!==null&&n!==void 0?n:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}})}_getAuthenticatorAssuranceLevel(){return b(this,null,function*(){var n,l;const{data:{session:r},error:u}=yield this.getSession();if(u)return this._returnResult({data:null,error:u});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=td(r.access_token);let m=null;d.aal&&(m=d.aal);let y=m;((l=(n=r.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(y="aal2");const p=d.amr||[];return{data:{currentLevel:m,nextLevel:y,currentAuthenticationMethods:p},error:null}})}_getAuthorizationDetails(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?yield de(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new pa})}))}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}})}_approveAuthorization(n,l){return b(this,null,function*(){try{return yield this._useSession(r=>b(this,null,function*(){const{data:{session:u},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new pa});const m=yield de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&Ct()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(m.data.redirect_url),m}))}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}_denyAuthorization(n,l){return b(this,null,function*(){try{return yield this._useSession(r=>b(this,null,function*(){const{data:{session:u},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new pa});const m=yield de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&Ct()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(m.data.redirect_url),m}))}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}_listOAuthGrants(){return b(this,null,function*(){try{return yield this._useSession(n=>b(this,null,function*(){const{data:{session:l},error:r}=n;return r?this._returnResult({data:null,error:r}):l?yield de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new pa})}))}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?(yield de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pa})}))}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}})}fetchJwk(r){return b(this,arguments,function*(n,l={keys:[]}){let u=l.keys.find(g=>g.kid===n);if(u)return u;const d=Date.now();if(u=this.jwks.keys.find(g=>g.kid===n),u&&this.jwks_cached_at+c_>d)return u;const{data:m,error:y}=yield de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(y)throw y;return!m.keys||m.keys.length===0||(this.jwks=m,this.jwks_cached_at=d,u=m.keys.find(g=>g.kid===n),!u)?null:u})}getClaims(r){return b(this,arguments,function*(n,l={}){try{let u=n;if(!u){const{data:z,error:B}=yield this.getSession();if(B||!z.session)return this._returnResult({data:null,error:B});u=z.session.access_token}const{header:d,payload:m,signature:y,raw:{header:g,payload:p}}=td(u);l!=null&&l.allowExpired||R_(m.exp);const _=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(d.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!_){const{error:z}=yield this.getUser(u);if(z)throw z;return{data:{claims:m,header:d,signature:y},error:null}}const j=z_(d.alg),E=yield crypto.subtle.importKey("jwk",_,j,!0,["verify"]);if(!(yield crypto.subtle.verify(j,E,y,b_(`${g}.${p}`))))throw new pd("Invalid JWT signature");return{data:{claims:m,header:d,signature:y},error:null}}catch(u){if(ie(u))return this._returnResult({data:null,error:u});throw u}})}}lr.nextInstanceID={};const d1=lr,h1="2.89.0";let Fl="";typeof Deno!="undefined"?Fl="deno":typeof document!="undefined"?Fl="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?Fl="react-native":Fl="node";const f1={"X-Client-Info":`supabase-js-${Fl}/${h1}`},m1={headers:f1},g1={schema:"public"},y1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v1={};function rr(i){"@babel/helpers - typeof";return rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rr(i)}function p1(i,n){if(rr(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(rr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function b1(i){var n=p1(i,"string");return rr(n)=="symbol"?n:n+""}function _1(i,n,l){return(n=b1(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function G0(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),l.push.apply(l,r)}return l}function tt(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?G0(Object(l),!0).forEach(function(r){_1(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):G0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const w1=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),S1=()=>Headers,x1=(i,n,l)=>{const r=w1(l),u=S1();return(d,m)=>b(null,null,function*(){var y;const g=(y=yield n())!==null&&y!==void 0?y:i;let p=new u(m==null?void 0:m.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(d,tt(tt({},m),{},{headers:p}))})};function E1(i){return i.endsWith("/")?i:i+"/"}function j1(i,n){var l,r;const{db:u,auth:d,realtime:m,global:y}=i,{db:g,auth:p,realtime:_,global:j}=n,E={db:tt(tt({},g),u),auth:tt(tt({},p),d),realtime:tt(tt({},_),m),storage:{},global:tt(tt(tt({},j),y),{},{headers:tt(tt({},(l=j==null?void 0:j.headers)!==null&&l!==void 0?l:{}),(r=y==null?void 0:y.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>b(null,null,function*(){return""})};return i.accessToken?E.accessToken=i.accessToken:delete E.accessToken,E}function T1(i){const n=i==null?void 0:i.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(E1(n))}catch(l){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var N1=class extends d1{constructor(i){super(i)}},A1=class{constructor(i,n,l){var r,u;this.supabaseUrl=i,this.supabaseKey=n;const d=T1(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,y={db:g1,realtime:v1,auth:tt(tt({},y1),{},{storageKey:m}),global:m1},g=j1(l!=null?l:{},y);if(this.storageKey=(r=g.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=x1(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(tt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new rb(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new s_(this.storageUrl.href,this.headers,this.fetch,l==null?void 0:l.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new ab(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,l)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return b(this,null,function*(){var i=this,n,l;if(i.accessToken)return yield i.accessToken();const{data:r}=yield i.auth.getSession();return(n=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&n!==void 0?n:i.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:u,storageKey:d,flowType:m,lock:y,debug:g,throwOnError:p},_,j){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new N1({url:this.authUrl.href,headers:tt(tt({},E),_),storageKey:d,autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:u,flowType:m,lock:y,debug:g,throwOnError:p,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Eb(this.realtimeUrl.href,tt(tt({},i),{},{params:tt(tt({},{apikey:this.supabaseKey}),i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(i,n,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const k1=(i,n,l)=>new A1(i,n,l);function O1(){if(typeof window!="undefined"||typeof process=="undefined")return!1;const i=process.version;if(i==null)return!1;const n=i.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}O1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const C1="https://viyqhdvziizfvokmkrgb.supabase.co",R1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZpeXFoZHZ6aWl6ZnZva21rcmdiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1MjkxOTAsImV4cCI6MjA4MzEwNTE5MH0.NtWy9MPd1UIaL_nJcfp6JxhqbHE6lN2nUAYFmC2nyuM",at=k1(C1,R1);var Y0;const z1=(Y0=window.Telegram)==null?void 0:Y0.WebApp,U1=i=>b(null,null,function*(){if(!i.telegramId){console.warn(" Telegram ID,      .");return}const{error:n}=yield at.from("leaderboard").upsert({telegram_id:i.telegramId,username:i.username,avatar_url:i.avatarUrl,score:i.score,bonus_time:i.bonuses.time,bonus_hint:i.bonuses.hint,bonus_swap:i.bonuses.swap,bonus_wildcard:i.bonuses.wildcard,rare_words:i.rareWords,total_words:i.totalWords,high_score:i.highScore,days_played:i.daysPlayed,streak:i.streak,coins:i.coins,updated_at:new Date},{onConflict:"telegram_id"});n&&console.error(" Supabase:",n.message)}),D1=i=>b(null,null,function*(){var d,m,y,g;const n=parseInt(i.challengeId)||0,{data:l}=yield at.from("daily_scores").select("telegram_id").eq("telegram_id",i.telegramId).eq("challenge_id",n).single(),r={telegram_id:i.telegramId,username:i.username,avatar_url:i.avatarUrl,score:i.score,challenge_id:n,game_date:Uo(),bonus_time:(d=i.bonuses)==null?void 0:d.time,bonus_hint:(m=i.bonuses)==null?void 0:m.hint,bonus_swap:(y=i.bonuses)==null?void 0:y.swap,bonus_wildcard:(g=i.bonuses)==null?void 0:g.wildcard,level_scores:i.levelScores};let u;l?{error:u}=yield at.from("daily_scores").update(r).eq("telegram_id",i.telegramId).eq("challenge_id",n):{error:u}=yield at.from("daily_scores").insert(r),u&&console.error("   :",u.message)}),M1=(i,n)=>b(null,null,function*(){try{const{data:l,error:r}=yield at.from("daily_scores").select("*").eq("telegram_id",i).eq("challenge_id",n).single();if(r&&r.code!=="PGRST116")throw r;return l}catch(l){return console.error("   :",l),null}}),B1=i=>b(null,null,function*(){try{const{data:n,error:l}=yield at.from("leaderboard").select("*").eq("telegram_id",i).single();if(l){if(l.code==="PGRST116")return null;throw l}return n}catch(n){throw console.error("  :",n),n}}),L1=()=>b(null,null,function*(){try{const{data:i,error:n,count:l}=yield at.from("leaderboard").select("name:username, score, avatar_url, telegram_id",{count:"exact"}).order("score",{ascending:!1}).limit(10);if(n)throw n;return{players:i||[],count:l||0}}catch(i){return console.error("  :",i),{players:[],count:0}}}),q1=i=>b(null,null,function*(){try{const{data:n,error:l,count:r}=yield at.from("daily_scores").select("name:username, score, avatar_url, telegram_id",{count:"exact"}).eq("challenge_id",i).order("score",{ascending:!1}).limit(10);if(l)throw l;return{players:n||[],count:r||0}}catch(n){return console.error("   :",n),{players:[],count:0}}}),H1=i=>b(null,null,function*(){try{const n=(parseInt(i)-1).toString(),{data:l,error:r,count:u}=yield at.from("daily_scores").select("name:username, score, avatar_url, telegram_id",{count:"exact"}).eq("challenge_id",n).order("score",{ascending:!1}).limit(10);if(r)throw r;return{players:l||[],count:u||0}}catch(n){return console.error("    :",n),{players:[],count:0}}}),$1=i=>b(null,null,function*(){const{error:n}=yield at.from("feedback").insert({telegram_id:i.telegramId,username:i.username,message:i.message});n&&console.error("  :",n.message)}),G1=()=>b(null,null,function*(){const{data:i,error:n}=yield at.from("feedback").select("*").order("created_at",{ascending:!1});return n&&console.error("  :",n.message),i||[]}),V1=(i,n)=>b(null,null,function*(){const{error:l}=yield at.from("custom_words").insert({word:i.toLowerCase(),added_by:n});return l?(console.error("  :",l.message),!1):!0}),Y1=()=>b(null,null,function*(){const{data:i,error:n}=yield at.from("custom_words").select("word");return n&&console.error("  :",n.message),(i==null?void 0:i.map(l=>l.word))||[]}),K1=()=>b(null,null,function*(){const{data:i,error:n}=yield at.from("custom_words").select("*").order("created_at",{ascending:!1});return n&&console.error("   :",n.message),i||[]}),I1=i=>b(null,null,function*(){const{error:n}=yield at.from("custom_words").delete().eq("id",i);return n?(console.error("  :",n.message),!1):!0}),Q1=(i,n)=>b(null,null,function*(){const{error:l}=yield at.from("custom_words").update({word:n.toLowerCase()}).eq("id",i);return l?(console.error("  :",l.message),!1):!0}),X1=(i,n)=>b(null,null,function*(){const{error:l}=yield at.from("feedback").update({status:"replied",admin_reply:n}).eq("id",i);return l?(console.error("  :",l.message),!1):(console.log("   .    Supabase ."),!0)}),J1=i=>b(null,null,function*(){const{error:n}=yield at.from("feedback").update({status:"archived"}).eq("id",i);return n?(console.error(" :",n.message),!1):!0}),Z1=i=>b(null,null,function*(){const{error:n}=yield at.from("feedback").delete().eq("id",i);return n?(console.error(" :",n.message),!1):!0}),W1=i=>b(null,null,function*(){const{error:n}=yield at.from("broadcasts").insert({message:i,status:"pending"});return n?(console.error("  :",n.message),!1):!0}),P1=()=>b(null,null,function*(){const{data:i}=yield at.from("challenges").select("id, letters, end_time").order("id",{ascending:!1}).limit(1).single();return i?{id:i.id.toString(),letters:i.letters,endTime:i.end_time}:{id:"1",letters:null,endTime:null}}),F1=i=>b(null,null,function*(){try{const{data:n,error:l}=yield at.rpc("get_player_rank",{p_telegram_id:i});if(l)throw l;return typeof n=="number"?{rank:n}:Array.isArray(n)&&n.length>0?n[0]:null}catch(n){return console.error("   :",n),null}}),V0=document.getElementById("root");V0&&vv.createRoot(V0).render(h.jsx(cv.StrictMode,{children:h.jsx(Pp,{saveUserData:U1,saveDailyScore:D1,getUserData:B1,getActiveChallenge:P1,fetchUserRank:F1,getLeaderboard:L1,getDailyLeaderboard:q1,fetchPreviousDailyLeaderboard:H1,getUserDailyScore:M1,saveFeedback:$1,fetchFeedbacks:G1,addCustomWord:V1,fetchCustomWords:Y1,fetchAdminCustomWords:K1,deleteCustomWord:I1,updateCustomWord:Q1,sendFeedbackReply:X1,archiveFeedback:J1,deleteFeedback:Z1,sendBroadcast:W1,tg:z1})}))});export default ew();
