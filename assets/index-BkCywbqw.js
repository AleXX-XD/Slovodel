var sv=Object.defineProperty,iv=Object.defineProperties;var lv=Object.getOwnPropertyDescriptors;var Tc=Object.getOwnPropertySymbols,rv=Object.getPrototypeOf,s0=Object.prototype.hasOwnProperty,i0=Object.prototype.propertyIsEnumerable,cv=Reflect.get;var n0=(i,n,l)=>n in i?sv(i,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[n]=l,Ut=(i,n)=>{for(var l in n||(n={}))s0.call(n,l)&&n0(i,l,n[l]);if(Tc)for(var l of Tc(n))i0.call(n,l)&&n0(i,l,n[l]);return i},en=(i,n)=>iv(i,lv(n));var Ku=(i,n)=>{var l={};for(var r in i)s0.call(i,r)&&n.indexOf(r)<0&&(l[r]=i[r]);if(i!=null&&Tc)for(var r of Tc(i))n.indexOf(r)<0&&i0.call(i,r)&&(l[r]=i[r]);return l};var ov=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var aa=(i,n,l)=>cv(rv(i),l,n);var b=(i,n,l)=>new Promise((r,u)=>{var d=g=>{try{y(l.next(g))}catch(p){u(p)}},m=g=>{try{y(l.throw(g))}catch(p){u(p)}},y=g=>g.done?r(g.value):Promise.resolve(g.value).then(d,m);y((l=l.apply(i,n)).next())});var iw=ov(Ne=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function l(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(u){if(u.ep)return;u.ep=!0;const d=l(u);fetch(u.href,d)}})();function X0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Iu={exports:{}},ar={};var l0;function uv(){if(l0)return ar;l0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var y in u)y!=="key"&&(d[y]=u[y])}else d=u;return u=d.ref,{$$typeof:i,type:r,key:m,ref:u!==void 0?u:null,props:d}}return ar.Fragment=n,ar.jsx=l,ar.jsxs=l,ar}var r0;function dv(){return r0||(r0=1,Iu.exports=uv()),Iu.exports}var h=dv(),Ju={exports:{}},ve={};var c0;function hv(){if(c0)return ve;c0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.iterator;function C(S){return S===null||typeof S!="object"?null:(S=j&&S[j]||S["@@iterator"],typeof S=="function"?S:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Q={};function H(S,D,X){this.props=S,this.context=D,this.refs=Q,this.updater=X||U}H.prototype.isReactComponent={},H.prototype.setState=function(S,D){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,D,"setState")},H.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function J(){}J.prototype=H.prototype;function Y(S,D,X){this.props=S,this.context=D,this.refs=Q,this.updater=X||U}var ee=Y.prototype=new J;ee.constructor=Y,L(ee,H.prototype),ee.isPureReactComponent=!0;var fe=Array.isArray;function I(){}var M={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function me(S,D,X){var P=X.ref;return{$$typeof:i,type:S,key:D,ref:P!==void 0?P:null,props:X}}function F(S,D){return me(S.type,D,S.props)}function be(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function Qe(S){var D={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(X){return D[X]})}var Bt=/\/+/g;function it(S,D){return typeof S=="object"&&S!==null&&S.key!=null?Qe(""+S.key):D.toString(36)}function gt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(I,I):(S.status="pending",S.then(function(D){S.status==="pending"&&(S.status="fulfilled",S.value=D)},function(D){S.status==="pending"&&(S.status="rejected",S.reason=D)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function z(S,D,X,P,ue){var ye=typeof S;(ye==="undefined"||ye==="boolean")&&(S=null);var xe=!1;if(S===null)xe=!0;else switch(ye){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(S.$$typeof){case i:case n:xe=!0;break;case _:return xe=S._init,z(xe(S._payload),D,X,P,ue)}}if(xe)return ue=ue(S),xe=P===""?"."+it(S,0):P,fe(ue)?(X="",xe!=null&&(X=xe.replace(Bt,"$&/")+"/"),z(ue,D,X,"",function(Lt){return Lt})):ue!=null&&(be(ue)&&(ue=F(ue,X+(ue.key==null||S&&S.key===ue.key?"":(""+ue.key).replace(Bt,"$&/")+"/")+xe)),D.push(ue)),1;xe=0;var lt=P===""?".":P+":";if(fe(S))for(var qe=0;qe<S.length;qe++)P=S[qe],ye=lt+it(P,qe),xe+=z(P,D,X,ye,ue);else if(qe=C(S),typeof qe=="function")for(S=qe.call(S),qe=0;!(P=S.next()).done;)P=P.value,ye=lt+it(P,qe++),xe+=z(P,D,X,ye,ue);else if(ye==="object"){if(typeof S.then=="function")return z(gt(S),D,X,P,ue);throw D=String(S),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return xe}function W(S,D,X){if(S==null)return S;var P=[],ue=0;return z(S,P,"","",function(ye){return D.call(X,ye,ue++)}),P}function re(S){if(S._status===-1){var D=S._result;D=D(),D.then(function(X){(S._status===0||S._status===-1)&&(S._status=1,S._result=X)},function(X){(S._status===0||S._status===-1)&&(S._status=2,S._result=X)}),S._status===-1&&(S._status=0,S._result=D)}if(S._status===1)return S._result.default;throw S._result}var Ae=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},_e={map:W,forEach:function(S,D,X){W(S,function(){D.apply(this,arguments)},X)},count:function(S){var D=0;return W(S,function(){D++}),D},toArray:function(S){return W(S,function(D){return D})||[]},only:function(S){if(!be(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ve.Activity=N,ve.Children=_e,ve.Component=H,ve.Fragment=l,ve.Profiler=u,ve.PureComponent=Y,ve.StrictMode=r,ve.Suspense=g,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,ve.__COMPILER_RUNTIME={__proto__:null,c:function(S){return M.H.useMemoCache(S)}},ve.cache=function(S){return function(){return S.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(S,D,X){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var P=L({},S.props),ue=S.key;if(D!=null)for(ye in D.key!==void 0&&(ue=""+D.key),D)!Te.call(D,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&D.ref===void 0||(P[ye]=D[ye]);var ye=arguments.length-2;if(ye===1)P.children=X;else if(1<ye){for(var xe=Array(ye),lt=0;lt<ye;lt++)xe[lt]=arguments[lt+2];P.children=xe}return me(S.type,ue,P)},ve.createContext=function(S){return S={$$typeof:m,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:d,_context:S},S},ve.createElement=function(S,D,X){var P,ue={},ye=null;if(D!=null)for(P in D.key!==void 0&&(ye=""+D.key),D)Te.call(D,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(ue[P]=D[P]);var xe=arguments.length-2;if(xe===1)ue.children=X;else if(1<xe){for(var lt=Array(xe),qe=0;qe<xe;qe++)lt[qe]=arguments[qe+2];ue.children=lt}if(S&&S.defaultProps)for(P in xe=S.defaultProps,xe)ue[P]===void 0&&(ue[P]=xe[P]);return me(S,ye,ue)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(S){return{$$typeof:y,render:S}},ve.isValidElement=be,ve.lazy=function(S){return{$$typeof:_,_payload:{_status:-1,_result:S},_init:re}},ve.memo=function(S,D){return{$$typeof:p,type:S,compare:D===void 0?null:D}},ve.startTransition=function(S){var D=M.T,X={};M.T=X;try{var P=S(),ue=M.S;ue!==null&&ue(X,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(I,Ae)}catch(ye){Ae(ye)}finally{D!==null&&X.types!==null&&(D.types=X.types),M.T=D}},ve.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},ve.use=function(S){return M.H.use(S)},ve.useActionState=function(S,D,X){return M.H.useActionState(S,D,X)},ve.useCallback=function(S,D){return M.H.useCallback(S,D)},ve.useContext=function(S){return M.H.useContext(S)},ve.useDebugValue=function(){},ve.useDeferredValue=function(S,D){return M.H.useDeferredValue(S,D)},ve.useEffect=function(S,D){return M.H.useEffect(S,D)},ve.useEffectEvent=function(S){return M.H.useEffectEvent(S)},ve.useId=function(){return M.H.useId()},ve.useImperativeHandle=function(S,D,X){return M.H.useImperativeHandle(S,D,X)},ve.useInsertionEffect=function(S,D){return M.H.useInsertionEffect(S,D)},ve.useLayoutEffect=function(S,D){return M.H.useLayoutEffect(S,D)},ve.useMemo=function(S,D){return M.H.useMemo(S,D)},ve.useOptimistic=function(S,D){return M.H.useOptimistic(S,D)},ve.useReducer=function(S,D,X){return M.H.useReducer(S,D,X)},ve.useRef=function(S){return M.H.useRef(S)},ve.useState=function(S){return M.H.useState(S)},ve.useSyncExternalStore=function(S,D,X){return M.H.useSyncExternalStore(S,D,X)},ve.useTransition=function(){return M.H.useTransition()},ve.version="19.2.3",ve}var o0;function Sd(){return o0||(o0=1,Ju.exports=hv()),Ju.exports}var $=Sd();const fv=X0($);var Qu={exports:{}},nr={},Xu={exports:{}},Zu={};var u0;function mv(){return u0||(u0=1,(function(i){function n(z,W){var re=z.length;z.push(W);e:for(;0<re;){var Ae=re-1>>>1,_e=z[Ae];if(0<u(_e,W))z[Ae]=W,z[re]=_e,re=Ae;else break e}}function l(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],re=z.pop();if(re!==W){z[0]=re;e:for(var Ae=0,_e=z.length,S=_e>>>1;Ae<S;){var D=2*(Ae+1)-1,X=z[D],P=D+1,ue=z[P];if(0>u(X,re))P<_e&&0>u(ue,X)?(z[Ae]=ue,z[P]=re,Ae=P):(z[Ae]=X,z[D]=re,Ae=D);else if(P<_e&&0>u(ue,re))z[Ae]=ue,z[P]=re,Ae=P;else break e}}return W}function u(z,W){var re=z.sortIndex-W.sortIndex;return re!==0?re:z.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,y=m.now();i.unstable_now=function(){return m.now()-y}}var g=[],p=[],_=1,N=null,j=3,C=!1,U=!1,L=!1,Q=!1,H=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate!="undefined"?setImmediate:null;function ee(z){for(var W=l(p);W!==null;){if(W.callback===null)r(p);else if(W.startTime<=z)r(p),W.sortIndex=W.expirationTime,n(g,W);else break;W=l(p)}}function fe(z){if(L=!1,ee(z),!U)if(l(g)!==null)U=!0,I||(I=!0,Qe());else{var W=l(p);W!==null&&gt(fe,W.startTime-z)}}var I=!1,M=-1,Te=5,me=-1;function F(){return Q?!0:!(i.unstable_now()-me<Te)}function be(){if(Q=!1,I){var z=i.unstable_now();me=z;var W=!0;try{e:{U=!1,L&&(L=!1,J(M),M=-1),C=!0;var re=j;try{t:{for(ee(z),N=l(g);N!==null&&!(N.expirationTime>z&&F());){var Ae=N.callback;if(typeof Ae=="function"){N.callback=null,j=N.priorityLevel;var _e=Ae(N.expirationTime<=z);if(z=i.unstable_now(),typeof _e=="function"){N.callback=_e,ee(z),W=!0;break t}N===l(g)&&r(g),ee(z)}else r(g);N=l(g)}if(N!==null)W=!0;else{var S=l(p);S!==null&&gt(fe,S.startTime-z),W=!1}}break e}finally{N=null,j=re,C=!1}W=void 0}}finally{W?Qe():I=!1}}}var Qe;if(typeof Y=="function")Qe=function(){Y(be)};else if(typeof MessageChannel!="undefined"){var Bt=new MessageChannel,it=Bt.port2;Bt.port1.onmessage=be,Qe=function(){it.postMessage(null)}}else Qe=function(){H(be,0)};function gt(z,W){M=H(function(){z(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_next=function(z){switch(j){case 1:case 2:case 3:var W=3;break;default:W=j}var re=j;j=W;try{return z()}finally{j=re}},i.unstable_requestPaint=function(){Q=!0},i.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=j;j=z;try{return W()}finally{j=re}},i.unstable_scheduleCallback=function(z,W,re){var Ae=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ae+re:Ae):re=Ae,z){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=re+_e,z={id:_++,callback:W,priorityLevel:z,startTime:re,expirationTime:_e,sortIndex:-1},re>Ae?(z.sortIndex=re,n(p,z),l(g)===null&&z===l(p)&&(L?(J(M),M=-1):L=!0,gt(fe,re-Ae))):(z.sortIndex=_e,n(g,z),U||C||(U=!0,I||(I=!0,Qe()))),z},i.unstable_shouldYield=F,i.unstable_wrapCallback=function(z){var W=j;return function(){var re=j;j=W;try{return z.apply(this,arguments)}finally{j=re}}}})(Zu)),Zu}var d0;function gv(){return d0||(d0=1,Xu.exports=mv()),Xu.exports}var Wu={exports:{}},Mt={};var h0;function yv(){if(h0)return Mt;h0=1;var i=Sd();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(g,p,_){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:N==null?null:""+N,children:g,containerInfo:p,implementation:_}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mt.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return d(g,p,null,_)},Mt.flushSync=function(g){var p=m.T,_=r.p;try{if(m.T=null,r.p=2,g)return g()}finally{m.T=p,r.p=_,r.d.f()}},Mt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Mt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Mt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,N=y(_,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:N,integrity:j,fetchPriority:C}):_==="script"&&r.d.X(g,{crossOrigin:N,integrity:j,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=y(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Mt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,N=y(_,p.crossOrigin);r.d.L(g,_,{crossOrigin:N,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mt.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=y(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Mt.requestFormReset=function(g){r.d.r(g)},Mt.unstable_batchedUpdates=function(g,p){return g(p)},Mt.useFormState=function(g,p,_){return m.H.useFormState(g,p,_)},Mt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Mt.version="19.2.3",Mt}var f0;function vv(){if(f0)return Wu.exports;f0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Wu.exports=yv(),Wu.exports}var m0;function pv(){if(m0)return nr;m0=1;var i=gv(),n=Sd(),l=vv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,s=t;;){var c=a.return;if(c===null)break;var o=c.alternate;if(o===null){if(s=c.return,s!==null){a=s;continue}break}if(c.child===o.child){for(o=c.child;o;){if(o===a)return g(c),e;if(o===s)return g(c),t;o=o.sibling}throw Error(r(188))}if(a.return!==s.return)a=c,s=o;else{for(var f=!1,v=c.child;v;){if(v===a){f=!0,a=c,s=o;break}if(v===s){f=!0,s=c,a=o;break}v=v.sibling}if(!f){for(v=o.child;v;){if(v===a){f=!0,a=o,s=c;break}if(v===s){f=!0,s=o,a=c;break}v=v.sibling}if(!f)throw Error(r(189))}}if(a.alternate!==s)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var N=Object.assign,j=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function Qe(e){return e===null||typeof e!="object"?null:(e=be&&e[be]||e["@@iterator"],typeof e=="function"?e:null)}var Bt=Symbol.for("react.client.reference");function it(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Bt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case H:return"Profiler";case Q:return"StrictMode";case fe:return"Suspense";case I:return"SuspenseList";case me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case Y:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return t=e.displayName||null,t!==null?t:it(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return it(e(t))}catch(a){}}return null}var gt=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ae=[],_e=-1;function S(e){return{current:e}}function D(e){0>_e||(e.current=Ae[_e],Ae[_e]=null,_e--)}function X(e,t){_e++,Ae[_e]=e.current,e.current=t}var P=S(null),ue=S(null),ye=S(null),xe=S(null);function lt(e,t){switch(X(ye,t),X(ue,e),X(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nm(t),e=Tm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(P),X(P,e)}function qe(){D(P),D(ue),D(ye)}function Lt(e){e.memoizedState!==null&&X(xe,e);var t=P.current,a=Tm(t,e.type);t!==a&&(X(ue,e),X(P,a))}function na(e){ue.current===e&&(D(P),D(ue)),xe.current===e&&(D(xe),Pl._currentValue=re)}var an,nn;function za(e){if(an===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);an=t&&t[1]||"",nn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+e+nn}var sn=!1;function ln(e,t){if(!e||sn)return"";sn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(R){var O=R}Reflect.construct(e,[],G)}else{try{G.call()}catch(R){O=R}e.call(G.prototype)}}else{try{throw Error()}catch(R){O=R}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(R){if(R&&O&&typeof R.stack=="string")return[R.stack,O.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=s.DetermineComponentFrameRoot(),f=o[0],v=o[1];if(f&&v){var w=f.split(`
`),k=v.split(`
`);for(c=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(s===w.length||c===k.length)for(s=w.length-1,c=k.length-1;1<=s&&0<=c&&w[s]!==k[c];)c--;for(;1<=s&&0<=c;s--,c--)if(w[s]!==k[c]){if(s!==1||c!==1)do if(s--,c--,0>c||w[s]!==k[c]){var B=`
`+w[s].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=s&&0<=c);break}}}finally{sn=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?za(a):""}function qn(e,t){switch(e.tag){case 26:case 27:case 5:return za(e.type);case 16:return za("Lazy");case 13:return e.child!==t&&t!==null?za("Suspense Fallback"):za("Suspense");case 19:return za("SuspenseList");case 0:case 15:return ln(e.type,!1);case 11:return ln(e.type.render,!1);case 1:return ln(e.type,!0);case 31:return za("Activity");default:return""}}function Z(e){try{var t="",a=null;do t+=qn(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ye=Object.prototype.hasOwnProperty,ot=i.unstable_scheduleCallback,Hn=i.unstable_cancelCallback,bs=i.unstable_shouldYield,_s=i.unstable_requestPaint,Nt=i.unstable_now,yr=i.unstable_getCurrentPriorityLevel,vr=i.unstable_ImmediatePriority,Da=i.unstable_UserBlockingPriority,Fs=i.unstable_NormalPriority,sl=i.unstable_LowPriority,il=i.unstable_IdlePriority,pr=i.log,Gc=i.unstable_setDisableYieldValue,Jt=null,qt=null;function sa(e){if(typeof pr=="function"&&Gc(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Jt,e)}catch(t){}}var yt=Math.clz32?Math.clz32:Yc,Vc=Math.log,$n=Math.LN2;function Yc(e){return e>>>=0,e===0?32:31-(Vc(e)/$n|0)|0}var Ka=256,ei=262144,Ht=4194304;function vt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gn(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var c=0,o=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~o,s!==0?c=vt(s):(f&=v,f!==0?c=vt(f):a||(a=v&~e,a!==0&&(c=vt(a))))):(v=s&~o,v!==0?c=vt(v):f!==0?c=vt(f):a||(a=s&~e,a!==0&&(c=vt(a)))),c===0?0:t!==0&&t!==c&&(t&o)===0&&(o=c&-c,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:c}function $t(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function br(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rn(){var e=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),e}function ws(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ia(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ss(e,t,a,s,c,o){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(a=f&~a;0<a;){var B=31-yt(a),G=1<<B;v[B]=0,w[B]=-1;var O=k[B];if(O!==null)for(k[B]=null,B=0;B<O.length;B++){var R=O[B];R!==null&&(R.lane&=-536870913)}a&=~G}s!==0&&Ua(e,s,0),o!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=o&~(f&~t))}function Ua(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-yt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function ti(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-yt(a),c=1<<s;c&t|e[s]&t&&(e[s]|=t),a&=~c}}function xs(e,t){var a=t&-t;return a=(a&42)!==0?1:ll(a),(a&(e.suspendedLanes|t))!==0?0:a}function ll(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function js(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rl(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:Zm(e.type))}function Gt(e,t){var a=W.p;try{return W.p=e,t()}finally{W.p=a}}var la=Math.random().toString(36).slice(2),We="__reactFiber$"+la,wt="__reactProps$"+la,Vn="__reactContainer$"+la,ai="__reactEvents$"+la,Kc="__reactListeners$"+la,Ic="__reactHandles$"+la,Vt="__reactResources$"+la,cn="__reactMarker$"+la;function cl(e){delete e[We],delete e[wt],delete e[ai],delete e[Kc],delete e[Ic]}function on(e){var t=e[We];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Vn]||a[We]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Dm(e);e!==null;){if(a=e[We])return a;e=Dm(e)}return t}e=a,a=e.parentNode}return null}function St(e){if(e=e[We]||e[Vn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function un(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function xt(e){var t=e[Vt];return t||(t=e[Vt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[cn]=!0}var ni=new Set,Yn={};function et(e,t){dn(e,t),dn(e+"Capture",t)}function dn(e,t){for(Yn[e]=t,e=0;e<t.length;e++)ni.add(t[e])}var Jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},Ia={};function ol(e){return Ye.call(Ia,e)?!0:Ye.call(tt,e)?!1:Jc.test(e)?Ia[e]=!0:(tt[e]=!0,!1)}function Kn(e,t,a){if(ol(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function xa(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Qt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ja(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _r(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s!="undefined"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(f){a=""+f,o.call(this,f)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ul(e){if(!e._valueTracker){var t=Ja(e)?"checked":"value";e._valueTracker=_r(e,t,""+e[t])}}function si(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Ja(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function zt(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}var Ma=/[\n"\\]/g;function Xe(e){return e.replace(Ma,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ra(e,t,a,s,c,o,f,v){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?ca(e,f,Yt(t)):a!=null?ca(e,f,Yt(a)):s!=null&&e.removeAttribute("value"),c==null&&o!=null&&(e.defaultChecked=!!o),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Yt(v):e.removeAttribute("name")}function Xt(e,t,a,s,c,o,f,v){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){ul(e);return}a=a!=null?""+Yt(a):"",t=t!=null?""+Yt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}s=s!=null?s:c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),ul(e)}function ca(e,t,a){t==="number"&&zt(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function jt(e,t,a,s){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Yt(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function ja(e,t,a){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Yt(a):""}function hn(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(r(92));if(gt(s)){if(1<s.length)throw Error(r(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Yt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),ul(e)}function fn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ii=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mn(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||ii.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function In(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&a[c]!==s&&mn(e,c,s)}else for(var o in t)t.hasOwnProperty(o)&&mn(e,o,t[o])}function gn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yn(e){return Ns.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oa(){}var Ts=null;function Kt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,Jn=null;function vn(e){var t=St(e);if(t&&(e=t.stateNode)){var a=e[wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ra(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xe(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var c=s[wt]||null;if(!c)throw Error(r(90));ra(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&si(s)}break e;case"textarea":ja(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&jt(e,!!a.multiple,t,!1)}}}var dl=!1;function hl(e,t,a){if(dl)return e(t,a);dl=!0;try{var s=e(t);return s}finally{if(dl=!1,(Ba!==null||Jn!==null)&&(ic(),Ba&&(t=Ba,e=Jn,Jn=Ba=null,vn(t),e)))for(t=0;t<e.length;t++)vn(e[t])}}function pn(e,t){var a=e.stateNode;if(a===null)return null;var s=a[wt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ce=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),As=!1;if(ce)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){As=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch(e){As=!1}var La=null,fl=null,li=null;function ml(){if(li)return li;var e,t=fl,a=t.length,s,c="value"in La?La.value:La.textContent,o=c.length;for(e=0;e<a&&t[e]===c[e];e++);var f=a-e;for(s=1;s<=f&&t[a-s]===c[o-s];s++);return li=c.slice(e,1<s?1-s:void 0)}function ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function wr(){return!1}function Dt(e){function t(a,s,c,o,f){this._reactName=a,this._targetInst=c,this.type=s,this.nativeEvent=o,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(o):o[v]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ci:wr,this.isPropagationStopped=wr,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=Dt(bn),Os=N({},bn,{view:0,detail:0}),Qc=Dt(Os),gl,yl,_n,ui=N({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_n&&(_n&&e.type==="mousemove"?(gl=e.screenX-_n.screenX,yl=e.screenY-_n.screenY):yl=gl=0,_n=e),gl)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),di=Dt(ui),vl=N({},ui,{dataTransfer:0}),Sr=Dt(vl),xr=N({},Os,{relatedTarget:0}),hi=Dt(xr),E=N({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),K=Dt(E),V=N({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ae=Dt(V),ge=N({},bn,{data:0}),ie=Dt(ge),ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ce={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ua={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ua[e])?!!t[e]:!1}function wn(){return Qa}var da=N({},Os,{key:function(e){if(e.key){var t=ze[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ce[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return e.type==="keypress"?ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zt=Dt(da),ha=N({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xa=Dt(ha),fi=N({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn}),pl=Dt(fi),Xc=N({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),wg=Dt(Xc),Sg=N({},ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xg=Dt(Sg),jg=N({},bn,{newState:0,oldState:0}),Eg=Dt(jg),Ng=[9,13,27,32],Zc=ce&&"CompositionEvent"in window,bl=null;ce&&"documentMode"in document&&(bl=document.documentMode);var Tg=ce&&"TextEvent"in window&&!bl,Cd=ce&&(!Zc||bl&&8<bl&&11>=bl),Rd=" ",zd=!1;function Dd(e,t){switch(e){case"keyup":return Ng.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mi=!1;function Ag(e,t){switch(e){case"compositionend":return Ud(t);case"keypress":return t.which!==32?null:(zd=!0,Rd);case"textInput":return e=t.data,e===Rd&&zd?null:e;default:return null}}function kg(e,t){if(mi)return e==="compositionend"||!Zc&&Dd(e,t)?(e=ml(),li=fl=La=null,mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cd&&t.locale!=="ko"?null:t.data;default:return null}}var Og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Og[e.type]:t==="textarea"}function Bd(e,t,a,s){Ba?Jn?Jn.push(s):Jn=[s]:Ba=s,t=hc(t,"onChange"),0<t.length&&(a=new oi("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var _l=null,wl=null;function Cg(e){_m(e,0)}function jr(e){var t=un(e);if(si(t))return e}function Ld(e,t){if(e==="change")return t}var qd=!1;if(ce){var Wc;if(ce){var Pc="oninput"in document;if(!Pc){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Pc=typeof Hd.oninput=="function"}Wc=Pc}else Wc=!1;qd=Wc&&(!document.documentMode||9<document.documentMode)}function $d(){_l&&(_l.detachEvent("onpropertychange",Gd),wl=_l=null)}function Gd(e){if(e.propertyName==="value"&&jr(wl)){var t=[];Bd(t,wl,e,Kt(e)),hl(Cg,t)}}function Rg(e,t,a){e==="focusin"?($d(),_l=t,wl=a,_l.attachEvent("onpropertychange",Gd)):e==="focusout"&&$d()}function zg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jr(wl)}function Dg(e,t){if(e==="click")return jr(t)}function Ug(e,t){if(e==="input"||e==="change")return jr(t)}function Mg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fa=typeof Object.is=="function"?Object.is:Mg;function Sl(e,t){if(fa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var c=a[s];if(!Ye.call(t,c)||!fa(e[c],t[c]))return!1}return!0}function Vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yd(e,t){var a=Vd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vd(a)}}function Kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Id(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zt(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch(s){a=!1}if(a)e=t.contentWindow;else break;t=zt(e.document)}return t}function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Bg=ce&&"documentMode"in document&&11>=document.documentMode,gi=null,eo=null,xl=null,to=!1;function Jd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;to||gi==null||gi!==zt(s)||(s=gi,"selectionStart"in s&&Fc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xl&&Sl(xl,s)||(xl=s,s=hc(eo,"onSelect"),0<s.length&&(t=new oi("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=gi)))}function Cs(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var yi={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},ao={},Qd={};ce&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function Rs(e){if(ao[e])return ao[e];if(!yi[e])return e;var t=yi[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Qd)return ao[e]=t[a];return e}var Xd=Rs("animationend"),Zd=Rs("animationiteration"),Wd=Rs("animationstart"),Lg=Rs("transitionrun"),qg=Rs("transitionstart"),Hg=Rs("transitioncancel"),Pd=Rs("transitionend"),Fd=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function qa(e,t){Fd.set(e,t),et(t,[e])}var Er=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ea=[],vi=0,so=0;function Nr(){for(var e=vi,t=so=vi=0;t<e;){var a=Ea[t];Ea[t++]=null;var s=Ea[t];Ea[t++]=null;var c=Ea[t];Ea[t++]=null;var o=Ea[t];if(Ea[t++]=null,s!==null&&c!==null){var f=s.pending;f===null?c.next=c:(c.next=f.next,f.next=c),s.pending=c}o!==0&&eh(a,c,o)}}function Tr(e,t,a,s){Ea[vi++]=e,Ea[vi++]=t,Ea[vi++]=a,Ea[vi++]=s,so|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function io(e,t,a,s){return Tr(e,t,a,s),Ar(e)}function zs(e,t){return Tr(e,null,null,t),Ar(e)}function eh(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var c=!1,o=e.return;o!==null;)o.childLanes|=a,s=o.alternate,s!==null&&(s.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(c=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,c&&t!==null&&(c=31-yt(a),e=o.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=a|536870912),o):null}function Ar(e){if(50<Kl)throw Kl=0,gu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pi={};function $g(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(e,t,a,s){return new $g(e,t,a,s)}function lo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sn(e,t){var a=e.alternate;return a===null?(a=ma(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function th(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function kr(e,t,a,s,c,o){var f=0;if(s=e,typeof e=="function")lo(e)&&(f=1);else if(typeof e=="string")f=Iy(e,a,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case me:return e=ma(31,a,t,c),e.elementType=me,e.lanes=o,e;case L:return Ds(a.children,c,o,t);case Q:f=8,c|=24;break;case H:return e=ma(12,a,t,c|2),e.elementType=H,e.lanes=o,e;case fe:return e=ma(13,a,t,c),e.elementType=fe,e.lanes=o,e;case I:return e=ma(19,a,t,c),e.elementType=I,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:f=10;break e;case J:f=9;break e;case ee:f=11;break e;case M:f=14;break e;case Te:f=16,s=null;break e}f=29,a=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=ma(f,a,t,c),t.elementType=e,t.type=s,t.lanes=o,t}function Ds(e,t,a,s){return e=ma(7,e,s,t),e.lanes=a,e}function ro(e,t,a){return e=ma(6,e,null,t),e.lanes=a,e}function ah(e){var t=ma(18,null,null,0);return t.stateNode=e,t}function co(e,t,a){return t=ma(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var nh=new WeakMap;function Na(e,t){if(typeof e=="object"&&e!==null){var a=nh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Z(t)},nh.set(e,t),t)}return{value:e,source:t,stack:Z(t)}}var bi=[],_i=0,Or=null,jl=0,Ta=[],Aa=0,Qn=null,Za=1,Wa="";function xn(e,t){bi[_i++]=jl,bi[_i++]=Or,Or=e,jl=t}function sh(e,t,a){Ta[Aa++]=Za,Ta[Aa++]=Wa,Ta[Aa++]=Qn,Qn=e;var s=Za;e=Wa;var c=32-yt(s)-1;s&=~(1<<c),a+=1;var o=32-yt(t)+c;if(30<o){var f=c-c%5;o=(s&(1<<f)-1).toString(32),s>>=f,c-=f,Za=1<<32-yt(t)+c|a<<c|s,Wa=o+e}else Za=1<<o|a<<c|s,Wa=e}function oo(e){e.return!==null&&(xn(e,1),sh(e,1,0))}function uo(e){for(;e===Or;)Or=bi[--_i],bi[_i]=null,jl=bi[--_i],bi[_i]=null;for(;e===Qn;)Qn=Ta[--Aa],Ta[Aa]=null,Wa=Ta[--Aa],Ta[Aa]=null,Za=Ta[--Aa],Ta[Aa]=null}function ih(e,t){Ta[Aa++]=Za,Ta[Aa++]=Wa,Ta[Aa++]=Qn,Za=t.id,Wa=t.overflow,Qn=e}var Tt=null,Ie=null,Re=!1,Xn=null,ka=!1,ho=Error(r(519));function Zn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw El(Na(t,e)),ho}function lh(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[We]=e,t[wt]=s,a){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Ee(Jl[a],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Xt(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),hn(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||jm(t.textContent,a)?(s.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),s.onScroll!=null&&Ee("scroll",t),s.onScrollEnd!=null&&Ee("scrollend",t),s.onClick!=null&&(t.onclick=oa),t=!0):t=!1,t||Zn(e,!0)}function rh(e){for(Tt=e.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:ka=!1;return;case 27:case 3:ka=!0;return;default:Tt=Tt.return}}function wi(e){if(e!==Tt)return!1;if(!Re)return rh(e),Re=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ou(e.type,e.memoizedProps)),a=!a),a&&Ie&&Zn(e),rh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=zm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=zm(e)}else t===27?(t=Ie,us(e.type)?(e=Uu,Uu=null,Ie=e):Ie=t):Ie=Tt?Ca(e.stateNode.nextSibling):null;return!0}function Us(){Ie=Tt=null,Re=!1}function fo(){var e=Xn;return e!==null&&(ea===null?ea=e:ea.push.apply(ea,e),Xn=null),e}function El(e){Xn===null?Xn=[e]:Xn.push(e)}var mo=S(null),Ms=null,jn=null;function Wn(e,t,a){X(mo,t._currentValue),t._currentValue=a}function En(e){e._currentValue=mo.current,D(mo)}function go(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function yo(e,t,a,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var o=c.dependencies;if(o!==null){var f=c.child;o=o.firstContext;e:for(;o!==null;){var v=o;o=c;for(var w=0;w<t.length;w++)if(v.context===t[w]){o.lanes|=a,v=o.alternate,v!==null&&(v.lanes|=a),go(o.return,a,e),s||(f=null);break e}o=v.next}}else if(c.tag===18){if(f=c.return,f===null)throw Error(r(341));f.lanes|=a,o=f.alternate,o!==null&&(o.lanes|=a),go(f,a,e),f=null}else f=c.child;if(f!==null)f.return=c;else for(f=c;f!==null;){if(f===e){f=null;break}if(c=f.sibling,c!==null){c.return=f.return,f=c;break}f=f.return}c=f}}function Si(e,t,a,s){e=null;for(var c=t,o=!1;c!==null;){if(!o){if((c.flags&524288)!==0)o=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var f=c.alternate;if(f===null)throw Error(r(387));if(f=f.memoizedProps,f!==null){var v=c.type;fa(c.pendingProps.value,f.value)||(e!==null?e.push(v):e=[v])}}else if(c===xe.current){if(f=c.alternate,f===null)throw Error(r(387));f.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Pl):e=[Pl])}c=c.return}e!==null&&yo(t,e,a,s),t.flags|=262144}function Cr(e){for(e=e.firstContext;e!==null;){if(!fa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bs(e){Ms=e,jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return ch(Ms,e)}function Rr(e,t){return Ms===null&&Bs(e),ch(e,t)}function ch(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},jn===null){if(e===null)throw Error(r(308));jn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jn=jn.next=t;return a}var Gg=typeof AbortController!="undefined"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Vg=i.unstable_scheduleCallback,Yg=i.unstable_NormalPriority,ut={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vo(){return{controller:new Gg,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&Vg(Yg,function(){e.controller.abort()})}var Tl=null,po=0,xi=0,ji=null;function Kg(e,t){if(Tl===null){var a=Tl=[];po=0,xi=wu(),ji={status:"pending",value:void 0,then:function(s){a.push(s)}}}return po++,t.then(oh,oh),t}function oh(){if(--po===0&&Tl!==null){ji!==null&&(ji.status="fulfilled");var e=Tl;Tl=null,xi=0,ji=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ig(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),s}var uh=z.S;z.S=function(e,t){Qf=Nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Kg(e,t),uh!==null&&uh(e,t)};var Ls=S(null);function bo(){var e=Ls.current;return e!==null?e:Ve.pooledCache}function zr(e,t){t===null?X(Ls,Ls.current):X(Ls,t.pool)}function dh(){var e=bo();return e===null?null:{parent:ut._currentValue,pool:e}}var Ei=Error(r(460)),_o=Error(r(474)),Dr=Error(r(542)),Ur={then:function(){}};function hh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(oa,oa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gh(e),e;default:if(typeof t.status=="string")t.then(oa,oa);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gh(e),e}throw Hs=t,Ei}}function qs(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,Ei):a}}var Hs=null;function mh(){if(Hs===null)throw Error(r(459));var e=Hs;return Hs=null,e}function gh(e){if(e===Ei||e===Dr)throw Error(r(483))}var Ni=null,Al=0;function Mr(e){var t=Al;return Al+=1,Ni===null&&(Ni=[]),fh(Ni,e,t)}function kl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Br(e,t){throw t.$$typeof===j?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yh(e){function t(T,x){if(e){var A=T.deletions;A===null?(T.deletions=[x],T.flags|=16):A.push(x)}}function a(T,x){if(!e)return null;for(;x!==null;)t(T,x),x=x.sibling;return null}function s(T){for(var x=new Map;T!==null;)T.key!==null?x.set(T.key,T):x.set(T.index,T),T=T.sibling;return x}function c(T,x){return T=Sn(T,x),T.index=0,T.sibling=null,T}function o(T,x,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<x?(T.flags|=67108866,x):A):(T.flags|=67108866,x)):(T.flags|=1048576,x)}function f(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function v(T,x,A,q){return x===null||x.tag!==6?(x=ro(A,T.mode,q),x.return=T,x):(x=c(x,A),x.return=T,x)}function w(T,x,A,q){var le=A.type;return le===L?B(T,x,A.props.children,q,A.key):x!==null&&(x.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Te&&qs(le)===x.type)?(x=c(x,A.props),kl(x,A),x.return=T,x):(x=kr(A.type,A.key,A.props,null,T.mode,q),kl(x,A),x.return=T,x)}function k(T,x,A,q){return x===null||x.tag!==4||x.stateNode.containerInfo!==A.containerInfo||x.stateNode.implementation!==A.implementation?(x=co(A,T.mode,q),x.return=T,x):(x=c(x,A.children||[]),x.return=T,x)}function B(T,x,A,q,le){return x===null||x.tag!==7?(x=Ds(A,T.mode,q,le),x.return=T,x):(x=c(x,A),x.return=T,x)}function G(T,x,A){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=ro(""+x,T.mode,A),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C:return A=kr(x.type,x.key,x.props,null,T.mode,A),kl(A,x),A.return=T,A;case U:return x=co(x,T.mode,A),x.return=T,x;case Te:return x=qs(x),G(T,x,A)}if(gt(x)||Qe(x))return x=Ds(x,T.mode,A,null),x.return=T,x;if(typeof x.then=="function")return G(T,Mr(x),A);if(x.$$typeof===Y)return G(T,Rr(T,x),A);Br(T,x)}return null}function O(T,x,A,q){var le=x!==null?x.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return le!==null?null:v(T,x,""+A,q);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case C:return A.key===le?w(T,x,A,q):null;case U:return A.key===le?k(T,x,A,q):null;case Te:return A=qs(A),O(T,x,A,q)}if(gt(A)||Qe(A))return le!==null?null:B(T,x,A,q,null);if(typeof A.then=="function")return O(T,x,Mr(A),q);if(A.$$typeof===Y)return O(T,x,Rr(T,A),q);Br(T,A)}return null}function R(T,x,A,q,le){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return T=T.get(A)||null,v(x,T,""+q,le);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return T=T.get(q.key===null?A:q.key)||null,w(x,T,q,le);case U:return T=T.get(q.key===null?A:q.key)||null,k(x,T,q,le);case Te:return q=qs(q),R(T,x,A,q,le)}if(gt(q)||Qe(q))return T=T.get(A)||null,B(x,T,q,le,null);if(typeof q.then=="function")return R(T,x,A,Mr(q),le);if(q.$$typeof===Y)return R(T,x,A,Rr(x,q),le);Br(x,q)}return null}function te(T,x,A,q){for(var le=null,De=null,ne=x,we=x=0,Oe=null;ne!==null&&we<A.length;we++){ne.index>we?(Oe=ne,ne=null):Oe=ne.sibling;var Ue=O(T,ne,A[we],q);if(Ue===null){ne===null&&(ne=Oe);break}e&&ne&&Ue.alternate===null&&t(T,ne),x=o(Ue,x,we),De===null?le=Ue:De.sibling=Ue,De=Ue,ne=Oe}if(we===A.length)return a(T,ne),Re&&xn(T,we),le;if(ne===null){for(;we<A.length;we++)ne=G(T,A[we],q),ne!==null&&(x=o(ne,x,we),De===null?le=ne:De.sibling=ne,De=ne);return Re&&xn(T,we),le}for(ne=s(ne);we<A.length;we++)Oe=R(ne,T,we,A[we],q),Oe!==null&&(e&&Oe.alternate!==null&&ne.delete(Oe.key===null?we:Oe.key),x=o(Oe,x,we),De===null?le=Oe:De.sibling=Oe,De=Oe);return e&&ne.forEach(function(gs){return t(T,gs)}),Re&&xn(T,we),le}function oe(T,x,A,q){if(A==null)throw Error(r(151));for(var le=null,De=null,ne=x,we=x=0,Oe=null,Ue=A.next();ne!==null&&!Ue.done;we++,Ue=A.next()){ne.index>we?(Oe=ne,ne=null):Oe=ne.sibling;var gs=O(T,ne,Ue.value,q);if(gs===null){ne===null&&(ne=Oe);break}e&&ne&&gs.alternate===null&&t(T,ne),x=o(gs,x,we),De===null?le=gs:De.sibling=gs,De=gs,ne=Oe}if(Ue.done)return a(T,ne),Re&&xn(T,we),le;if(ne===null){for(;!Ue.done;we++,Ue=A.next())Ue=G(T,Ue.value,q),Ue!==null&&(x=o(Ue,x,we),De===null?le=Ue:De.sibling=Ue,De=Ue);return Re&&xn(T,we),le}for(ne=s(ne);!Ue.done;we++,Ue=A.next())Ue=R(ne,T,we,Ue.value,q),Ue!==null&&(e&&Ue.alternate!==null&&ne.delete(Ue.key===null?we:Ue.key),x=o(Ue,x,we),De===null?le=Ue:De.sibling=Ue,De=Ue);return e&&ne.forEach(function(nv){return t(T,nv)}),Re&&xn(T,we),le}function Ge(T,x,A,q){if(typeof A=="object"&&A!==null&&A.type===L&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case C:e:{for(var le=A.key;x!==null;){if(x.key===le){if(le=A.type,le===L){if(x.tag===7){a(T,x.sibling),q=c(x,A.props.children),q.return=T,T=q;break e}}else if(x.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Te&&qs(le)===x.type){a(T,x.sibling),q=c(x,A.props),kl(q,A),q.return=T,T=q;break e}a(T,x);break}else t(T,x);x=x.sibling}A.type===L?(q=Ds(A.props.children,T.mode,q,A.key),q.return=T,T=q):(q=kr(A.type,A.key,A.props,null,T.mode,q),kl(q,A),q.return=T,T=q)}return f(T);case U:e:{for(le=A.key;x!==null;){if(x.key===le)if(x.tag===4&&x.stateNode.containerInfo===A.containerInfo&&x.stateNode.implementation===A.implementation){a(T,x.sibling),q=c(x,A.children||[]),q.return=T,T=q;break e}else{a(T,x);break}else t(T,x);x=x.sibling}q=co(A,T.mode,q),q.return=T,T=q}return f(T);case Te:return A=qs(A),Ge(T,x,A,q)}if(gt(A))return te(T,x,A,q);if(Qe(A)){if(le=Qe(A),typeof le!="function")throw Error(r(150));return A=le.call(A),oe(T,x,A,q)}if(typeof A.then=="function")return Ge(T,x,Mr(A),q);if(A.$$typeof===Y)return Ge(T,x,Rr(T,A),q);Br(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,x!==null&&x.tag===6?(a(T,x.sibling),q=c(x,A),q.return=T,T=q):(a(T,x),q=ro(A,T.mode,q),q.return=T,T=q),f(T)):a(T,x)}return function(T,x,A,q){try{Al=0;var le=Ge(T,x,A,q);return Ni=null,le}catch(ne){if(ne===Ei||ne===Dr)throw ne;var De=ma(29,ne,null,T.mode);return De.lanes=q,De.return=T,De}}}var $s=yh(!0),vh=yh(!1),Pn=!1;function wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function So(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function es(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Me&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=Ar(e),eh(e,null,a),t}return Tr(e,s,t,a),Ar(e)}function Ol(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ti(e,a)}}function xo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var c=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?c=o=f:o=o.next=f,a=a.next}while(a!==null);o===null?c=o=t:o=o.next=t}else c=o=t;a={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:o,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var jo=!1;function Cl(){if(jo){var e=ji;if(e!==null)throw e}}function Rl(e,t,a,s){jo=!1;var c=e.updateQueue;Pn=!1;var o=c.firstBaseUpdate,f=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var w=v,k=w.next;w.next=null,f===null?o=k:f.next=k,f=w;var B=e.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==f&&(v===null?B.firstBaseUpdate=k:v.next=k,B.lastBaseUpdate=w))}if(o!==null){var G=c.baseState;f=0,B=k=w=null,v=o;do{var O=v.lane&-536870913,R=O!==v.lane;if(R?(ke&O)===O:(s&O)===O){O!==0&&O===xi&&(jo=!0),B!==null&&(B=B.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var te=e,oe=v;O=t;var Ge=a;switch(oe.tag){case 1:if(te=oe.payload,typeof te=="function"){G=te.call(Ge,G,O);break e}G=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=oe.payload,O=typeof te=="function"?te.call(Ge,G,O):te,O==null)break e;G=N({},G,O);break e;case 2:Pn=!0}}O=v.callback,O!==null&&(e.flags|=64,R&&(e.flags|=8192),R=c.callbacks,R===null?c.callbacks=[O]:R.push(O))}else R={lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(k=B=R,w=G):B=B.next=R,f|=O;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;R=v,v=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);B===null&&(w=G),c.baseState=w,c.firstBaseUpdate=k,c.lastBaseUpdate=B,o===null&&(c.shared.lanes=0),is|=f,e.lanes=f,e.memoizedState=G}}function ph(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function bh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ph(a[e],t)}var Ti=S(null),Lr=S(0);function _h(e,t){e=Dn,X(Lr,e),X(Ti,t),Dn=e|t.baseLanes}function Eo(){X(Lr,Dn),X(Ti,Ti.current)}function No(){Dn=Lr.current,D(Ti),D(Lr)}var ga=S(null),Oa=null;function ts(e){var t=e.alternate;X(rt,rt.current&1),X(ga,e),Oa===null&&(t===null||Ti.current!==null||t.memoizedState!==null)&&(Oa=e)}function To(e){X(rt,rt.current),X(ga,e),Oa===null&&(Oa=e)}function wh(e){e.tag===22?(X(rt,rt.current),X(ga,e),Oa===null&&(Oa=e)):as()}function as(){X(rt,rt.current),X(ga,ga.current)}function ya(e){D(ga),Oa===e&&(Oa=null),D(rt)}var rt=S(0);function qr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zu(a)||Du(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nn=0,pe=null,He=null,dt=null,Hr=!1,Ai=!1,Gs=!1,$r=0,zl=0,ki=null,Jg=0;function at(){throw Error(r(321))}function Ao(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!fa(e[a],t[a]))return!1;return!0}function ko(e,t,a,s,c,o){return Nn=o,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?sf:Yo,Gs=!1,o=a(s,c),Gs=!1,Ai&&(o=xh(t,a,s,c)),Sh(e),o}function Sh(e){z.H=Ml;var t=He!==null&&He.next!==null;if(Nn=0,dt=He=pe=null,Hr=!1,zl=0,ki=null,t)throw Error(r(300));e===null||ht||(e=e.dependencies,e!==null&&Cr(e)&&(ht=!0))}function xh(e,t,a,s){pe=e;var c=0;do{if(Ai&&(ki=null),zl=0,Ai=!1,25<=c)throw Error(r(301));if(c+=1,dt=He=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}z.H=lf,o=t(a,s)}while(Ai);return o}function Qg(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Dl(t):t,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(pe.flags|=1024),t}function Oo(){var e=$r!==0;return $r=0,e}function Co(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ro(e){if(Hr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Hr=!1}Nn=0,dt=He=pe=null,Ai=!1,zl=$r=0,ki=null}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?pe.memoizedState=dt=e:dt=dt.next=e,dt}function ct(){if(He===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=dt===null?pe.memoizedState:dt.next;if(t!==null)dt=t,He=e;else{if(e===null)throw pe.alternate===null?Error(r(467)):Error(r(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},dt===null?pe.memoizedState=dt=e:dt=dt.next=e}return dt}function Gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(e){var t=zl;return zl+=1,ki===null&&(ki=[]),e=fh(ki,e,t),t=pe,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?sf:Yo),e}function Vr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Dl(e);if(e.$$typeof===Y)return At(e)}throw Error(r(438,String(e)))}function zo(e){var t=null,a=pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=pe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Gr(),pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=F;return t.index++,a}function Tn(e,t){return typeof t=="function"?t(e):t}function Yr(e){var t=ct();return Do(t,He,e)}function Do(e,t,a){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var c=e.baseQueue,o=s.pending;if(o!==null){if(c!==null){var f=c.next;c.next=o.next,o.next=f}t.baseQueue=c=o,s.pending=null}if(o=e.baseState,c===null)e.memoizedState=o;else{t=c.next;var v=f=null,w=null,k=t,B=!1;do{var G=k.lane&-536870913;if(G!==k.lane?(ke&G)===G:(Nn&G)===G){var O=k.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),G===xi&&(B=!0);else if((Nn&O)===O){k=k.next,O===xi&&(B=!0);continue}else G={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(v=w=G,f=o):w=w.next=G,pe.lanes|=O,is|=O;G=k.action,Gs&&a(o,G),o=k.hasEagerState?k.eagerState:a(o,G)}else O={lane:G,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(v=w=O,f=o):w=w.next=O,pe.lanes|=G,is|=G;k=k.next}while(k!==null&&k!==t);if(w===null?f=o:w.next=v,!fa(o,e.memoizedState)&&(ht=!0,B&&(a=ji,a!==null)))throw a;e.memoizedState=o,e.baseState=f,e.baseQueue=w,s.lastRenderedState=o}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Uo(e){var t=ct(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var s=a.dispatch,c=a.pending,o=t.memoizedState;if(c!==null){a.pending=null;var f=c=c.next;do o=e(o,f.action),f=f.next;while(f!==c);fa(o,t.memoizedState)||(ht=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,s]}function jh(e,t,a){var s=pe,c=ct(),o=Re;if(o){if(a===void 0)throw Error(r(407));a=a()}else a=t();var f=!fa((He||c).memoizedState,a);if(f&&(c.memoizedState=a,ht=!0),c=c.queue,Lo(Th.bind(null,s,c,e),[e]),c.getSnapshot!==t||f||dt!==null&&dt.memoizedState.tag&1){if(s.flags|=2048,Oi(9,{destroy:void 0},Nh.bind(null,s,c,a,t),null),Ve===null)throw Error(r(349));o||(Nn&127)!==0||Eh(s,t,a)}return a}function Eh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pe.updateQueue,t===null?(t=Gr(),pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Nh(e,t,a,s){t.value=a,t.getSnapshot=s,Ah(t)&&kh(e)}function Th(e,t,a){return a(function(){Ah(t)&&kh(e)})}function Ah(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!fa(e,a)}catch(s){return!0}}function kh(e){var t=zs(e,2);t!==null&&ta(t,e,2)}function Mo(e){var t=It();if(typeof e=="function"){var a=e;if(e=a(),Gs){sa(!0);try{a()}finally{sa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},t}function Oh(e,t,a,s){return e.baseState=a,Do(e,He,typeof s=="function"?s:Tn)}function Xg(e,t,a,s,c){if(Jr(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){o.listeners.push(f)}};z.T!==null?a(!0):o.isTransition=!1,s(o),a=t.pending,a===null?(o.next=t.pending=o,Ch(t,o)):(o.next=a.next,t.pending=a.next=o)}}function Ch(e,t){var a=t.action,s=t.payload,c=e.state;if(t.isTransition){var o=z.T,f={};z.T=f;try{var v=a(c,s),w=z.S;w!==null&&w(f,v),Rh(e,t,v)}catch(k){Bo(e,t,k)}finally{o!==null&&f.types!==null&&(o.types=f.types),z.T=o}}else try{o=a(c,s),Rh(e,t,o)}catch(k){Bo(e,t,k)}}function Rh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){zh(e,t,s)},function(s){return Bo(e,t,s)}):zh(e,t,a)}function zh(e,t,a){t.status="fulfilled",t.value=a,Dh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Ch(e,a)))}function Bo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Dh(t),t=t.next;while(t!==s)}e.action=null}function Dh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Uh(e,t){return t}function Mh(e,t){if(Re){var a=Ve.formState;if(a!==null){e:{var s=pe;if(Re){if(Ie){t:{for(var c=Ie,o=ka;c.nodeType!==8;){if(!o){c=null;break t}if(c=Ca(c.nextSibling),c===null){c=null;break t}}o=c.data,c=o==="F!"||o==="F"?c:null}if(c){Ie=Ca(c.nextSibling),s=c.data==="F!";break e}}Zn(s)}s=!1}s&&(t=a[0])}}return a=It(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uh,lastRenderedState:t},a.queue=s,a=tf.bind(null,pe,s),s.dispatch=a,s=Mo(!1),o=Vo.bind(null,pe,!1,s.queue),s=It(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,a=Xg.bind(null,pe,c,o,a),c.dispatch=a,s.memoizedState=e,[t,a,!1]}function Bh(e){var t=ct();return Lh(t,He,e)}function Lh(e,t,a){if(t=Do(e,t,Uh)[0],e=Yr(Tn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Dl(t)}catch(f){throw f===Ei?Dr:f}else s=t;t=ct();var c=t.queue,o=c.dispatch;return a!==t.memoizedState&&(pe.flags|=2048,Oi(9,{destroy:void 0},Zg.bind(null,c,a),null)),[s,o,e]}function Zg(e,t){e.action=t}function qh(e){var t=ct(),a=He;if(a!==null)return Lh(t,a,e);ct(),t=t.memoizedState,a=ct();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Oi(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=pe.updateQueue,t===null&&(t=Gr(),pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Hh(){return ct().memoizedState}function Kr(e,t,a,s){var c=It();pe.flags|=e,c.memoizedState=Oi(1|t,{destroy:void 0},a,s===void 0?null:s)}function Ir(e,t,a,s){var c=ct();s=s===void 0?null:s;var o=c.memoizedState.inst;He!==null&&s!==null&&Ao(s,He.memoizedState.deps)?c.memoizedState=Oi(t,o,a,s):(pe.flags|=e,c.memoizedState=Oi(1|t,o,a,s))}function $h(e,t){Kr(8390656,8,e,t)}function Lo(e,t){Ir(2048,8,e,t)}function Wg(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=Gr(),pe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Gh(e){var t=ct().memoizedState;return Wg({ref:t,nextImpl:e}),function(){if((Me&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Vh(e,t){return Ir(4,2,e,t)}function Yh(e,t){return Ir(4,4,e,t)}function Kh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ih(e,t,a){a=a!=null?a.concat([e]):null,Ir(4,4,Kh.bind(null,t,e),a)}function qo(){}function Jh(e,t){var a=ct();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Ao(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Qh(e,t){var a=ct();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Ao(t,s[1]))return s[0];if(s=e(),Gs){sa(!0);try{e()}finally{sa(!1)}}return a.memoizedState=[s,t],s}function Ho(e,t,a){return a===void 0||(Nn&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Zf(),pe.lanes|=e,is|=e,a)}function Xh(e,t,a,s){return fa(a,t)?a:Ti.current!==null?(e=Ho(e,a,s),fa(e,t)||(ht=!0),e):(Nn&42)===0||(Nn&1073741824)!==0&&(ke&261930)===0?(ht=!0,e.memoizedState=a):(e=Zf(),pe.lanes|=e,is|=e,t)}function Zh(e,t,a,s,c){var o=W.p;W.p=o!==0&&8>o?o:8;var f=z.T,v={};z.T=v,Vo(e,!1,t,a);try{var w=c(),k=z.S;if(k!==null&&k(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var B=Ig(w,s);Ul(e,t,B,ba(e))}else Ul(e,t,s,ba(e))}catch(G){Ul(e,t,{then:function(){},status:"rejected",reason:G},ba())}finally{W.p=o,f!==null&&v.types!==null&&(f.types=v.types),z.T=f}}function Pg(){}function $o(e,t,a,s){if(e.tag!==5)throw Error(r(476));var c=Wh(e).queue;Zh(e,c,t,re,a===null?Pg:function(){return Ph(e),a(s)})}function Wh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:re},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ph(e){var t=Wh(e);t.next===null&&(t=e.alternate.memoizedState),Ul(e,t.next.queue,{},ba())}function Go(){return At(Pl)}function Fh(){return ct().memoizedState}function ef(){return ct().memoizedState}function Fg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ba();e=Fn(a);var s=es(t,e,a);s!==null&&(ta(s,t,a),Ol(s,t,a)),t={cache:vo()},e.payload=t;return}t=t.return}}function ey(e,t,a){var s=ba();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Jr(e)?af(t,a):(a=io(e,t,a,s),a!==null&&(ta(a,e,s),nf(a,t,s)))}function tf(e,t,a){var s=ba();Ul(e,t,a,s)}function Ul(e,t,a,s){var c={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jr(e))af(t,c);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var f=t.lastRenderedState,v=o(f,a);if(c.hasEagerState=!0,c.eagerState=v,fa(v,f))return Tr(e,t,c,0),Ve===null&&Nr(),!1}catch(w){}if(a=io(e,t,c,s),a!==null)return ta(a,e,s),nf(a,t,s),!0}return!1}function Vo(e,t,a,s){if(s={lane:2,revertLane:wu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Jr(e)){if(t)throw Error(r(479))}else t=io(e,a,s,2),t!==null&&ta(t,e,2)}function Jr(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function af(e,t){Ai=Hr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function nf(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ti(e,a)}}var Ml={readContext:At,use:Vr,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};Ml.useEffectEvent=at;var sf={readContext:At,use:Vr,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:$h,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Kr(4194308,4,Kh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){Kr(4,2,e,t)},useMemo:function(e,t){var a=It();t=t===void 0?null:t;var s=e();if(Gs){sa(!0);try{e()}finally{sa(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=It();if(a!==void 0){var c=a(t);if(Gs){sa(!0);try{a(t)}finally{sa(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=ey.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:function(e){e=Mo(e);var t=e.queue,a=tf.bind(null,pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:qo,useDeferredValue:function(e,t){var a=It();return Ho(a,e,t)},useTransition:function(){var e=Mo(!1);return e=Zh.bind(null,pe,e.queue,!0,!1),It().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=pe,c=It();if(Re){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ve===null)throw Error(r(349));(ke&127)!==0||Eh(s,t,a)}c.memoizedState=a;var o={value:a,getSnapshot:t};return c.queue=o,$h(Th.bind(null,s,o,e),[e]),s.flags|=2048,Oi(9,{destroy:void 0},Nh.bind(null,s,o,a,t),null),a},useId:function(){var e=It(),t=Ve.identifierPrefix;if(Re){var a=Wa,s=Za;a=(s&~(1<<32-yt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=$r++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Jg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Go,useFormState:Mh,useActionState:Mh,useOptimistic:function(e){var t=It();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Vo.bind(null,pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:zo,useCacheRefresh:function(){return It().memoizedState=Fg.bind(null,pe)},useEffectEvent:function(e){var t=It(),a={impl:e};return t.memoizedState=a,function(){if((Me&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Yo={readContext:At,use:Vr,useCallback:Jh,useContext:At,useEffect:Lo,useImperativeHandle:Ih,useInsertionEffect:Vh,useLayoutEffect:Yh,useMemo:Qh,useReducer:Yr,useRef:Hh,useState:function(){return Yr(Tn)},useDebugValue:qo,useDeferredValue:function(e,t){var a=ct();return Xh(a,He.memoizedState,e,t)},useTransition:function(){var e=Yr(Tn)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Dl(e),t]},useSyncExternalStore:jh,useId:Fh,useHostTransitionStatus:Go,useFormState:Bh,useActionState:Bh,useOptimistic:function(e,t){var a=ct();return Oh(a,He,e,t)},useMemoCache:zo,useCacheRefresh:ef};Yo.useEffectEvent=Gh;var lf={readContext:At,use:Vr,useCallback:Jh,useContext:At,useEffect:Lo,useImperativeHandle:Ih,useInsertionEffect:Vh,useLayoutEffect:Yh,useMemo:Qh,useReducer:Uo,useRef:Hh,useState:function(){return Uo(Tn)},useDebugValue:qo,useDeferredValue:function(e,t){var a=ct();return He===null?Ho(a,e,t):Xh(a,He.memoizedState,e,t)},useTransition:function(){var e=Uo(Tn)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Dl(e),t]},useSyncExternalStore:jh,useId:Fh,useHostTransitionStatus:Go,useFormState:qh,useActionState:qh,useOptimistic:function(e,t){var a=ct();return He!==null?Oh(a,He,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:zo,useCacheRefresh:ef};lf.useEffectEvent=Gh;function Ko(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:N({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Io={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=ba(),c=Fn(s);c.payload=t,a!=null&&(c.callback=a),t=es(e,c,s),t!==null&&(ta(t,e,s),Ol(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=ba(),c=Fn(s);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=es(e,c,s),t!==null&&(ta(t,e,s),Ol(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ba(),s=Fn(a);s.tag=2,t!=null&&(s.callback=t),t=es(e,s,a),t!==null&&(ta(t,e,a),Ol(t,e,a))}};function rf(e,t,a,s,c,o,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,f):t.prototype&&t.prototype.isPureReactComponent?!Sl(a,s)||!Sl(c,o):!0}function cf(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function Vs(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=N({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function of(e){Er(e)}function uf(e){console.error(e)}function df(e){Er(e)}function Qr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function hf(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Jo(e,t,a){return a=Fn(a),a.tag=3,a.payload={element:null},a.callback=function(){Qr(e,t)},a}function ff(e){return e=Fn(e),e.tag=3,e}function mf(e,t,a,s){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var o=s.value;e.payload=function(){return c(o)},e.callback=function(){hf(t,a,s)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){hf(t,a,s),typeof c!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function ty(e,t,a,s,c){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Si(t,a,c,!0),a=ga.current,a!==null){switch(a.tag){case 31:case 13:return Oa===null?lc():a.alternate===null&&nt===0&&(nt=3),a.flags&=-257,a.flags|=65536,a.lanes=c,s===Ur?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),pu(e,s,c)),!1;case 22:return a.flags|=65536,s===Ur?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),pu(e,s,c)),!1}throw Error(r(435,a.tag))}return pu(e,s,c),lc(),!1}if(Re)return t=ga.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==ho&&(e=Error(r(422),{cause:s}),El(Na(e,a)))):(s!==ho&&(t=Error(r(423),{cause:s}),El(Na(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=Na(s,a),c=Jo(e.stateNode,s,c),xo(e,c),nt!==4&&(nt=2)),!1;var o=Error(r(520),{cause:s});if(o=Na(o,a),Yl===null?Yl=[o]:Yl.push(o),nt!==4&&(nt=2),t===null)return!0;s=Na(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Jo(a.stateNode,s,e),xo(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(ls===null||!ls.has(o))))return a.flags|=65536,c&=-c,a.lanes|=c,c=ff(c),mf(c,e,a,s),xo(a,c),!1}a=a.return}while(a!==null);return!1}var Qo=Error(r(461)),ht=!1;function kt(e,t,a,s){t.child=e===null?vh(t,null,a,s):$s(t,e.child,a,s)}function gf(e,t,a,s,c){a=a.render;var o=t.ref;if("ref"in s){var f={};for(var v in s)v!=="ref"&&(f[v]=s[v])}else f=s;return Bs(t),s=ko(e,t,a,f,o,c),v=Oo(),e!==null&&!ht?(Co(e,t,c),An(e,t,c)):(Re&&v&&oo(t),t.flags|=1,kt(e,t,s,c),t.child)}function yf(e,t,a,s,c){if(e===null){var o=a.type;return typeof o=="function"&&!lo(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,vf(e,t,o,s,c)):(e=kr(a.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!au(e,c)){var f=o.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(f,s)&&e.ref===t.ref)return An(e,t,c)}return t.flags|=1,e=Sn(o,s),e.ref=t.ref,e.return=t,t.child=e}function vf(e,t,a,s,c){if(e!==null){var o=e.memoizedProps;if(Sl(o,s)&&e.ref===t.ref)if(ht=!1,t.pendingProps=s=o,au(e,c))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,An(e,t,c)}return Xo(e,t,a,s,c)}function pf(e,t,a,s){var c=s.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|a:a,e!==null){for(s=t.child=e.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~o}else s=0,t.child=null;return bf(e,t,o,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zr(t,o!==null?o.cachePool:null),o!==null?_h(t,o):Eo(),wh(t);else return s=t.lanes=536870912,bf(e,t,o!==null?o.baseLanes|a:a,a,s)}else o!==null?(zr(t,o.cachePool),_h(t,o),as(),t.memoizedState=null):(e!==null&&zr(t,null),Eo(),as());return kt(e,t,c,a),t.child}function Bl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bf(e,t,a,s,c){var o=bo();return o=o===null?null:{parent:ut._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&zr(t,null),Eo(),wh(t),e!==null&&Si(e,t,s,!0),t.childLanes=c,null}function Xr(e,t){return t=Wr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function _f(e,t,a){return $s(t,e.child,null,a),e=Xr(t,t.pendingProps),e.flags|=2,ya(t),t.memoizedState=null,e}function ay(e,t,a){var s=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(s.mode==="hidden")return e=Xr(t,s),t.lanes=536870912,Bl(null,e);if(To(t),(e=Ie)?(e=Rm(e,ka),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:Za,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},a=ah(e),a.return=t,t.child=a,Tt=t,Ie=null)):e=null,e===null)throw Zn(t);return t.lanes=536870912,null}return Xr(t,s)}var o=e.memoizedState;if(o!==null){var f=o.dehydrated;if(To(t),c)if(t.flags&256)t.flags&=-257,t=_f(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(ht||Si(e,t,a,!1),c=(a&e.childLanes)!==0,ht||c){if(s=Ve,s!==null&&(f=xs(s,a),f!==0&&f!==o.retryLane))throw o.retryLane=f,zs(e,f),ta(s,e,f),Qo;lc(),t=_f(e,t,a)}else e=o.treeContext,Ie=Ca(f.nextSibling),Tt=t,Re=!0,Xn=null,ka=!1,e!==null&&ih(t,e),t=Xr(t,s),t.flags|=4096;return t}return e=Sn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Xo(e,t,a,s,c){return Bs(t),a=ko(e,t,a,s,void 0,c),s=Oo(),e!==null&&!ht?(Co(e,t,c),An(e,t,c)):(Re&&s&&oo(t),t.flags|=1,kt(e,t,a,c),t.child)}function wf(e,t,a,s,c,o){return Bs(t),t.updateQueue=null,a=xh(t,s,a,c),Sh(e),s=Oo(),e!==null&&!ht?(Co(e,t,o),An(e,t,o)):(Re&&s&&oo(t),t.flags|=1,kt(e,t,a,o),t.child)}function Sf(e,t,a,s,c){if(Bs(t),t.stateNode===null){var o=pi,f=a.contextType;typeof f=="object"&&f!==null&&(o=At(f)),o=new a(s,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Io,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=s,o.state=t.memoizedState,o.refs={},wo(t),f=a.contextType,o.context=typeof f=="object"&&f!==null?At(f):pi,o.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(Ko(t,a,f,s),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(f=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),f!==o.state&&Io.enqueueReplaceState(o,o.state,null),Rl(t,s,o,c),Cl(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){o=t.stateNode;var v=t.memoizedProps,w=Vs(a,v);o.props=w;var k=o.context,B=a.contextType;f=pi,typeof B=="object"&&B!==null&&(f=At(B));var G=a.getDerivedStateFromProps;B=typeof G=="function"||typeof o.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,B||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(v||k!==f)&&cf(t,o,s,f),Pn=!1;var O=t.memoizedState;o.state=O,Rl(t,s,o,c),Cl(),k=t.memoizedState,v||O!==k||Pn?(typeof G=="function"&&(Ko(t,a,G,s),k=t.memoizedState),(w=Pn||rf(t,a,w,s,O,k,f))?(B||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=k),o.props=s,o.state=k,o.context=f,s=w):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,So(e,t),f=t.memoizedProps,B=Vs(a,f),o.props=B,G=t.pendingProps,O=o.context,k=a.contextType,w=pi,typeof k=="object"&&k!==null&&(w=At(k)),v=a.getDerivedStateFromProps,(k=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==G||O!==w)&&cf(t,o,s,w),Pn=!1,O=t.memoizedState,o.state=O,Rl(t,s,o,c),Cl();var R=t.memoizedState;f!==G||O!==R||Pn||e!==null&&e.dependencies!==null&&Cr(e.dependencies)?(typeof v=="function"&&(Ko(t,a,v,s),R=t.memoizedState),(B=Pn||rf(t,a,B,s,O,R,w)||e!==null&&e.dependencies!==null&&Cr(e.dependencies))?(k||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,R,w),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,R,w)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=R),o.props=s,o.state=R,o.context=w,s=B):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),s=!1)}return o=s,Zr(e,t),s=(t.flags&128)!==0,o||s?(o=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&s?(t.child=$s(t,e.child,null,c),t.child=$s(t,null,a,c)):kt(e,t,a,c),t.memoizedState=o.state,e=t.child):e=An(e,t,c),e}function xf(e,t,a,s){return Us(),t.flags|=256,kt(e,t,a,s),t.child}var Zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wo(e){return{baseLanes:e,cachePool:dh()}}function Po(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=pa),e}function jf(e,t,a){var s=t.pendingProps,c=!1,o=(t.flags&128)!==0,f;if((f=o)||(f=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),f&&(c=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(c?ts(t):as(),(e=Ie)?(e=Rm(e,ka),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:Za,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},a=ah(e),a.return=t,t.child=a,Tt=t,Ie=null)):e=null,e===null)throw Zn(t);return Du(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,c?(as(),c=t.mode,v=Wr({mode:"hidden",children:v},c),s=Ds(s,c,a,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=Wo(a),s.childLanes=Po(e,f,a),t.memoizedState=Zo,Bl(null,s)):(ts(t),Fo(t,v))}var w=e.memoizedState;if(w!==null&&(v=w.dehydrated,v!==null)){if(o)t.flags&256?(ts(t),t.flags&=-257,t=eu(e,t,a)):t.memoizedState!==null?(as(),t.child=e.child,t.flags|=128,t=null):(as(),v=s.fallback,c=t.mode,s=Wr({mode:"visible",children:s.children},c),v=Ds(v,c,a,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,$s(t,e.child,null,a),s=t.child,s.memoizedState=Wo(a),s.childLanes=Po(e,f,a),t.memoizedState=Zo,t=Bl(null,s));else if(ts(t),Du(v)){if(f=v.nextSibling&&v.nextSibling.dataset,f)var k=f.dgst;f=k,s=Error(r(419)),s.stack="",s.digest=f,El({value:s,source:null,stack:null}),t=eu(e,t,a)}else if(ht||Si(e,t,a,!1),f=(a&e.childLanes)!==0,ht||f){if(f=Ve,f!==null&&(s=xs(f,a),s!==0&&s!==w.retryLane))throw w.retryLane=s,zs(e,s),ta(f,e,s),Qo;zu(v)||lc(),t=eu(e,t,a)}else zu(v)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Ie=Ca(v.nextSibling),Tt=t,Re=!0,Xn=null,ka=!1,e!==null&&ih(t,e),t=Fo(t,s.children),t.flags|=4096);return t}return c?(as(),v=s.fallback,c=t.mode,w=e.child,k=w.sibling,s=Sn(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,k!==null?v=Sn(k,v):(v=Ds(v,c,a,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,Bl(null,s),s=t.child,v=e.child.memoizedState,v===null?v=Wo(a):(c=v.cachePool,c!==null?(w=ut._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=dh(),v={baseLanes:v.baseLanes|a,cachePool:c}),s.memoizedState=v,s.childLanes=Po(e,f,a),t.memoizedState=Zo,Bl(e.child,s)):(ts(t),a=e.child,e=a.sibling,a=Sn(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function Fo(e,t){return t=Wr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wr(e,t){return e=ma(22,e,null,t),e.lanes=0,e}function eu(e,t,a){return $s(t,e.child,null,a),e=Fo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ef(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),go(e.return,t,a)}function tu(e,t,a,s,c,o){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:c,treeForkCount:o}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=a,f.tailMode=c,f.treeForkCount=o)}function Nf(e,t,a){var s=t.pendingProps,c=s.revealOrder,o=s.tail;s=s.children;var f=rt.current,v=(f&2)!==0;if(v?(f=f&1|2,t.flags|=128):f&=1,X(rt,f),kt(e,t,s,a),s=Re?jl:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ef(e,a,t);else if(e.tag===19)Ef(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&qr(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),tu(t,!1,c,a,o,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&qr(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}tu(t,!0,a,null,o,s);break;case"together":tu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function An(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Si(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Sn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Sn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function au(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Cr(e)))}function ny(e,t,a){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),Wn(t,ut,e.memoizedState.cache),Us();break;case 27:case 5:Lt(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:Wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,To(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ts(t),t.flags|=128,null):(a&t.child.childLanes)!==0?jf(e,t,a):(ts(t),e=An(e,t,a),e!==null?e.sibling:null);ts(t);break;case 19:var c=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Si(e,t,a,!1),s=(a&t.childLanes)!==0),c){if(s)return Nf(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),X(rt,rt.current),s)break;return null;case 22:return t.lanes=0,pf(e,t,a,t.pendingProps);case 24:Wn(t,ut,e.memoizedState.cache)}return An(e,t,a)}function Tf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!au(e,a)&&(t.flags&128)===0)return ht=!1,ny(e,t,a);ht=(e.flags&131072)!==0}else ht=!1,Re&&(t.flags&1048576)!==0&&sh(t,jl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=qs(t.elementType),t.type=e,typeof e=="function")lo(e)?(s=Vs(e,s),t.tag=1,t=Sf(null,t,e,s,a)):(t.tag=0,t=Xo(null,t,e,s,a));else{if(e!=null){var c=e.$$typeof;if(c===ee){t.tag=11,t=gf(null,t,e,s,a);break e}else if(c===M){t.tag=14,t=yf(null,t,e,s,a);break e}}throw t=it(e)||e,Error(r(306,t,""))}}return t;case 0:return Xo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,c=Vs(s,t.pendingProps),Sf(e,t,s,c,a);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var o=t.memoizedState;c=o.element,So(e,t),Rl(t,s,null,a);var f=t.memoizedState;if(s=f.cache,Wn(t,ut,s),s!==o.cache&&yo(t,[ut],a,!0),Cl(),s=f.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=xf(e,t,s,a);break e}else if(s!==c){c=Na(Error(r(424)),t),El(c),t=xf(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ie=Ca(e.firstChild),Tt=t,Re=!0,Xn=null,ka=!0,a=vh(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Us(),s===c){t=An(e,t,a);break e}kt(e,t,s,a)}t=t.child}return t;case 26:return Zr(e,t),e===null?(a=Lm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Re||(a=t.type,e=t.pendingProps,s=fc(ye.current).createElement(a),s[We]=t,s[wt]=e,Ot(s,a,e),Fe(s),t.stateNode=s):t.memoizedState=Lm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Lt(t),e===null&&Re&&(s=t.stateNode=Um(t.type,t.pendingProps,ye.current),Tt=t,ka=!0,c=Ie,us(t.type)?(Uu=c,Ie=Ca(s.firstChild)):Ie=c),kt(e,t,t.pendingProps.children,a),Zr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((c=s=Ie)&&(s=zy(s,t.type,t.pendingProps,ka),s!==null?(t.stateNode=s,Tt=t,Ie=Ca(s.firstChild),ka=!1,c=!0):c=!1),c||Zn(t)),Lt(t),c=t.type,o=t.pendingProps,f=e!==null?e.memoizedProps:null,s=o.children,Ou(c,o)?s=null:f!==null&&Ou(c,f)&&(t.flags|=32),t.memoizedState!==null&&(c=ko(e,t,Qg,null,null,a),Pl._currentValue=c),Zr(e,t),kt(e,t,s,a),t.child;case 6:return e===null&&Re&&((e=a=Ie)&&(a=Dy(a,t.pendingProps,ka),a!==null?(t.stateNode=a,Tt=t,Ie=null,e=!0):e=!1),e||Zn(t)),null;case 13:return jf(e,t,a);case 4:return lt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=$s(t,null,s,a):kt(e,t,s,a),t.child;case 11:return gf(e,t,t.type,t.pendingProps,a);case 7:return kt(e,t,t.pendingProps,a),t.child;case 8:return kt(e,t,t.pendingProps.children,a),t.child;case 12:return kt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Wn(t,t.type,s.value),kt(e,t,s.children,a),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,Bs(t),c=At(c),s=s(c),t.flags|=1,kt(e,t,s,a),t.child;case 14:return yf(e,t,t.type,t.pendingProps,a);case 15:return vf(e,t,t.type,t.pendingProps,a);case 19:return Nf(e,t,a);case 31:return ay(e,t,a);case 22:return pf(e,t,a,t.pendingProps);case 24:return Bs(t),s=At(ut),e===null?(c=bo(),c===null&&(c=Ve,o=vo(),c.pooledCache=o,o.refCount++,o!==null&&(c.pooledCacheLanes|=a),c=o),t.memoizedState={parent:s,cache:c},wo(t),Wn(t,ut,c)):((e.lanes&a)!==0&&(So(e,t),Rl(t,null,null,a),Cl()),c=e.memoizedState,o=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Wn(t,ut,s)):(s=o.cache,Wn(t,ut,s),s!==c.cache&&yo(t,[ut],a,!0))),kt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function kn(e){e.flags|=4}function nu(e,t,a,s,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(em())e.flags|=8192;else throw Hs=Ur,_o}else e.flags&=-16777217}function Af(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vm(t))if(em())e.flags|=8192;else throw Hs=Ur,_o}function Pr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rn():536870912,e.lanes|=t,Di|=t)}function Ll(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function sy(e,t,a){var s=t.pendingProps;switch(uo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),En(ut),qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wi(t)?kn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,fo())),Je(t),null;case 26:var c=t.type,o=t.memoizedState;return e===null?(kn(t),o!==null?(Je(t),Af(t,o)):(Je(t),nu(t,c,null,s,a))):o?o!==e.memoizedState?(kn(t),Je(t),Af(t,o)):(Je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&kn(t),Je(t),nu(t,c,e,s,a)),null;case 27:if(na(t),a=ye.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&kn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Je(t),null}e=P.current,wi(t)?lh(t):(e=Um(c,s,a),t.stateNode=e,kn(t))}return Je(t),null;case 5:if(na(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&kn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Je(t),null}if(o=P.current,wi(t))lh(t);else{var f=fc(ye.current);switch(o){case 1:o=f.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:o=f.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":o=f.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":o=f.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":o=f.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof s.is=="string"?f.createElement("select",{is:s.is}):f.createElement("select"),s.multiple?o.multiple=!0:s.size&&(o.size=s.size);break;default:o=typeof s.is=="string"?f.createElement(c,{is:s.is}):f.createElement(c)}}o[We]=t,o[wt]=s;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=o;e:switch(Ot(o,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&kn(t)}}return Je(t),nu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&kn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=ye.current,wi(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,c=Tt,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[We]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||jm(e.nodeValue,a)),e||Zn(t,!0)}else e=fc(e).createTextNode(s),e[We]=t,t.stateNode=e}return Je(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=wi(t),a!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[We]=t}else Us(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),e=!1}else a=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(ya(t),t):(ya(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Je(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=wi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[We]=t}else Us(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),c=!1}else c=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ya(t),t):(ya(t),null)}return ya(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==c&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Pr(t,t.updateQueue),Je(t),null);case 4:return qe(),e===null&&Eu(t.stateNode.containerInfo),Je(t),null;case 10:return En(t.type),Je(t),null;case 19:if(D(rt),s=t.memoizedState,s===null)return Je(t),null;if(c=(t.flags&128)!==0,o=s.rendering,o===null)if(c)Ll(s,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=qr(e),o!==null){for(t.flags|=128,Ll(s,!1),e=o.updateQueue,t.updateQueue=e,Pr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)th(a,e),a=a.sibling;return X(rt,rt.current&1|2),Re&&xn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Nt()>nc&&(t.flags|=128,c=!0,Ll(s,!1),t.lanes=4194304)}else{if(!c)if(e=qr(o),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Pr(t,e),Ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return Je(t),null}else 2*Nt()-s.renderingStartTime>nc&&a!==536870912&&(t.flags|=128,c=!0,Ll(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nt(),e.sibling=null,a=rt.current,X(rt,c?a&1|2:a&1),Re&&xn(t,s.treeForkCount),e):(Je(t),null);case 22:case 23:return ya(t),No(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),a=t.updateQueue,a!==null&&Pr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&D(Ls),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),En(ut),Je(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function iy(e,t){switch(uo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return En(ut),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return na(t),null;case 31:if(t.memoizedState!==null){if(ya(t),t.alternate===null)throw Error(r(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ya(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(rt),null;case 4:return qe(),null;case 10:return En(t.type),null;case 22:case 23:return ya(t),No(),e!==null&&D(Ls),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return En(ut),null;case 25:return null;default:return null}}function kf(e,t){switch(uo(t),t.tag){case 3:En(ut),qe();break;case 26:case 27:case 5:na(t);break;case 4:qe();break;case 31:t.memoizedState!==null&&ya(t);break;case 13:ya(t);break;case 19:D(rt);break;case 10:En(t.type);break;case 22:case 23:ya(t),No(),e!==null&&D(Ls);break;case 24:En(ut)}}function ql(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var c=s.next;a=c;do{if((a.tag&e)===e){s=void 0;var o=a.create,f=a.inst;s=o(),f.destroy=s}a=a.next}while(a!==c)}}catch(v){Le(t,t.return,v)}}function ns(e,t,a){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var o=c.next;s=o;do{if((s.tag&e)===e){var f=s.inst,v=f.destroy;if(v!==void 0){f.destroy=void 0,c=t;var w=a,k=v;try{k()}catch(B){Le(c,w,B)}}}s=s.next}while(s!==o)}}catch(B){Le(t,t.return,B)}}function Of(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{bh(t,a)}catch(s){Le(e,e.return,s)}}}function Cf(e,t,a){a.props=Vs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Le(e,t,s)}}function Hl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(c){Le(e,t,c)}}function Pa(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(c){Le(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Le(e,t,c)}else a.current=null}function Rf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(c){Le(e,e.return,c)}}function su(e,t,a){try{var s=e.stateNode;Ty(s,e.type,a,t),s[wt]=t}catch(c){Le(e,e.return,c)}}function zf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&us(e.type)||e.tag===4}function iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&us(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=oa));else if(s!==4&&(s===27&&us(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(lu(e,t,a),e=e.sibling;e!==null;)lu(e,t,a),e=e.sibling}function Fr(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Fr(e,t,a),e=e.sibling;e!==null;)Fr(e,t,a),e=e.sibling}function Df(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Ot(t,s,a),t[We]=e,t[wt]=a}catch(o){Le(e,e.return,o)}}var On=!1,ft=!1,ru=!1,Uf=typeof WeakSet=="function"?WeakSet:Set,Et=null;function ly(e,t){if(e=e.containerInfo,Au=_c,e=Id(e),Fc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var c=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{a.nodeType,o.nodeType}catch(oe){a=null;break e}var f=0,v=-1,w=-1,k=0,B=0,G=e,O=null;t:for(;;){for(var R;G!==a||c!==0&&G.nodeType!==3||(v=f+c),G!==o||s!==0&&G.nodeType!==3||(w=f+s),G.nodeType===3&&(f+=G.nodeValue.length),(R=G.firstChild)!==null;)O=G,G=R;for(;;){if(G===e)break t;if(O===a&&++k===c&&(v=f),O===o&&++B===s&&(w=f),(R=G.nextSibling)!==null)break;G=O,O=G.parentNode}G=R}a=v===-1||w===-1?null:{start:v,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(ku={focusedElem:e,selectionRange:a},_c=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,c=o.memoizedProps,o=o.memoizedState,s=a.stateNode;try{var te=Vs(a.type,c);e=s.getSnapshotBeforeUpdate(te,o),s.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Le(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ru(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ru(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function Mf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Rn(e,a),s&4&&ql(5,a);break;case 1:if(Rn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){Le(a,a.return,f)}else{var c=Vs(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Le(a,a.return,f)}}s&64&&Of(a),s&512&&Hl(a,a.return);break;case 3:if(Rn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{bh(e,t)}catch(f){Le(a,a.return,f)}}break;case 27:t===null&&s&4&&Df(a);case 26:case 5:Rn(e,a),t===null&&s&4&&Rf(a),s&512&&Hl(a,a.return);break;case 12:Rn(e,a);break;case 31:Rn(e,a),s&4&&qf(e,a);break;case 13:Rn(e,a),s&4&&Hf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=gy.bind(null,a),Uy(e,a))));break;case 22:if(s=a.memoizedState!==null||On,!s){t=t!==null&&t.memoizedState!==null||ft,c=On;var o=ft;On=s,(ft=t)&&!o?zn(e,a,(a.subtreeFlags&8772)!==0):Rn(e,a),On=c,ft=o}break;case 30:break;default:Rn(e,a)}}function Bf(e){var t=e.alternate;t!==null&&(e.alternate=null,Bf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&cl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,Wt=!1;function Cn(e,t,a){for(a=a.child;a!==null;)Lf(e,t,a),a=a.sibling}function Lf(e,t,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Jt,a)}catch(o){}switch(a.tag){case 26:ft||Pa(a,t),Cn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||Pa(a,t);var s=Ze,c=Wt;us(a.type)&&(Ze=a.stateNode,Wt=!1),Cn(e,t,a),Xl(a.stateNode),Ze=s,Wt=c;break;case 5:ft||Pa(a,t);case 6:if(s=Ze,c=Wt,Ze=null,Cn(e,t,a),Ze=s,Wt=c,Ze!==null)if(Wt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(o){Le(a,t,o)}else try{Ze.removeChild(a.stateNode)}catch(o){Le(a,t,o)}break;case 18:Ze!==null&&(Wt?(e=Ze,Om(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Gi(e)):Om(Ze,a.stateNode));break;case 4:s=Ze,c=Wt,Ze=a.stateNode.containerInfo,Wt=!0,Cn(e,t,a),Ze=s,Wt=c;break;case 0:case 11:case 14:case 15:ns(2,a,t),ft||ns(4,a,t),Cn(e,t,a);break;case 1:ft||(Pa(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Cf(a,t,s)),Cn(e,t,a);break;case 21:Cn(e,t,a);break;case 22:ft=(s=ft)||a.memoizedState!==null,Cn(e,t,a),ft=s;break;default:Cn(e,t,a)}}function qf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gi(e)}catch(a){Le(t,t.return,a)}}}function Hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gi(e)}catch(a){Le(t,t.return,a)}}function ry(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Uf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Uf),t;default:throw Error(r(435,e.tag))}}function ec(e,t){var a=ry(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var c=yy.bind(null,e,s);s.then(c,c)}})}function Pt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var c=a[s],o=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 27:if(us(v.type)){Ze=v.stateNode,Wt=!1;break e}break;case 5:Ze=v.stateNode,Wt=!1;break e;case 3:case 4:Ze=v.stateNode.containerInfo,Wt=!0;break e}v=v.return}if(Ze===null)throw Error(r(160));Lf(o,f,c),Ze=null,Wt=!1,o=c.alternate,o!==null&&(o.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$f(t,e),t=t.sibling}var Ha=null;function $f(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(t,e),Ft(e),s&4&&(ns(3,e,e.return),ql(3,e),ns(5,e,e.return));break;case 1:Pt(t,e),Ft(e),s&512&&(ft||a===null||Pa(a,a.return)),s&64&&On&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var c=Ha;if(Pt(t,e),Ft(e),s&512&&(ft||a===null||Pa(a,a.return)),s&4){var o=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":o=c.getElementsByTagName("title")[0],(!o||o[cn]||o[We]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=c.createElement(s),c.head.insertBefore(o,c.querySelector("head > title"))),Ot(o,s,a),o[We]=e,Fe(o),s=o;break e;case"link":var f=$m("link","href",c).get(s+(a.href||""));if(f){for(var v=0;v<f.length;v++)if(o=f[v],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(v,1);break t}}o=c.createElement(s),Ot(o,s,a),c.head.appendChild(o);break;case"meta":if(f=$m("meta","content",c).get(s+(a.content||""))){for(v=0;v<f.length;v++)if(o=f[v],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(v,1);break t}}o=c.createElement(s),Ot(o,s,a),c.head.appendChild(o);break;default:throw Error(r(468,s))}o[We]=e,Fe(o),s=o}e.stateNode=s}else Gm(c,e.type,e.stateNode);else e.stateNode=Hm(c,s,e.memoizedProps);else o!==s?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,s===null?Gm(c,e.type,e.stateNode):Hm(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&su(e,e.memoizedProps,a.memoizedProps)}break;case 27:Pt(t,e),Ft(e),s&512&&(ft||a===null||Pa(a,a.return)),a!==null&&s&4&&su(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Pt(t,e),Ft(e),s&512&&(ft||a===null||Pa(a,a.return)),e.flags&32){c=e.stateNode;try{fn(c,"")}catch(te){Le(e,e.return,te)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,su(e,c,a!==null?a.memoizedProps:c)),s&1024&&(ru=!0);break;case 6:if(Pt(t,e),Ft(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(te){Le(e,e.return,te)}}break;case 3:if(yc=null,c=Ha,Ha=mc(t.containerInfo),Pt(t,e),Ha=c,Ft(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Gi(t.containerInfo)}catch(te){Le(e,e.return,te)}ru&&(ru=!1,Gf(e));break;case 4:s=Ha,Ha=mc(e.stateNode.containerInfo),Pt(t,e),Ft(e),Ha=s;break;case 12:Pt(t,e),Ft(e);break;case 31:Pt(t,e),Ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ec(e,s)));break;case 13:Pt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ac=Nt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ec(e,s)));break;case 22:c=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,k=On,B=ft;if(On=k||c,ft=B||w,Pt(t,e),ft=B,On=k,Ft(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||w||On||ft||Ys(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(o=w.stateNode,c)f=o.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=w.stateNode;var G=w.memoizedProps.style,O=G!=null&&G.hasOwnProperty("display")?G.display:null;v.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(te){Le(w,w.return,te)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(te){Le(w,w.return,te)}}}else if(t.tag===18){if(a===null){w=t;try{var R=w.stateNode;c?Cm(R,!0):Cm(w.stateNode,!1)}catch(te){Le(w,w.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,ec(e,a))));break;case 19:Pt(t,e),Ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ec(e,s)));break;case 30:break;case 21:break;default:Pt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(zf(s)){a=s;break}s=s.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,o=iu(e);Fr(e,o,c);break;case 5:var f=a.stateNode;a.flags&32&&(fn(f,""),a.flags&=-33);var v=iu(e);Fr(e,v,f);break;case 3:case 4:var w=a.stateNode.containerInfo,k=iu(e);lu(e,k,w);break;default:throw Error(r(161))}}catch(B){Le(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Gf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Mf(e,t.alternate,t),t=t.sibling}function Ys(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ns(4,t,t.return),Ys(t);break;case 1:Pa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Cf(t,t.return,a),Ys(t);break;case 27:Xl(t.stateNode);case 26:case 5:Pa(t,t.return),Ys(t);break;case 22:t.memoizedState===null&&Ys(t);break;case 30:Ys(t);break;default:Ys(t)}e=e.sibling}}function zn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,o=t,f=o.flags;switch(o.tag){case 0:case 11:case 15:zn(c,o,a),ql(4,o);break;case 1:if(zn(c,o,a),s=o,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Le(s,s.return,k)}if(s=o,c=s.updateQueue,c!==null){var v=s.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)ph(w[c],v)}catch(k){Le(s,s.return,k)}}a&&f&64&&Of(o),Hl(o,o.return);break;case 27:Df(o);case 26:case 5:zn(c,o,a),a&&s===null&&f&4&&Rf(o),Hl(o,o.return);break;case 12:zn(c,o,a);break;case 31:zn(c,o,a),a&&f&4&&qf(c,o);break;case 13:zn(c,o,a),a&&f&4&&Hf(c,o);break;case 22:o.memoizedState===null&&zn(c,o,a),Hl(o,o.return);break;case 30:break;default:zn(c,o,a)}t=t.sibling}}function cu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Nl(a))}function ou(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nl(e))}function $a(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vf(e,t,a,s),t=t.sibling}function Vf(e,t,a,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:$a(e,t,a,s),c&2048&&ql(9,t);break;case 1:$a(e,t,a,s);break;case 3:$a(e,t,a,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nl(e)));break;case 12:if(c&2048){$a(e,t,a,s),e=t.stateNode;try{var o=t.memoizedProps,f=o.id,v=o.onPostCommit;typeof v=="function"&&v(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Le(t,t.return,w)}}else $a(e,t,a,s);break;case 31:$a(e,t,a,s);break;case 13:$a(e,t,a,s);break;case 23:break;case 22:o=t.stateNode,f=t.alternate,t.memoizedState!==null?o._visibility&2?$a(e,t,a,s):$l(e,t):o._visibility&2?$a(e,t,a,s):(o._visibility|=2,Ci(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),c&2048&&cu(f,t);break;case 24:$a(e,t,a,s),c&2048&&ou(t.alternate,t);break;default:$a(e,t,a,s)}}function Ci(e,t,a,s,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,f=t,v=a,w=s,k=f.flags;switch(f.tag){case 0:case 11:case 15:Ci(o,f,v,w,c),ql(8,f);break;case 23:break;case 22:var B=f.stateNode;f.memoizedState!==null?B._visibility&2?Ci(o,f,v,w,c):$l(o,f):(B._visibility|=2,Ci(o,f,v,w,c)),c&&k&2048&&cu(f.alternate,f);break;case 24:Ci(o,f,v,w,c),c&&k&2048&&ou(f.alternate,f);break;default:Ci(o,f,v,w,c)}t=t.sibling}}function $l(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,c=s.flags;switch(s.tag){case 22:$l(a,s),c&2048&&cu(s.alternate,s);break;case 24:$l(a,s),c&2048&&ou(s.alternate,s);break;default:$l(a,s)}t=t.sibling}}var Gl=8192;function Ri(e,t,a){if(e.subtreeFlags&Gl)for(e=e.child;e!==null;)Yf(e,t,a),e=e.sibling}function Yf(e,t,a){switch(e.tag){case 26:Ri(e,t,a),e.flags&Gl&&e.memoizedState!==null&&Jy(a,Ha,e.memoizedState,e.memoizedProps);break;case 5:Ri(e,t,a);break;case 3:case 4:var s=Ha;Ha=mc(e.stateNode.containerInfo),Ri(e,t,a),Ha=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Gl,Gl=16777216,Ri(e,t,a),Gl=s):Ri(e,t,a));break;default:Ri(e,t,a)}}function Kf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Et=s,Jf(s,e)}Kf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)If(e),e=e.sibling}function If(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&ns(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,tc(e)):Vl(e);break;default:Vl(e)}}function tc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Et=s,Jf(s,e)}Kf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ns(8,t,t.return),tc(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,tc(t));break;default:tc(t)}e=e.sibling}}function Jf(e,t){for(;Et!==null;){var a=Et;switch(a.tag){case 0:case 11:case 15:ns(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Et=s;else e:for(a=e;Et!==null;){s=Et;var c=s.sibling,o=s.return;if(Bf(s),s===a){Et=null;break e}if(c!==null){c.return=o,Et=c;break e}Et=o}}}var cy={getCacheForType:function(e){var t=At(ut),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return At(ut).controller.signal}},oy=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ve=null,je=null,ke=0,Be=0,va=null,ss=!1,zi=!1,uu=!1,Dn=0,nt=0,is=0,Ks=0,du=0,pa=0,Di=0,Yl=null,ea=null,hu=!1,ac=0,Qf=0,nc=1/0,sc=null,ls=null,pt=0,rs=null,Ui=null,Un=0,fu=0,mu=null,Xf=null,Kl=0,gu=null;function ba(){return(Me&2)!==0&&ke!==0?ke&-ke:z.T!==null?wu():rl()}function Zf(){if(pa===0)if((ke&536870912)===0||Re){var e=ei;ei<<=1,(ei&3932160)===0&&(ei=262144),pa=e}else pa=536870912;return e=ga.current,e!==null&&(e.flags|=32),pa}function ta(e,t,a){(e===Ve&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Mi(e,0),cs(e,ke,pa,!1)),ia(e,a),((Me&2)===0||e!==Ve)&&(e===Ve&&((Me&2)===0&&(Ks|=a),nt===4&&cs(e,ke,pa,!1)),Fa(e))}function Wf(e,t,a){if((Me&6)!==0)throw Error(r(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||$t(e,t),c=s?hy(e,t):vu(e,t,!0),o=s;do{if(c===0){zi&&!s&&cs(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!uy(a)){c=vu(e,t,!1),o=!1;continue}if(c===2){if(o=t,e.errorRecoveryDisabledLanes&o)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var v=e;c=Yl;var w=v.current.memoizedState.isDehydrated;if(w&&(Mi(v,f).flags|=256),f=vu(v,f,!1),f!==2){if(uu&&!w){v.errorRecoveryDisabledLanes|=o,Ks|=o,c=4;break e}o=ea,ea=c,o!==null&&(ea===null?ea=o:ea.push.apply(ea,o))}c=f}if(o=!1,c!==2)continue}}if(c===1){Mi(e,0),cs(e,t,0,!0);break}e:{switch(s=e,o=c,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:cs(s,t,pa,!ss);break e;case 2:ea=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=ac+300-Nt(),10<c)){if(cs(s,t,pa,!ss),Gn(s,0,!0)!==0)break e;Un=t,s.timeoutHandle=Am(Pf.bind(null,s,a,ea,sc,hu,t,pa,Ks,Di,ss,o,"Throttled",-0,0),c);break e}Pf(s,a,ea,sc,hu,t,pa,Ks,Di,ss,o,null,-0,0)}}break}while(!0);Fa(e)}function Pf(e,t,a,s,c,o,f,v,w,k,B,G,O,R){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oa},Yf(t,o,G);var te=(o&62914560)===o?ac-Nt():(o&4194048)===o?Qf-Nt():0;if(te=Qy(G,te),te!==null){Un=o,e.cancelPendingCommit=te(lm.bind(null,e,t,o,a,s,c,f,v,w,B,G,null,O,R)),cs(e,o,f,!k);return}}lm(e,t,o,a,s,c,f,v,w)}function uy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var c=a[s],o=c.getSnapshot;c=c.value;try{if(!fa(o(),c))return!1}catch(f){return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t,a,s){t&=~du,t&=~Ks,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var o=31-yt(c),f=1<<o;s[o]=-1,c&=~f}a!==0&&Ua(e,a,t)}function ic(){return(Me&6)===0?(Il(0),!1):!0}function yu(){if(je!==null){if(Be===0)var e=je.return;else e=je,jn=Ms=null,Ro(e),Ni=null,Al=0,e=je;for(;e!==null;)kf(e.alternate,e),e=e.return;je=null}}function Mi(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Oy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Un=0,yu(),Ve=e,je=a=Sn(e.current,null),ke=t,Be=0,va=null,ss=!1,zi=$t(e,t),uu=!1,Di=pa=du=Ks=is=nt=0,ea=Yl=null,hu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-yt(s),o=1<<c;t|=e[c],s&=~o}return Dn=t,Nr(),a}function Ff(e,t){pe=null,z.H=Ml,t===Ei||t===Dr?(t=mh(),Be=3):t===_o?(t=mh(),Be=4):Be=t===Qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,va=t,je===null&&(nt=1,Qr(e,Na(t,e.current)))}function em(){var e=ga.current;return e===null?!0:(ke&4194048)===ke?Oa===null:(ke&62914560)===ke||(ke&536870912)!==0?e===Oa:!1}function tm(){var e=z.H;return z.H=Ml,e===null?Ml:e}function am(){var e=z.A;return z.A=cy,e}function lc(){nt=4,ss||(ke&4194048)!==ke&&ga.current!==null||(zi=!0),(is&134217727)===0&&(Ks&134217727)===0||Ve===null||cs(Ve,ke,pa,!1)}function vu(e,t,a){var s=Me;Me|=2;var c=tm(),o=am();(Ve!==e||ke!==t)&&(sc=null,Mi(e,t)),t=!1;var f=nt;e:do try{if(Be!==0&&je!==null){var v=je,w=va;switch(Be){case 8:yu(),f=6;break e;case 3:case 2:case 9:case 6:ga.current===null&&(t=!0);var k=Be;if(Be=0,va=null,Bi(e,v,w,k),a&&zi){f=0;break e}break;default:k=Be,Be=0,va=null,Bi(e,v,w,k)}}dy(),f=nt;break}catch(B){Ff(e,B)}while(!0);return t&&e.shellSuspendCounter++,jn=Ms=null,Me=s,z.H=c,z.A=o,je===null&&(Ve=null,ke=0,Nr()),f}function dy(){for(;je!==null;)nm(je)}function hy(e,t){var a=Me;Me|=2;var s=tm(),c=am();Ve!==e||ke!==t?(sc=null,nc=Nt()+500,Mi(e,t)):zi=$t(e,t);e:do try{if(Be!==0&&je!==null){t=je;var o=va;t:switch(Be){case 1:Be=0,va=null,Bi(e,t,o,1);break;case 2:case 9:if(hh(o)){Be=0,va=null,sm(t);break}t=function(){Be!==2&&Be!==9||Ve!==e||(Be=7),Fa(e)},o.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:hh(o)?(Be=0,va=null,sm(t)):(Be=0,va=null,Bi(e,t,o,7));break;case 5:var f=null;switch(je.tag){case 26:f=je.memoizedState;case 5:case 27:var v=je;if(f?Vm(f):v.stateNode.complete){Be=0,va=null;var w=v.sibling;if(w!==null)je=w;else{var k=v.return;k!==null?(je=k,rc(k)):je=null}break t}}Be=0,va=null,Bi(e,t,o,5);break;case 6:Be=0,va=null,Bi(e,t,o,6);break;case 8:yu(),nt=6;break e;default:throw Error(r(462))}}fy();break}catch(B){Ff(e,B)}while(!0);return jn=Ms=null,z.H=s,z.A=c,Me=a,je!==null?0:(Ve=null,ke=0,Nr(),nt)}function fy(){for(;je!==null&&!bs();)nm(je)}function nm(e){var t=Tf(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,t===null?rc(e):je=t}function sm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=wf(a,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=wf(a,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Ro(t);default:kf(a,t),t=je=th(t,Dn),t=Tf(a,t,Dn)}e.memoizedProps=e.pendingProps,t===null?rc(e):je=t}function Bi(e,t,a,s){jn=Ms=null,Ro(t),Ni=null,Al=0;var c=t.return;try{if(ty(e,c,t,a,ke)){nt=1,Qr(e,Na(a,e.current)),je=null;return}}catch(o){if(c!==null)throw je=c,o;nt=1,Qr(e,Na(a,e.current)),je=null;return}t.flags&32768?(Re||s===1?e=!0:zi||(ke&536870912)!==0?e=!1:(ss=e=!0,(s===2||s===9||s===3||s===6)&&(s=ga.current,s!==null&&s.tag===13&&(s.flags|=16384))),im(t,e)):rc(t)}function rc(e){var t=e;do{if((t.flags&32768)!==0){im(t,ss);return}e=t.return;var a=sy(t.alternate,t,Dn);if(a!==null){je=a;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);nt===0&&(nt=5)}function im(e,t){do{var a=iy(e.alternate,e);if(a!==null){a.flags&=32767,je=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=a}while(e!==null);nt=6,je=null}function lm(e,t,a,s,c,o,f,v,w){e.cancelPendingCommit=null;do cc();while(pt!==0);if((Me&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=so,Ss(e,a,o,f,v,w),e===Ve&&(je=Ve=null,ke=0),Ui=t,rs=e,Un=a,fu=o,mu=c,Xf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vy(Fs,function(){return dm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,c=W.p,W.p=2,f=Me,Me|=4;try{ly(e,t,a)}finally{Me=f,W.p=c,z.T=s}}pt=1,rm(),cm(),om()}}function rm(){if(pt===1){pt=0;var e=rs,t=Ui,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var s=W.p;W.p=2;var c=Me;Me|=4;try{$f(t,e);var o=ku,f=Id(e.containerInfo),v=o.focusedElem,w=o.selectionRange;if(f!==v&&v&&v.ownerDocument&&Kd(v.ownerDocument.documentElement,v)){if(w!==null&&Fc(v)){var k=w.start,B=w.end;if(B===void 0&&(B=k),"selectionStart"in v)v.selectionStart=k,v.selectionEnd=Math.min(B,v.value.length);else{var G=v.ownerDocument||document,O=G&&G.defaultView||window;if(O.getSelection){var R=O.getSelection(),te=v.textContent.length,oe=Math.min(w.start,te),Ge=w.end===void 0?oe:Math.min(w.end,te);!R.extend&&oe>Ge&&(f=Ge,Ge=oe,oe=f);var T=Yd(v,oe),x=Yd(v,Ge);if(T&&x&&(R.rangeCount!==1||R.anchorNode!==T.node||R.anchorOffset!==T.offset||R.focusNode!==x.node||R.focusOffset!==x.offset)){var A=G.createRange();A.setStart(T.node,T.offset),R.removeAllRanges(),oe>Ge?(R.addRange(A),R.extend(x.node,x.offset)):(A.setEnd(x.node,x.offset),R.addRange(A))}}}}for(G=[],R=v;R=R.parentNode;)R.nodeType===1&&G.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<G.length;v++){var q=G[v];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}_c=!!Au,ku=Au=null}finally{Me=c,W.p=s,z.T=a}}e.current=t,pt=2}}function cm(){if(pt===2){pt=0;var e=rs,t=Ui,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var s=W.p;W.p=2;var c=Me;Me|=4;try{Mf(e,t.alternate,t)}finally{Me=c,W.p=s,z.T=a}}pt=3}}function om(){if(pt===4||pt===3){pt=0,_s();var e=rs,t=Ui,a=Un,s=Xf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?pt=5:(pt=0,Ui=rs=null,um(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ls=null),js(a),t=t.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Jt,t,void 0,(t.current.flags&128)===128)}catch(w){}if(s!==null){t=z.T,c=W.p,W.p=2,z.T=null;try{for(var o=e.onRecoverableError,f=0;f<s.length;f++){var v=s[f];o(v.value,{componentStack:v.stack})}}finally{z.T=t,W.p=c}}(Un&3)!==0&&cc(),Fa(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===gu?Kl++:(Kl=0,gu=e):Kl=0,Il(0)}}function um(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Nl(t)))}function cc(){return rm(),cm(),om(),dm()}function dm(){if(pt!==5)return!1;var e=rs,t=fu;fu=0;var a=js(Un),s=z.T,c=W.p;try{W.p=32>a?32:a,z.T=null,a=mu,mu=null;var o=rs,f=Un;if(pt=0,Ui=rs=null,Un=0,(Me&6)!==0)throw Error(r(331));var v=Me;if(Me|=4,If(o.current),Vf(o,o.current,f,a),Me=v,Il(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Jt,o)}catch(w){}return!0}finally{W.p=c,z.T=s,um(e,t)}}function hm(e,t,a){t=Na(a,t),t=Jo(e.stateNode,t,2),e=es(e,t,2),e!==null&&(ia(e,2),Fa(e))}function Le(e,t,a){if(e.tag===3)hm(e,e,a);else for(;t!==null;){if(t.tag===3){hm(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ls===null||!ls.has(s))){e=Na(a,e),a=ff(2),s=es(t,a,2),s!==null&&(mf(a,s,t,e),ia(s,2),Fa(s));break}}t=t.return}}function pu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new oy;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(a)||(uu=!0,c.add(a),e=my.bind(null,e,t,a),t.then(e,e))}function my(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ve===e&&(ke&a)===a&&(nt===4||nt===3&&(ke&62914560)===ke&&300>Nt()-ac?(Me&2)===0&&Mi(e,0):du|=a,Di===ke&&(Di=0)),Fa(e)}function fm(e,t){t===0&&(t=rn()),e=zs(e,t),e!==null&&(ia(e,t),Fa(e))}function gy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),fm(e,a)}function yy(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),fm(e,a)}function vy(e,t){return ot(e,t)}var oc=null,Li=null,bu=!1,uc=!1,_u=!1,os=0;function Fa(e){e!==Li&&e.next===null&&(Li===null?oc=Li=e:Li=Li.next=e),uc=!0,bu||(bu=!0,by())}function Il(e,t){if(!_u&&uc){_u=!0;do for(var a=!1,s=oc;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var o=0;else{var f=s.suspendedLanes,v=s.pingedLanes;o=(1<<31-yt(42|e)+1)-1,o&=c&~(f&~v),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,vm(s,o))}else o=ke,o=Gn(s,s===Ve?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(o&3)===0||$t(s,o)||(a=!0,vm(s,o));s=s.next}while(a);_u=!1}}function py(){mm()}function mm(){uc=bu=!1;var e=0;os!==0&&ky()&&(e=os);for(var t=Nt(),a=null,s=oc;s!==null;){var c=s.next,o=gm(s,t);o===0?(s.next=null,a===null?oc=c:a.next=c,c===null&&(Li=a)):(a=s,(e!==0||(o&3)!==0)&&(uc=!0)),s=c}pt!==0&&pt!==5||Il(e),os!==0&&(os=0)}function gm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var f=31-yt(o),v=1<<f,w=c[f];w===-1?((v&a)===0||(v&s)!==0)&&(c[f]=br(v,t)):w<=t&&(e.expiredLanes|=v),o&=~v}if(t=Ve,a=ke,a=Gn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Hn(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||$t(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Hn(s),js(a)){case 2:case 8:a=Da;break;case 32:a=Fs;break;case 268435456:a=il;break;default:a=Fs}return s=ym.bind(null,e),a=ot(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Hn(s),e.callbackPriority=2,e.callbackNode=null,2}function ym(e,t){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(cc()&&e.callbackNode!==a)return null;var s=ke;return s=Gn(e,e===Ve?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Wf(e,s,t),gm(e,Nt()),e.callbackNode!=null&&e.callbackNode===a?ym.bind(null,e):null)}function vm(e,t){if(cc())return null;Wf(e,t,!0)}function by(){Cy(function(){(Me&6)!==0?ot(vr,py):mm()})}function wu(){if(os===0){var e=xi;e===0&&(e=Ka,Ka<<=1,(Ka&261888)===0&&(Ka=256)),os=e}return os}function pm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yn(""+e)}function bm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function _y(e,t,a,s,c){if(t==="submit"&&a&&a.stateNode===c){var o=pm((c[wt]||null).action),f=s.submitter;f&&(t=(t=f[wt]||null)?pm(t.formAction):f.getAttribute("formAction"),t!==null&&(o=t,f=null));var v=new oi("action","action",null,s,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(os!==0){var w=f?bm(c,f):new FormData(c);$o(a,{pending:!0,data:w,method:c.method,action:o},null,w)}}else typeof o=="function"&&(v.preventDefault(),w=f?bm(c,f):new FormData(c),$o(a,{pending:!0,data:w,method:c.method,action:o},o,w))},currentTarget:c}]})}}for(var Su=0;Su<no.length;Su++){var xu=no[Su],wy=xu.toLowerCase(),Sy=xu[0].toUpperCase()+xu.slice(1);qa(wy,"on"+Sy)}qa(Xd,"onAnimationEnd"),qa(Zd,"onAnimationIteration"),qa(Wd,"onAnimationStart"),qa("dblclick","onDoubleClick"),qa("focusin","onFocus"),qa("focusout","onBlur"),qa(Lg,"onTransitionRun"),qa(qg,"onTransitionStart"),qa(Hg,"onTransitionCancel"),qa(Pd,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function _m(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],c=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var f=s.length-1;0<=f;f--){var v=s[f],w=v.instance,k=v.currentTarget;if(v=v.listener,w!==o&&c.isPropagationStopped())break e;o=v,c.currentTarget=k;try{o(c)}catch(B){Er(B)}c.currentTarget=null,o=w}else for(f=0;f<s.length;f++){if(v=s[f],w=v.instance,k=v.currentTarget,v=v.listener,w!==o&&c.isPropagationStopped())break e;o=v,c.currentTarget=k;try{o(c)}catch(B){Er(B)}c.currentTarget=null,o=w}}}}function Ee(e,t){var a=t[ai];a===void 0&&(a=t[ai]=new Set);var s=e+"__bubble";a.has(s)||(wm(t,e,2,!1),a.add(s))}function ju(e,t,a){var s=0;t&&(s|=4),wm(a,e,s,t)}var dc="_reactListening"+Math.random().toString(36).slice(2);function Eu(e){if(!e[dc]){e[dc]=!0,ni.forEach(function(a){a!=="selectionchange"&&(xy.has(a)||ju(a,!1,e),ju(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dc]||(t[dc]=!0,ju("selectionchange",!1,t))}}function wm(e,t,a,s){switch(Zm(t)){case 2:var c=Wy;break;case 8:c=Py;break;default:c=Hu}a=c.bind(null,t,a,e),c=void 0,!As||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function Nu(e,t,a,s,c){var o=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var v=s.stateNode.containerInfo;if(v===c)break;if(f===4)for(f=s.return;f!==null;){var w=f.tag;if((w===3||w===4)&&f.stateNode.containerInfo===c)return;f=f.return}for(;v!==null;){if(f=on(v),f===null)return;if(w=f.tag,w===5||w===6||w===26||w===27){s=o=f;continue e}v=v.parentNode}}s=s.return}hl(function(){var k=o,B=Kt(a),G=[];e:{var O=Fd.get(e);if(O!==void 0){var R=oi,te=e;switch(e){case"keypress":if(ri(a)===0)break e;case"keydown":case"keyup":R=Zt;break;case"focusin":te="focus",R=hi;break;case"focusout":te="blur",R=hi;break;case"beforeblur":case"afterblur":R=hi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=pl;break;case Xd:case Zd:case Wd:R=K;break;case Pd:R=wg;break;case"scroll":case"scrollend":R=Qc;break;case"wheel":R=xg;break;case"copy":case"cut":case"paste":R=ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Xa;break;case"toggle":case"beforetoggle":R=Eg}var oe=(t&4)!==0,Ge=!oe&&(e==="scroll"||e==="scrollend"),T=oe?O!==null?O+"Capture":null:O;oe=[];for(var x=k,A;x!==null;){var q=x;if(A=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||A===null||T===null||(q=pn(x,T),q!=null&&oe.push(Ql(x,q,A))),Ge)break;x=x.return}0<oe.length&&(O=new R(O,te,null,a,B),G.push({event:O,listeners:oe}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",O&&a!==Ts&&(te=a.relatedTarget||a.fromElement)&&(on(te)||te[Vn]))break e;if((R||O)&&(O=B.window===B?B:(O=B.ownerDocument)?O.defaultView||O.parentWindow:window,R?(te=a.relatedTarget||a.toElement,R=k,te=te?on(te):null,te!==null&&(Ge=d(te),oe=te.tag,te!==Ge||oe!==5&&oe!==27&&oe!==6)&&(te=null)):(R=null,te=k),R!==te)){if(oe=di,q="onMouseLeave",T="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Xa,q="onPointerLeave",T="onPointerEnter",x="pointer"),Ge=R==null?O:un(R),A=te==null?O:un(te),O=new oe(q,x+"leave",R,a,B),O.target=Ge,O.relatedTarget=A,q=null,on(B)===k&&(oe=new oe(T,x+"enter",te,a,B),oe.target=A,oe.relatedTarget=Ge,q=oe),Ge=q,R&&te)t:{for(oe=jy,T=R,x=te,A=0,q=T;q;q=oe(q))A++;q=0;for(var le=x;le;le=oe(le))q++;for(;0<A-q;)T=oe(T),A--;for(;0<q-A;)x=oe(x),q--;for(;A--;){if(T===x||x!==null&&T===x.alternate){oe=T;break t}T=oe(T),x=oe(x)}oe=null}else oe=null;R!==null&&Sm(G,O,R,oe,!1),te!==null&&Ge!==null&&Sm(G,Ge,te,oe,!0)}}e:{if(O=k?un(k):window,R=O.nodeName&&O.nodeName.toLowerCase(),R==="select"||R==="input"&&O.type==="file")var De=Ld;else if(Md(O))if(qd)De=Ug;else{De=zg;var ne=Rg}else R=O.nodeName,!R||R.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?k&&gn(k.elementType)&&(De=Ld):De=Dg;if(De&&(De=De(e,k))){Bd(G,De,a,B);break e}ne&&ne(e,O,k),e==="focusout"&&k&&O.type==="number"&&k.memoizedProps.value!=null&&ca(O,"number",O.value)}switch(ne=k?un(k):window,e){case"focusin":(Md(ne)||ne.contentEditable==="true")&&(gi=ne,eo=k,xl=null);break;case"focusout":xl=eo=gi=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,Jd(G,a,B);break;case"selectionchange":if(Bg)break;case"keydown":case"keyup":Jd(G,a,B)}var we;if(Zc)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else mi?Dd(e,a)&&(Oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Cd&&a.locale!=="ko"&&(mi||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&mi&&(we=ml()):(La=B,fl="value"in La?La.value:La.textContent,mi=!0)),ne=hc(k,Oe),0<ne.length&&(Oe=new ie(Oe,e,null,a,B),G.push({event:Oe,listeners:ne}),we?Oe.data=we:(we=Ud(a),we!==null&&(Oe.data=we)))),(we=Tg?Ag(e,a):kg(e,a))&&(Oe=hc(k,"onBeforeInput"),0<Oe.length&&(ne=new ie("onBeforeInput","beforeinput",null,a,B),G.push({event:ne,listeners:Oe}),ne.data=we)),_y(G,e,k,a,B)}_m(G,t)})}function Ql(e,t,a){return{instance:e,listener:t,currentTarget:a}}function hc(e,t){for(var a=t+"Capture",s=[];e!==null;){var c=e,o=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||o===null||(c=pn(e,a),c!=null&&s.unshift(Ql(e,c,o)),c=pn(e,t),c!=null&&s.push(Ql(e,c,o))),e.tag===3)return s;e=e.return}return[]}function jy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sm(e,t,a,s,c){for(var o=t._reactName,f=[];a!==null&&a!==s;){var v=a,w=v.alternate,k=v.stateNode;if(v=v.tag,w!==null&&w===s)break;v!==5&&v!==26&&v!==27||k===null||(w=k,c?(k=pn(a,o),k!=null&&f.unshift(Ql(a,k,w))):c||(k=pn(a,o),k!=null&&f.push(Ql(a,k,w)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var Ey=/\r\n?/g,Ny=/\u0000|\uFFFD/g;function xm(e){return(typeof e=="string"?e:""+e).replace(Ey,`
`).replace(Ny,"")}function jm(e,t){return t=xm(t),xm(e)===t}function $e(e,t,a,s,c,o){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||fn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&fn(e,""+s);break;case"className":xa(e,"class",s);break;case"tabIndex":xa(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(e,a,s);break;case"style":In(e,s,o);break;case"data":if(t!=="object"){xa(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=yn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&$e(e,t,"name",c.name,c,null),$e(e,t,"formEncType",c.formEncType,c,null),$e(e,t,"formMethod",c.formMethod,c,null),$e(e,t,"formTarget",c.formTarget,c,null)):($e(e,t,"encType",c.encType,c,null),$e(e,t,"method",c.method,c,null),$e(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=yn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=oa);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=yn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),Kn(e,"popover",s);break;case"xlinkActuate":Qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Kn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Es.get(a)||a,Kn(e,a,s))}}function Tu(e,t,a,s,c,o){switch(a){case"style":In(e,s,o);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof s=="string"?fn(e,s):(typeof s=="number"||typeof s=="bigint")&&fn(e,""+s);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"onClick":s!=null&&(e.onclick=oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),o=e[wt]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,c),typeof s=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,c);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Kn(e,a,s)}}}function Ot(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var s=!1,c=!1,o;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];if(f!=null)switch(o){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,o,f,a,null)}}c&&$e(e,t,"srcSet",a.srcSet,a,null),s&&$e(e,t,"src",a.src,a,null);return;case"input":Ee("invalid",e);var v=o=f=c=null,w=null,k=null;for(s in a)if(a.hasOwnProperty(s)){var B=a[s];if(B!=null)switch(s){case"name":c=B;break;case"type":f=B;break;case"checked":w=B;break;case"defaultChecked":k=B;break;case"value":o=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:$e(e,t,s,B,a,null)}}Xt(e,o,v,w,k,f,c,!1);return;case"select":Ee("invalid",e),s=f=o=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":o=v;break;case"defaultValue":f=v;break;case"multiple":s=v;default:$e(e,t,c,v,a,null)}t=o,a=f,e.multiple=!!s,t!=null?jt(e,!!s,t,!1):a!=null&&jt(e,!!s,a,!0);return;case"textarea":Ee("invalid",e),o=c=s=null;for(f in a)if(a.hasOwnProperty(f)&&(v=a[f],v!=null))switch(f){case"value":s=v;break;case"defaultValue":c=v;break;case"children":o=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:$e(e,t,f,v,a,null)}hn(e,s,c,o);return;case"option":for(w in a)a.hasOwnProperty(w)&&(s=a[w],s!=null)&&(w==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":$e(e,t,w,s,a,null));return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(s=0;s<Jl.length;s++)Ee(Jl[s],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(s=a[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,k,s,a,null)}return;default:if(gn(t)){for(B in a)a.hasOwnProperty(B)&&(s=a[B],s!==void 0&&Tu(e,t,B,s,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(s=a[v],s!=null&&$e(e,t,v,s,a,null))}function Ty(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,o=null,f=null,v=null,w=null,k=null,B=null;for(R in a){var G=a[R];if(a.hasOwnProperty(R)&&G!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":w=G;default:s.hasOwnProperty(R)||$e(e,t,R,null,s,G)}}for(var O in s){var R=s[O];if(G=a[O],s.hasOwnProperty(O)&&(R!=null||G!=null))switch(O){case"type":o=R;break;case"name":c=R;break;case"checked":k=R;break;case"defaultChecked":B=R;break;case"value":f=R;break;case"defaultValue":v=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:R!==G&&$e(e,t,O,R,s,G)}}ra(e,f,v,w,k,B,o,c);return;case"select":R=f=v=O=null;for(o in a)if(w=a[o],a.hasOwnProperty(o)&&w!=null)switch(o){case"value":break;case"multiple":R=w;default:s.hasOwnProperty(o)||$e(e,t,o,null,s,w)}for(c in s)if(o=s[c],w=a[c],s.hasOwnProperty(c)&&(o!=null||w!=null))switch(c){case"value":O=o;break;case"defaultValue":v=o;break;case"multiple":f=o;default:o!==w&&$e(e,t,c,o,s,w)}t=v,a=f,s=R,O!=null?jt(e,!!a,O,!1):!!s!=!!a&&(t!=null?jt(e,!!a,t,!0):jt(e,!!a,a?[]:"",!1));return;case"textarea":R=O=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:$e(e,t,v,null,s,c)}for(f in s)if(c=s[f],o=a[f],s.hasOwnProperty(f)&&(c!=null||o!=null))switch(f){case"value":O=c;break;case"defaultValue":R=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==o&&$e(e,t,f,c,s,o)}ja(e,O,R);return;case"option":for(var te in a)O=a[te],a.hasOwnProperty(te)&&O!=null&&!s.hasOwnProperty(te)&&(te==="selected"?e.selected=!1:$e(e,t,te,null,s,O));for(w in s)O=s[w],R=a[w],s.hasOwnProperty(w)&&O!==R&&(O!=null||R!=null)&&(w==="selected"?e.selected=O&&typeof O!="function"&&typeof O!="symbol":$e(e,t,w,O,s,R));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)O=a[oe],a.hasOwnProperty(oe)&&O!=null&&!s.hasOwnProperty(oe)&&$e(e,t,oe,null,s,O);for(k in s)if(O=s[k],R=a[k],s.hasOwnProperty(k)&&O!==R&&(O!=null||R!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:$e(e,t,k,O,s,R)}return;default:if(gn(t)){for(var Ge in a)O=a[Ge],a.hasOwnProperty(Ge)&&O!==void 0&&!s.hasOwnProperty(Ge)&&Tu(e,t,Ge,void 0,s,O);for(B in s)O=s[B],R=a[B],!s.hasOwnProperty(B)||O===R||O===void 0&&R===void 0||Tu(e,t,B,O,s,R);return}}for(var T in a)O=a[T],a.hasOwnProperty(T)&&O!=null&&!s.hasOwnProperty(T)&&$e(e,t,T,null,s,O);for(G in s)O=s[G],R=a[G],!s.hasOwnProperty(G)||O===R||O==null&&R==null||$e(e,t,G,O,s,R)}function Em(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ay(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var c=a[s],o=c.transferSize,f=c.initiatorType,v=c.duration;if(o&&v&&Em(f)){for(f=0,v=c.responseEnd,s+=1;s<a.length;s++){var w=a[s],k=w.startTime;if(k>v)break;var B=w.transferSize,G=w.initiatorType;B&&Em(G)&&(w=w.responseEnd,f+=B*(w<v?1:(v-k)/(w-k)))}if(--s,t+=8*(o+f)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Au=null,ku=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function Nm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cu=null;function ky(){var e=window.event;return e&&e.type==="popstate"?e===Cu?!1:(Cu=e,!0):(Cu=null,!1)}var Am=typeof setTimeout=="function"?setTimeout:void 0,Oy=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,Cy=typeof queueMicrotask=="function"?queueMicrotask:typeof km!="undefined"?function(e){return km.resolve(null).then(e).catch(Ry)}:Am;function Ry(e){setTimeout(function(){throw e})}function us(e){return e==="head"}function Om(e,t){var a=t,s=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(c),Gi(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Xl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Xl(a);for(var o=a.firstChild;o;){var f=o.nextSibling,v=o.nodeName;o[cn]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&o.rel.toLowerCase()==="stylesheet"||a.removeChild(o),o=f}}else a==="body"&&Xl(e.ownerDocument.body);a=c}while(a);Gi(t)}function Cm(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Ru(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ru(a),cl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function zy(e,t,a,s){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[cn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Ca(e.nextSibling),e===null)break}return null}function Dy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ca(e.nextSibling),e===null))return null;return e}function Rm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ca(e.nextSibling),e===null))return null;return e}function zu(e){return e.data==="$?"||e.data==="$~"}function Du(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Uy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ca(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Uu=null;function zm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ca(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Dm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Um(e,t,a){switch(t=fc(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Xl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);cl(e)}var Ra=new Map,Mm=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=W.d;W.d={f:My,r:By,D:Ly,C:qy,L:Hy,m:$y,X:Vy,S:Gy,M:Yy};function My(){var e=Mn.f(),t=ic();return e||t}function By(e){var t=St(e);t!==null&&t.tag===5&&t.type==="form"?Ph(t):Mn.r(e)}var qi=typeof document=="undefined"?null:document;function Bm(e,t,a){var s=qi;if(s&&typeof t=="string"&&t){var c=Xe(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Mm.has(c)||(Mm.add(c),e={rel:e,crossOrigin:a,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),Ot(t,"link",e),Fe(t),s.head.appendChild(t)))}}function Ly(e){Mn.D(e),Bm("dns-prefetch",e,null)}function qy(e,t){Mn.C(e,t),Bm("preconnect",e,t)}function Hy(e,t,a){Mn.L(e,t,a);var s=qi;if(s&&e&&t){var c='link[rel="preload"][as="'+Xe(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Xe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Xe(a.imageSizes)+'"]')):c+='[href="'+Xe(e)+'"]';var o=c;switch(t){case"style":o=Hi(e);break;case"script":o=$i(e)}Ra.has(o)||(e=N({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ra.set(o,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(Zl(o))||t==="script"&&s.querySelector(Wl(o))||(t=s.createElement("link"),Ot(t,"link",e),Fe(t),s.head.appendChild(t)))}}function $y(e,t){Mn.m(e,t);var a=qi;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Xe(s)+'"][href="'+Xe(e)+'"]',o=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=$i(e)}if(!Ra.has(o)&&(e=N({rel:"modulepreload",href:e},t),Ra.set(o,e),a.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wl(o)))return}s=a.createElement("link"),Ot(s,"link",e),Fe(s),a.head.appendChild(s)}}}function Gy(e,t,a){Mn.S(e,t,a);var s=qi;if(s&&e){var c=xt(s).hoistableStyles,o=Hi(e);t=t||"default";var f=c.get(o);if(!f){var v={loading:0,preload:null};if(f=s.querySelector(Zl(o)))v.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ra.get(o))&&Mu(e,a);var w=f=s.createElement("link");Fe(w),Ot(w,"link",e),w._p=new Promise(function(k,B){w.onload=k,w.onerror=B}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,gc(f,t,s)}f={type:"stylesheet",instance:f,count:1,state:v},c.set(o,f)}}}function Vy(e,t){Mn.X(e,t);var a=qi;if(a&&e){var s=xt(a).hoistableScripts,c=$i(e),o=s.get(c);o||(o=a.querySelector(Wl(c)),o||(e=N({src:e,async:!0},t),(t=Ra.get(c))&&Bu(e,t),o=a.createElement("script"),Fe(o),Ot(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},s.set(c,o))}}function Yy(e,t){Mn.M(e,t);var a=qi;if(a&&e){var s=xt(a).hoistableScripts,c=$i(e),o=s.get(c);o||(o=a.querySelector(Wl(c)),o||(e=N({src:e,async:!0,type:"module"},t),(t=Ra.get(c))&&Bu(e,t),o=a.createElement("script"),Fe(o),Ot(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},s.set(c,o))}}function Lm(e,t,a,s){var c=(c=ye.current)?mc(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Hi(a.href),a=xt(c).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Hi(a.href);var o=xt(c).hoistableStyles,f=o.get(e);if(f||(c=c.ownerDocument||c,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,f),(o=c.querySelector(Zl(e)))&&!o._p&&(f.instance=o,f.state.loading=5),Ra.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ra.set(e,a),o||Ky(c,e,a,f.state))),t&&s===null)throw Error(r(528,""));return f}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$i(a),a=xt(c).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Hi(e){return'href="'+Xe(e)+'"'}function Zl(e){return'link[rel="stylesheet"]['+e+"]"}function qm(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function Ky(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ot(t,"link",a),Fe(t),e.head.appendChild(t))}function $i(e){return'[src="'+Xe(e)+'"]'}function Wl(e){return"script[async]"+e}function Hm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Xe(a.href)+'"]');if(s)return t.instance=s,Fe(s),s;var c=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Fe(s),Ot(s,"style",c),gc(s,a.precedence,e),t.instance=s;case"stylesheet":c=Hi(a.href);var o=e.querySelector(Zl(c));if(o)return t.state.loading|=4,t.instance=o,Fe(o),o;s=qm(a),(c=Ra.get(c))&&Mu(s,c),o=(e.ownerDocument||e).createElement("link"),Fe(o);var f=o;return f._p=new Promise(function(v,w){f.onload=v,f.onerror=w}),Ot(o,"link",s),t.state.loading|=4,gc(o,a.precedence,e),t.instance=o;case"script":return o=$i(a.src),(c=e.querySelector(Wl(o)))?(t.instance=c,Fe(c),c):(s=a,(c=Ra.get(o))&&(s=N({},a),Bu(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),Fe(c),Ot(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,gc(s,a.precedence,e));return t.instance}function gc(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,o=c,f=0;f<s.length;f++){var v=s[f];if(v.dataset.precedence===t)o=v;else if(o!==c)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var yc=null;function $m(e,t,a){if(yc===null){var s=new Map,c=yc=new Map;c.set(a,s)}else c=yc,s=c.get(a),s||(s=new Map,c.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var o=a[c];if(!(o[cn]||o[We]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var f=o.getAttribute(t)||"";f=e+f;var v=s.get(f);v?v.push(o):s.set(f,[o])}}return s}function Gm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Iy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Jy(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Hi(s.href),o=t.querySelector(Zl(c));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vc.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=o,Fe(o);return}o=t.ownerDocument||t,s=qm(s),(c=Ra.get(c))&&Mu(s,c),o=o.createElement("link"),Fe(o);var f=o;f._p=new Promise(function(v,w){f.onload=v,f.onerror=w}),Ot(o,"link",s),a.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vc.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Lu=0;function Qy(e,t){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&Lu===0&&(Lu=62500*Ay());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>Lu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function bc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,t.forEach(Xy,e),pc=null,vc.call(e))}function Xy(e,t){if(!(t.state.loading&4)){var a=pc.get(e);if(a)var s=a.get(null);else{a=new Map,pc.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<c.length;o++){var f=c[o];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),s=f)}s&&a.set(null,s)}c=t.instance,f=c.getAttribute("data-precedence"),o=a.get(f)||s,o===s&&a.set(null,c),a.set(f,c),this.count++,s=vc.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),o?o.parentNode.insertBefore(c,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Pl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Zy(e,t,a,s,c,o,f,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=o,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Ym(e,t,a,s,c,o,f,v,w,k,B,G){return e=new Zy(e,t,a,f,w,k,B,G,v),t=1,o===!0&&(t|=24),o=ma(3,null,null,t),e.current=o,o.stateNode=e,t=vo(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:s,isDehydrated:a,cache:t},wo(o),e}function Km(e){return e?(e=pi,e):pi}function Im(e,t,a,s,c,o){c=Km(c),s.context===null?s.context=c:s.pendingContext=c,s=Fn(t),s.payload={element:a},o=o===void 0?null:o,o!==null&&(s.callback=o),a=es(e,s,t),a!==null&&(ta(a,e,t),Ol(a,e,t))}function Jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function qu(e,t){Jm(e,t),(e=e.alternate)&&Jm(e,t)}function Qm(e){if(e.tag===13||e.tag===31){var t=zs(e,67108864);t!==null&&ta(t,e,67108864),qu(e,67108864)}}function Xm(e){if(e.tag===13||e.tag===31){var t=ba();t=ll(t);var a=zs(e,t);a!==null&&ta(a,e,t),qu(e,t)}}var _c=!0;function Wy(e,t,a,s){var c=z.T;z.T=null;var o=W.p;try{W.p=2,Hu(e,t,a,s)}finally{W.p=o,z.T=c}}function Py(e,t,a,s){var c=z.T;z.T=null;var o=W.p;try{W.p=8,Hu(e,t,a,s)}finally{W.p=o,z.T=c}}function Hu(e,t,a,s){if(_c){var c=$u(s);if(c===null)Nu(e,t,s,wc,a),Wm(e,s);else if(ev(c,e,t,a,s))s.stopPropagation();else if(Wm(e,s),t&4&&-1<Fy.indexOf(e)){for(;c!==null;){var o=St(c);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var f=vt(o.pendingLanes);if(f!==0){var v=o;for(v.pendingLanes|=2,v.entangledLanes|=2;f;){var w=1<<31-yt(f);v.entanglements[1]|=w,f&=~w}Fa(o),(Me&6)===0&&(nc=Nt()+500,Il(0))}}break;case 31:case 13:v=zs(o,2),v!==null&&ta(v,o,2),ic(),qu(o,2)}if(o=$u(s),o===null&&Nu(e,t,s,wc,a),o===c)break;c=o}c!==null&&s.stopPropagation()}else Nu(e,t,s,null,a)}}function $u(e){return e=Kt(e),Gu(e)}var wc=null;function Gu(e){if(wc=null,e=on(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wc=e,null}function Zm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case vr:return 2;case Da:return 8;case Fs:case sl:return 32;case il:return 268435456;default:return 32}default:return 32}}var Vu=!1,ds=null,hs=null,fs=null,Fl=new Map,er=new Map,ms=[],Fy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wm(e,t){switch(e){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(t.pointerId)}}function tr(e,t,a,s,c,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:o,targetContainers:[c]},t!==null&&(t=St(t),t!==null&&Qm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function ev(e,t,a,s,c){switch(t){case"focusin":return ds=tr(ds,e,t,a,s,c),!0;case"dragenter":return hs=tr(hs,e,t,a,s,c),!0;case"mouseover":return fs=tr(fs,e,t,a,s,c),!0;case"pointerover":var o=c.pointerId;return Fl.set(o,tr(Fl.get(o)||null,e,t,a,s,c)),!0;case"gotpointercapture":return o=c.pointerId,er.set(o,tr(er.get(o)||null,e,t,a,s,c)),!0}return!1}function Pm(e){var t=on(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,Gt(e.priority,function(){Xm(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,Gt(e.priority,function(){Xm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=$u(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Ts=s,a.target.dispatchEvent(s),Ts=null}else return t=St(a),t!==null&&Qm(t),e.blockedOn=a,!1;t.shift()}return!0}function Fm(e,t,a){Sc(e)&&a.delete(t)}function tv(){Vu=!1,ds!==null&&Sc(ds)&&(ds=null),hs!==null&&Sc(hs)&&(hs=null),fs!==null&&Sc(fs)&&(fs=null),Fl.forEach(Fm),er.forEach(Fm)}function xc(e,t){e.blockedOn===t&&(e.blockedOn=null,Vu||(Vu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tv)))}var jc=null;function e0(e){jc!==e&&(jc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(Gu(s||a)===null)continue;break}var o=St(a);o!==null&&(e.splice(t,3),t-=3,$o(o,{pending:!0,data:c,method:a.method,action:s},s,c))}}))}function Gi(e){function t(w){return xc(w,e)}ds!==null&&xc(ds,e),hs!==null&&xc(hs,e),fs!==null&&xc(fs,e),Fl.forEach(t),er.forEach(t);for(var a=0;a<ms.length;a++){var s=ms[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ms.length&&(a=ms[0],a.blockedOn===null);)Pm(a),a.blockedOn===null&&ms.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var c=a[s],o=a[s+1],f=c[wt]||null;if(typeof o=="function")f||e0(a);else if(f){var v=null;if(o&&o.hasAttribute("formAction")){if(c=o,f=o[wt]||null)v=f.formAction;else if(Gu(c)!==null)continue}else v=f.action;typeof v=="function"?a[s+1]=v:(a.splice(s,3),s-=3),e0(a)}}}function t0(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(f){return c=f})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Yu(e){this._internalRoot=e}Ec.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,s=ba();Im(a,s,e,t,null,null)},Ec.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Im(e.current,2,null,e,null,null),ic(),t[Vn]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var t=rl();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ms.length&&t!==0&&t<ms[a].priority;a++);ms.splice(a,0,e),a===0&&Pm(e)}};var a0=n.version;if(a0!=="19.2.3")throw Error(r(527,a0,"19.2.3"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var av={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Jt=Nc.inject(av),qt=Nc}catch(e){}}return nr.createRoot=function(e,t){if(!u(e))throw Error(r(299));var a=!1,s="",c=of,o=uf,f=df;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Ym(e,1,!1,null,null,a,s,null,c,o,f,t0),e[Vn]=t.current,Eu(e),new Yu(t)},nr.hydrateRoot=function(e,t,a){if(!u(e))throw Error(r(299));var s=!1,c="",o=of,f=uf,v=df,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=Ym(e,1,!0,t,a!=null?a:null,s,c,w,o,f,v,t0),t.context=Km(null),a=t.current,s=ba(),s=ll(s),c=Fn(s),c.callback=null,es(a,c,s),a=s,t.current.lanes=a,ia(t,a),Fa(t),e[Vn]=t.current,Eu(e),new Ec(t)},nr.version="19.2.3",nr}var g0;function bv(){if(g0)return Qu.exports;g0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Qu.exports=pv(),Qu.exports}var _v=bv();const wv=X0(_v),y0="./words.json";let ys=null,Rc=null;const Sv=()=>b(null,null,function*(){if(ys)return ys;try{const i=yield fetch(y0);if(!i.ok)throw new Error(`Failed to load ${y0}`);const n=yield i.json();if(!Array.isArray(n))throw new Error("Invalid dictionary format");const l=new Set,r={};return n.forEach(u=>{if(u.word&&typeof u.word=="string"){const d=u.word.trim().toLowerCase().replace(//g,"");d.length>1&&/^[-]+(-[-]+)*$/.test(d)&&(l.add(d),u.definition&&(r[d]=u.definition))}}),ys=l,Rc=r,console.log(`  : ${ys.size} `),ys}catch(i){console.error("    :",i);const n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];return ys=new Set(n),Rc={},ys}}),ir=()=>ys,Z0=i=>Rc&&Rc[i.toLowerCase().replace(//g,"")]||null,v0="",xv="",p0="",b0={bg:"./sound/Bg.mp3",click:"./sound/Click.mp3",success:"./sound/Succes.mp3",error:"./sound/Error.mp3",bonus:"./sound/Podskazka.mp3",rare_success:"./sound/Redkoe_slovo.mp3",reward_fanfare:"./sound/Redkoe_slovo.mp3"},zc=()=>new Date().toISOString().split("T")[0],_0=()=>{const i=localStorage.getItem("slovodel_streak_date")||"",n=parseInt(localStorage.getItem("slovodel_streak_count")||"0",10),l=zc();if(!i)return{count:0,status:"new"};const r=new Date(i),d=new Date(l).getTime()-r.getTime(),m=Math.floor(d/(1e3*60*60*24));return m===1?{count:n,status:"continue"}:m===0?{count:n,status:"same_day"}:{count:0,status:"reset"}},jv=i=>i>=30?"  ":i>=14?" ":i>=7?" ":i>=3?" ":null,Xs=i=>i<2e3?"-":i<5e3?" ":i<1e4?" ":i<2e4?" ":i<5e4?" ":i<1e5?" ":i<2e5?" ":i<5e5?" ":" ",Ev=i=>{const n=Math.floor(i/60),l=i%60;return`${n}:${l.toString().padStart(2,"0")}`},Nv=i=>i<2e3?i/2e3*100:i<5e3?(i-2e3)/3e3*100:i<1e4?(i-5e3)/5e3*100:i<2e4?(i-1e4)/1e4*100:i<5e4?(i-2e4)/3e4*100:i<1e5?(i-5e4)/5e4*100:i<2e5?(i-1e5)/1e5*100:i<5e5?(i-2e5)/3e5*100:100,Tv=i=>i<2e3?2e3:i<5e3?5e3:i<1e4?1e4:i<2e4?2e4:i<5e4?5e4:i<1e5?1e5:i<2e5?2e5:i<5e5?5e5:null,Av=(i,n)=>{const l=new Set;let r=0;const u=Math.random,d=i===10?4:i===8?3:2,m=xv.split("").sort(()=>Math.random()-.5);for(const p of m){if(l.size>=d)break;l.add(p)}const y=u()<.3,g=(p0+v0).split("").sort(()=>Math.random()-.5);for(const p of g){if(l.size>=i)break;v0.includes(p)?y&&r<1&&(l.add(p),r++):l.add(p)}if(l.size<i){const p=p0.split("").sort(()=>Math.random()-.5);for(const _ of p){if(l.size>=i)break;l.add(_)}}return Array.from(l).sort(()=>Math.random()-.5)},kv=(i=1)=>{const n=Math.random();let l,r=1;return n<.3?(l="time",r=Math.random()<.5?1:2):n<.57?(l="swap",r=Math.random()<.5?1:2):n<.82?l="wildcard":l="hint",{type:l,amount:Math.ceil(r*i)}};const Ov=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,r)=>r?r.toUpperCase():l.toLowerCase()),w0=i=>{const n=Cv(i);return n.charAt(0).toUpperCase()+n.slice(1)},W0=(...i)=>i.filter((n,l,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===l).join(" ").trim(),Rv=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var zv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Dv=$.forwardRef((p,g)=>{var _=p,{color:i="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:u="",children:d,iconNode:m}=_,y=Ku(_,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return $.createElement("svg",Ut(Ut(en(Ut({ref:g},zv),{width:n,height:n,stroke:i,strokeWidth:r?Number(l)*24/Number(n):l,className:W0("lucide",u)}),!d&&!Rv(y)&&{"aria-hidden":"true"}),y),[...m.map(([N,j])=>$.createElement(N,j)),...Array.isArray(d)?d:[d]])});const Se=(i,n)=>{const l=$.forwardRef((m,d)=>{var y=m,{className:r}=y,u=Ku(y,["className"]);return $.createElement(Dv,Ut({ref:d,iconNode:n,className:W0(`lucide-${Ov(w0(i))}`,`lucide-${i}`,r)},u))});return l.displayName=w0(i),l};const Uv=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Mv=Se("archive",Uv);const Bv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lv=Se("arrow-left",Bv);const qv=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Hv=Se("award",qv);const $v=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]],rd=Se("book-open-text",$v);const Gv=[["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],Vv=Se("book-plus",Gv);const Yv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],P0=Se("calendar",Yv);const Kv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cd=Se("check",Kv);const Iv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],F0=Se("circle-check-big",Iv);const Jv=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],Qv=Se("delete",Jv);const Xv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zv=Se("eye",Xv);const Wv=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],eg=Se("flame",Wv);const Pv=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Fv=Se("gift",Pv);const ep=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],tp=Se("hash",ep);const ap=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],el=Se("hourglass",ap);const np=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xd=Se("info",np);const sp=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],tl=Se("lightbulb",sp);const ip=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],lp=Se("megaphone",ip);const rp=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],tg=Se("message-circle",rp);const cp=[["path",{d:"M5 12h14",key:"1ays0h"}]],op=Se("minus",cp);const up=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],dp=Se("moon",up);const hp=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],fp=Se("music",hp);const mp=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gp=Se("pen",mp);const yp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jd=Se("plus",yp);const vp=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],al=Se("refresh-cw",vp);const pp=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],bp=Se("reply",pp);const _p=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wp=Se("save",_p);const Sp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xp=Se("search",Sp);const jp=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],od=Se("send",jp);const Ep=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ed=Se("settings",Ep);const Np=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ag=Se("shield",Np);const Tp=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Ap=Se("shopping-bag",Tp);const kp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8.5 14 7-4",key:"12hpby"}],["path",{d:"m8.5 10 7 4",key:"wwy2dy"}]],nl=Se("square-asterisk",kp);const Op=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ng=Se("star",Op);const Cp=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Rp=Se("sun",Cp);const zp=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ud=Se("trash-2",zp);const Dp=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],mr=Se("trophy",Dp);const Up=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mp=Se("user",Up);const Bp=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Lp=Se("volume-2",Bp);const qp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tn=Se("x",qp);const Hp=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Dc=Se("zap",Hp),$p=i=>i>=11?"text-fuchsia-600 dark:text-fuchsia-400":i>=9?"text-purple-600 dark:text-purple-400":i>=7?"text-blue-600 dark:text-blue-400":"text-indigo-600 dark:text-indigo-300",Gp=({words:i,onClose:n,playSfx:l})=>{const r=[...i].sort((u,d)=>d.length!==u.length?d.length-u.length:d.score-u.score);return h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content max-w-sm text-left flex flex-col max-h-[85vh]",children:[h.jsxs("div",{className:"modal-header-container",children:[h.jsxs("div",{className:"modal-header-title-group",children:[h.jsx(rd,{size:28,className:"modal-header-icon"}),h.jsxs("div",{children:[h.jsx("h2",{className:"modal-header-text",children:" "}),h.jsxs("p",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:[" : ",i.length]})]})]}),h.jsx("button",{onClick:()=>{l("click"),n()},className:"modal-close-btn",children:h.jsx(tn,{size:24,className:"modal-icon"})})]}),h.jsx("div",{className:"about-scroll-container",children:r.length===0?h.jsxs("div",{className:"collection-empty-state",children:[h.jsx(rd,{size:64,strokeWidth:1,className:"collection-empty-icon"}),h.jsxs("p",{className:"empty-state-text",children:["  ...",h.jsx("br",{}),"       !"]})]}):r.map((u,d)=>h.jsxs("div",{className:"collection-item animate-pop",children:[h.jsxs("div",{className:"flex flex-col text-left",children:[h.jsx("span",{className:`collection-word ${$p(u.length)}`,children:u.text}),h.jsxs("span",{className:"collection-meta",children:[u.length," "]})]}),h.jsxs("div",{className:"collection-score",children:["+",u.score]})]},d))}),h.jsx("div",{className:"mt-4 shrink-0",children:h.jsx("div",{className:"creator-footer",children:" "})})]})})},Vp=({data:i,onClose:n,playSfx:l,currentUserId:r,currentUserRankData:u,totalPlayers:d,getUserRank:m,activeTab:y,onTabChange:g,isLoading:p,onPlayerClick:_})=>{const N=j=>j===0?h.jsx("span",{className:"text-xl",children:""}):j===1?h.jsx("span",{className:"text-xl",children:""}):j===2?h.jsx("span",{className:"text-xl",children:""}):h.jsxs("span",{className:"leaderboard-place",children:[j+1,"."]});return h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content h-[85vh] flex flex-col",children:[h.jsxs("div",{className:"modal-header-container",children:[h.jsxs("div",{className:"modal-header-title-group",children:[h.jsx(mr,{size:28,className:"modal-header-icon text-yellow-500"}),h.jsx("h2",{className:"modal-header-text",children:" "})]}),h.jsx("button",{onClick:()=>{l("click"),n()},className:"modal-close-btn",children:h.jsx(tn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"tabs-group mb-4 shrink-0",children:[h.jsx("button",{onClick:()=>g("all"),className:`tab-item ${y==="all"?"tab-item-active":""}`,children:" "}),h.jsxs("button",{onClick:()=>g("daily"),className:`tab-item ${y==="daily"?"tab-item-active":""}`,children:[h.jsx(Dc,{size:12,fill:"currentColor"}),""]}),h.jsxs("button",{onClick:()=>g("previous"),className:`tab-item ${y==="previous"?"tab-item-active":""}`,children:[h.jsx(Dc,{size:12,fill:"currentColor"}),""]})]}),h.jsx("div",{className:"text-center mb-2 shrink-0",children:h.jsxs("p",{className:"leaderboard-total-players",children:[y==="all"?" :":y==="daily"?"  |  :":"  |  :"," ",h.jsx("span",{className:"leaderboard-total-count",children:d||0})]})}),h.jsx("div",{className:"leaderboard-scroll",children:p?h.jsx("p",{className:"text-center opacity-50",children:" ..."}):i.length===0?h.jsx("p",{className:"text-center opacity-50",children:"  "}):h.jsxs(h.Fragment,{children:[(()=>{let j=1;return i.map((C,U)=>{U>0&&C.score<i[U-1].score&&j++;const L=j,Q=C.telegram_id===r;return h.jsxs("div",{onClick:()=>_==null?void 0:_(C),className:`leaderboard-card ${Q?"leaderboard-card-active":""} cursor-pointer active:scale-[0.98]`,children:[h.jsx("div",{className:"w-6 flex justify-center items-center",children:N(L-1)}),h.jsx("img",{src:C.avatar_url||"./image/book_face.png",alt:"avatar",className:"avatar-sm"}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("p",{className:`leaderboard-name ${Q?"leaderboard-name-active":""}`,children:C.name}),h.jsx("p",{className:"leaderboard-subtext",children:y==="all"?m(C.score):"  "})]}),h.jsx("span",{className:"leaderboard-points",children:C.score})]},U)})})(),u&&y==="all"&&h.jsxs(h.Fragment,{children:[u.rank>i.length+1&&h.jsx("div",{className:"text-center font-bold opacity-50 my-4",children:"..."}),h.jsxs("div",{className:"leaderboard-card leaderboard-card-active cursor-pointer active:scale-[0.98]",onClick:()=>_==null?void 0:_(en(Ut({},u),{telegram_id:r})),children:[h.jsx("div",{className:"w-6 flex justify-center items-center",children:N(u.rank-1)}),h.jsx("img",{src:u.avatar_url||"./image/book_face.png",alt:"avatar",className:"avatar-md"}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("p",{className:"leaderboard-name leaderboard-name-active",children:u.username}),h.jsx("p",{className:"leaderboard-subtext",children:m(u.score)})]}),h.jsx("span",{className:"leaderboard-points",children:u.score})]})]})]})}),h.jsx("div",{className:"mt-2 shrink-0",children:h.jsx("button",{onClick:()=>{l("click"),n()},className:"leaderboard-close",children:""})})]})})},Yp=({musicVolume:i,setMusicVolume:n,sfxVolume:l,setSfxVolume:r,theme:u,setTheme:d,onClose:m,onExit:y,playSfx:g,showExitButton:p,isAdmin:_,onOpenAdmin:N})=>{const j=()=>{g("click"),n(i>0?0:.3)},C=()=>{g("click"),r(l>0?0:.5)},U=()=>{g("click"),d(u==="light"?"dark":"light")};return h.jsx("div",{className:"modal-overlay z-[300]",children:h.jsxs("div",{className:"modal-content max-w-sm text-left",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Ed,{size:28,className:"modal-icon"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:""})]}),h.jsx("button",{onClick:()=>{g("click"),m()},className:"modal-close-btn",children:h.jsx(tn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"settings-row",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Lp,{size:24,className:"text-green-500"}),h.jsx("span",{className:"font-bold",children:""})]}),h.jsx("button",{onClick:C,className:`settings-toggle-btn ${l>0?"settings-toggle-active-green":"toggle-btn-inactive"}`,children:h.jsx("div",{className:`settings-toggle-thumb ${l>0?"translate-x-full-custom":"translate-x-0-custom"}`})})]}),h.jsxs("div",{className:"settings-row",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(fp,{size:24,className:"text-indigo-500"}),h.jsx("span",{className:"font-bold",children:""})]}),h.jsx("button",{onClick:j,className:`settings-toggle-btn ${i>0?"settings-toggle-active-indigo":"toggle-btn-inactive"}`,children:h.jsx("div",{className:`settings-toggle-thumb ${i>0?"translate-x-full-custom":"translate-x-0-custom"}`})})]}),h.jsxs("div",{className:"settings-row",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[u==="light"?h.jsx(Rp,{size:24,className:"text-amber-500"}):h.jsx(dp,{size:24,className:"text-purple-400"}),h.jsx("span",{className:"font-bold",children:""})]}),h.jsx("button",{onClick:U,className:`settings-toggle-btn ${u==="dark"?"settings-toggle-active-purple":"settings-toggle-active-amber"}`,children:h.jsx("div",{className:`settings-toggle-thumb ${u==="dark"?"translate-x-full-custom":"translate-x-0-custom"}`})})]}),_&&N&&h.jsxs("button",{onClick:()=>{g("click"),N()},className:"btn-action-indigo",children:[h.jsx(ag,{size:18}),"  "]}),p&&h.jsx("button",{onClick:()=>{g("click"),y(),m()},className:"btn-action-red",children:" "})]}),h.jsx("div",{className:"settings-footer",children:"Slovodel Settings"})]})})},Kp=({onClose:i,playSfx:n,bonuses:l,onOpenShop:r,onSubmitFeedback:u,showRanks:d=!0,isDailyMode:m})=>{var C;const[y,g]=$.useState(""),[p,_]=$.useState(!1),N=((C=ir())==null?void 0:C.size)||0,j=()=>{y.trim()&&(u(y),g(""),_(!0),setTimeout(()=>_(!1),3e3))};return h.jsx("div",{className:"modal-overlay z-[300]",children:h.jsxs("div",{className:"modal-content max-w-sm text-left flex flex-col max-h-[85vh]",children:[h.jsxs("div",{className:"modal-header-container",children:[h.jsxs("div",{className:"modal-header-title-group",children:[h.jsx(xd,{size:28,className:"modal-header-icon"}),h.jsx("h2",{className:"modal-header-text",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"modal-close-btn",children:h.jsx(tn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"about-scroll-container",children:[h.jsxs("section",{className:"about-block",children:[h.jsx("h3",{className:"about-block-title",children:" "}),h.jsx("p",{className:"text-sm opacity-90",children:"    .   ,   !   60 ."}),h.jsxs("p",{className:"text-xs mt-2 opacity-60",children:["     ",h.jsx("span",{className:"font-bold",children:N>0?N.toLocaleString("ru-RU"):"..."})," ."]})]}),h.jsxs("section",{className:"space-y-3 mt-5",children:[h.jsx("h3",{className:"about-block-title",children:":"}),h.jsx("div",{className:"space-y-2",children:[{icon:h.jsx(el,{size:24,className:"text-icon-indigo shrink-0"}),title:"",desc:" 15    ",count:l.time,color:"text-title-indigo"},{icon:h.jsx(tl,{size:24,className:"text-icon-amber shrink-0"}),title:"",desc:"        ",count:l.hint,color:"text-title-amber"},{icon:h.jsx(nl,{size:24,className:"text-icon-purple shrink-0"}),title:"",desc:"  15  *    ",count:l.wildcard,color:"text-title-purple"},{icon:h.jsx(al,{size:24,className:"text-icon-pink shrink-0"}),title:"",desc:"      ",count:l.swap,color:"text-title-pink"}].map((U,L)=>h.jsxs("div",{className:"hint-item",children:[U.icon,h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:`font-bold text-sm uppercase truncate ${U.color}`,children:U.title}),h.jsx("p",{className:"text-[10px] leading-tight opacity-70",children:U.desc})]}),h.jsx("div",{className:"bonus-count-badge",children:h.jsx("span",{className:"font-bold text-sm",children:U.count})})]},L))}),m?h.jsx("div",{className:"daily-bonus-notice",children:h.jsx("p",{className:"daily-bonus-text",children:"     ."})}):h.jsxs("button",{onClick:()=>{n("click"),r()},className:"btn-action-indigo py-3 text-xs ",children:[h.jsx(jd,{size:16}),"  "]})]}),d&&h.jsxs("section",{className:"space-y-3",children:[h.jsx("h3",{className:"about-block-title mt-5",children:" :"}),h.jsx("div",{className:"grid grid-cols-1",children:[{rank:"-",points:" 2 000",img:"./image/face.png"},{rank:" ",points:" 2 000",img:"./image/worm.png"},{rank:" ",points:" 5 000",img:"./image/ranger.png"},{rank:" ",points:" 10 000",img:"./image/scaut.png"},{rank:" ",points:" 20 000",img:"./image/adept.png"},{rank:" ",points:" 50 000",img:"./image/master.png"},{rank:" ",points:" 100 000",img:"./image/wizard.png"},{rank:" ",points:" 200 000",img:"./image/book_master.png"},{rank:" ",points:" 500 000",img:"./image/oracul.png"}].map((U,L)=>h.jsxs("div",{className:"rank-item",children:[h.jsx("img",{src:U.img,alt:U.rank,className:"w-8 h-8 object-contain"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"rank-title",children:U.rank}),h.jsx("p",{className:"text-[10px] font-bold opacity-50 uppercase",children:U.points})]})]},L))})]}),h.jsxs("section",{className:"about-block",children:[h.jsxs("h3",{className:"about-block-title mb-2",children:[h.jsx(tg,{size:16}),"  "]}),h.jsx("p",{className:"text-xs mb-3 opacity-80",children:"     ?     "}),p?h.jsxs("div",{className:"feedback-success-msg",children:[h.jsx(cd,{size:18})," !"]}):h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("input",{type:"text",value:y,onChange:U=>g(U.target.value),placeholder:"...",className:"feedback-input"}),h.jsx("button",{onClick:()=>{n("click"),j()},disabled:!y.trim(),className:`feedback-send-btn ${y.trim()?"feedback-send-btn-active":"feedback-send-btn-disabled"}`,children:h.jsx(od,{size:18})})]})]})]}),h.jsx("div",{className:"mt-4 shrink-0",children:h.jsx("div",{className:"creator-footer",children:"Created by @AleXX_4D"})})]})})},S0=({onClose:i,playSfx:n,username:l,avatarUrl:r,rank:u,totalScore:d,highScore:m,streak:y,totalWords:g,rareWords:p,bonuses:_,onOpenShop:N,place:j,daysPlayed:C,dailyPlaces:U,coins:L,isPublicView:Q=!1})=>{const H=F=>F.includes("")?"./image/face.png":F.includes("")?"./image/worm.png":F.includes("")?"./image/ranger.png":F.includes("")?"./image/scaut.png":F.includes("")?"./image/adept.png":F.includes("")?"./image/master.png":F.includes("")?"./image/wizard.png":F.includes("")?"./image/book_master.png":F.includes("")?"./image/oracul.png":"./image/face.png",J=Nv(d),Y=Tv(d),ee=p.filter(F=>F.length>=7&&F.length<=8).sort((F,be)=>be.score-F.score).slice(0,3),fe=p.filter(F=>F.length>=9&&F.length<=10).sort((F,be)=>be.score-F.score).slice(0,3),I=p.filter(F=>F.length>=11).sort((F,be)=>be.score-F.score).slice(0,3),M=p.filter(F=>F.length>=7&&F.length<=8).length,Te=p.filter(F=>F.length>=9&&F.length<=10).length,me=p.filter(F=>F.length>=11).length;return h.jsx("div",{className:"modal-overlay z-[900] text-left",children:h.jsxs("div",{className:"modal-content max-w-sm text-left flex flex-col max-h-[85vh]",children:[h.jsxs("div",{className:"modal-header-container",children:[h.jsxs("div",{className:"modal-header-title-group",children:[h.jsx(Mp,{size:28,className:"modal-header-icon text-amber-500"}),h.jsx("h2",{className:"modal-header-text",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"modal-close-btn",children:h.jsx(tn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"about-scroll-container space-y-6",children:[h.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:r||"./image/book_face.png",alt:"avatar",className:"profile-avatar"}),h.jsx("div",{className:"profile-rank-badge",children:h.jsx("img",{src:H(u),alt:"rank",className:"w-6 h-6"})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"profile-name",children:l}),h.jsx("p",{className:"profile-rank",children:u})]})]}),h.jsxs("div",{className:"profile-block",children:[h.jsxs("div",{className:"flex justify-between profile-label",children:[h.jsx("span",{children:" "}),Y&&h.jsxs("span",{children:[d," / ",Y]})]}),h.jsx("div",{className:"level-progress-bg",children:h.jsx("div",{className:"level-progress-fill",style:{width:`${J}%`}})})]}),!Q&&h.jsx("div",{className:"profile-block cursor-pointer active:scale-95 transition-transform",onClick:()=>{n("click"),N("coins")},children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"profile-label mb-0",children:" :"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:"./image/coin.svg",alt:"coin",className:"w-6 h-6 object-contain"}),h.jsx("span",{className:"shop-balance-value",children:L})]})]})}),!Q&&h.jsxs("div",{className:"space-y-3",children:[h.jsx("h3",{className:"profile-label",children:" :"}),h.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{icon:h.jsx(el,{size:20,className:"text-indigo-500"}),count:_.time},{icon:h.jsx(tl,{size:20,className:"text-amber-500"}),count:_.hint},{icon:h.jsx(nl,{size:20,className:"text-purple-500"}),count:_.wildcard},{icon:h.jsx(al,{size:20,className:"text-pink-500"}),count:_.swap}].map((F,be)=>h.jsxs("div",{className:"bonus-card",children:[h.jsx("div",{className:"mb-1",children:F.icon}),h.jsx("span",{className:"bonus-count-badge font-bold text-sm",children:F.count})]},be))}),h.jsxs("button",{onClick:()=>{n("click"),N()},className:"profile-btn-primary",children:[h.jsx(jd,{size:18}),"  "]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"profile-label",children:" "}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(Hv,{className:"w-5 h-5 text-indigo-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:d.toLocaleString()}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(ng,{className:"w-5 h-5 text-rose-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:m.toLocaleString()}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(mr,{className:"w-5 h-5 text-amber-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:j>0?j:"-"}),h.jsx("span",{className:"stat-label-text",children:" "})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"profile-label",children:" "}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:U.first}),h.jsx("span",{className:"stat-label-text",children:"1 "})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:U.second}),h.jsx("span",{className:"stat-label-text",children:"2 "})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:U.third}),h.jsx("span",{className:"stat-label-text",children:"3 "})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"profile-label",children:""}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(P0,{className:"w-5 h-5 text-blue-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:C}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(eg,{className:"w-5 h-5 text-orange-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:y}),h.jsx("span",{className:"stat-label-text",children:""})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx(tp,{className:"w-5 h-5 text-green-500 mb-1"}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:g.toLocaleString()}),h.jsx("span",{className:"stat-label-text",children:" "})]})]})]}),h.jsxs("div",{className:"space-y-2 mb-1",children:[h.jsx("h3",{className:"profile-label",children:" "}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xs font-bold mb-1 text-blue-600 dark:text-blue-400",children:"7-8 "}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:M})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xs font-bold mb-1 text-purple-600 dark:text-purple-400",children:"9-10 "}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:Te})]}),h.jsxs("div",{className:"stat-box p-2",children:[h.jsx("span",{className:"text-xs font-bold mb-1 text-fuchsia-600 dark:text-fuchsia-400",children:"11+ "}),h.jsx("span",{className:"stat-value-text text-sm tracking-tight leading-none",children:me})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[h.jsx("div",{className:"flex flex-col gap-1 text-center",children:ee.map((F,be)=>h.jsxs("div",{className:"text-[10px] font-bold uppercase text-blue-600 dark:text-blue-400 bg-blue-100/50 dark:bg-blue-900/20 px-1 py-0.5 rounded truncate",children:[F.text," ",h.jsxs("span",{className:"opacity-60 text-[9px]",children:["(",F.score,")"]})]},be))}),h.jsx("div",{className:"flex flex-col gap-1 text-center",children:fe.map((F,be)=>h.jsxs("div",{className:"text-[10px] font-bold uppercase text-purple-600 dark:text-purple-400 bg-purple-100/50 dark:bg-purple-900/20 px-1 py-0.5 rounded truncate",children:[F.text," ",h.jsxs("span",{className:"opacity-60 text-[9px]",children:["(",F.score,")"]})]},be))}),h.jsx("div",{className:"flex flex-col gap-1 text-center",children:I.map((F,be)=>h.jsxs("div",{className:"text-[10px] font-bold uppercase text-fuchsia-600 dark:text-fuchsia-400 bg-fuchsia-100/50 dark:bg-fuchsia-900/20 px-1 py-0.5 rounded truncate",children:[F.text," ",h.jsxs("span",{className:"opacity-60 text-[9px]",children:["(",F.score,")"]})]},be))})]})]})]})]})})},Ip=({streak:i,streakMilestone:n,setStreakMilestone:l,hasPlayedToday:r,openGlobalRanking:u,openAchievements:d,playSfx:m,setShowCollection:y,onOpenAbout:g,setIsMenuOpen:p,userName:_,totalScore:N,highScore:j,isDailyPlayedToday:C,startGame:U,openDailyChallenge:L,dailyScore:Q,challengeEndTime:H,coins:J,onOpenShop:Y})=>{const[ee,fe]=$.useState("");return $.useEffect(()=>{const I=()=>{if(!H){fe("...");return}const Te=Date.now(),me=new Date(H).getTime()-Te;if(me<=0){fe("00:00:00");return}const F=Math.floor(me/(1e3*60*60)),be=Math.floor(me%(1e3*60*60)/(1e3*60)),Qe=Math.floor(me%(1e3*60)/1e3);fe(`${F.toString().padStart(2,"0")}:${be.toString().padStart(2,"0")}:${Qe.toString().padStart(2,"0")}`)};I();const M=setInterval(I,1e3);return()=>clearInterval(M)},[H]),h.jsxs("div",{className:"h-[100dvh] w-full max-w-md mx-auto p-4 flex flex-col relative overflow-hidden",children:[n&&h.jsx("div",{className:"modal-overlay z-[100]",children:h.jsxs("div",{className:"modal-content",children:[h.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),h.jsx("h2",{className:"modal-title text-title-amber",children:" !"}),h.jsxs("p",{className:"text-lg font-bold my-4 italic text-gray-800 dark:text-white break-words px-4",children:['"',n,'"']}),h.jsxs("p",{className:"text-sm opacity-70 mb-6 text-gray-600 dark:text-gray-200",children:[" : ",i," ."]}),h.jsx("button",{onClick:()=>{m("click"),l(null)},className:"w-full py-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-2xl shadow-lg active:scale-95 transition-transform uppercase",children:""})]})}),h.jsxs("div",{className:"w-full flex justify-between items-center z-10 shrink-0 gap-2",children:[h.jsxs("div",{className:"flex gap-1 shrink-0",children:[h.jsx("button",{onClick:u,className:"stat-card-icon stat-card-icon-yellow",children:h.jsx(mr,{size:24})}),h.jsxs("div",{className:"stat-badge-fire",title:" ",children:[h.jsx("span",{className:r?"fire-icon-active":"fire-icon-inactive",children:h.jsx(eg,{size:24,fill:r?"currentColor":"none"})}),h.jsx("span",{className:`text-sm ${r?"fire-text-active":"fire-text-inactive"}`,children:i})]})]}),h.jsxs("div",{className:"flex gap-1 shrink-0",children:[h.jsx("button",{onClick:()=>{m("click"),y(!0)},className:"stat-card-icon stat-card-icon-blue",children:h.jsx(rd,{size:24})}),h.jsx("button",{onClick:()=>{m("click"),g()},className:"stat-card-icon stat-card-icon-cyan",children:h.jsx(xd,{size:24})}),h.jsx("button",{onClick:()=>p(!0),className:"stat-card-icon main_up",children:h.jsx(Ed,{size:24})})]})]}),h.jsx("div",{className:"flex items-center justify-center relative z-0 min-h-0 mt-10 w-full px-8",children:h.jsx("div",{className:"logo-svg text-gradient-custom drop-shadow-lg"})}),h.jsxs("div",{className:"w-full shrink-0 flex flex-col gap-4 pb-2 mt-auto",children:[h.jsxs("div",{className:"flex justify-center items-center gap-3",children:[h.jsxs("button",{onClick:()=>{m("click"),d()},className:"player-card active:scale-95 transition-transform",children:[h.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-gradient-custom",children:_}),h.jsx("p",{className:"text-[10px] font-bold tracking-widest opacity-60 stat-label",children:Xs(N)})]}),h.jsxs("button",{onClick:()=>{m("click"),Y("coins")},className:"coin-card",title:"",children:[h.jsx("img",{src:"./image/coin.svg",alt:"coins",className:"w-5 h-5"}),h.jsx("span",{className:"coin-value",children:J})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[h.jsxs("div",{className:"stat-card ",children:[h.jsx("div",{className:"stat-label mb-1 uppercase",children:" "}),h.jsx("div",{className:"stat-value",children:j})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"stat-label mb-1 uppercase",children:" "}),h.jsx("div",{className:"stat-value",children:N})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:()=>{m("click"),L()},className:`game-day-btn group ${C?"game-day-end":"game-day"}`,children:[C?h.jsxs("span",{className:"text-lg relative z-10 flex items-center gap-2",children:[h.jsx(F0,{size:20}),"  "]}):h.jsxs("span",{className:"text-lg relative z-10 flex items-center gap-2",children:[h.jsx(Dc,{size:20,fill:"currentColor"}),"  "]}),C?h.jsxs("span",{className:"text-[10px] lowercase normal-case mt-1 opacity-70",children:[" : ",Q,"    : ",ee]}):h.jsxs("span",{className:"text-[10px] lowercase normal-case mt-1 opacity-90",children:[" : ",ee]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[h.jsxs("button",{onClick:()=>U(10),className:"game_easy game-difficulty-btn",children:[" ",h.jsx("span",{className:"opacity-80 ml-1 normal-case font-medium",children:"( x 1 )"})]}),h.jsxs("button",{onClick:()=>U(8),className:"game_medium game-difficulty-btn",children:[" ",h.jsx("span",{className:"opacity-80 ml-1 normal-case font-medium",children:"( x 1.5 )"})]}),h.jsxs("button",{onClick:()=>U(6),className:"game_hard game-difficulty-btn",children:[" ",h.jsx("span",{className:"opacity-80 ml-1 normal-case font-medium",children:"( x 2 )"})]})]})]}),h.jsx("div",{className:"settings-footer",children:"Slovodel  2026"})]})]})},Jp=i=>{const{score:n,isDailyMode:l,timeLeft:r,onOpenAbout:u,onOpenMenu:d,hintWord:m,isDefinitionLoading:y,hintDefinition:g,foundWords:p,currentInput:_,setCurrentInput:N,playSfx:j,handleAddTime:C,bonusTimeLeft:U,handleHint:L,bonusHintLeft:Q,handleWildcard:H,bonusWildcardLeft:J,wildcardActiveSeconds:Y,hintActiveSeconds:ee,hintRevealLeft:fe,toggleSwapMode:I,bonusSwapLeft:M,isSwapActive:Te,grid:me,hintIndices:F,startSwap:be,checkWord:Qe,performSwap:Bt,swapTargetIdx:it,setSwapTargetIdx:gt,showConfirm:z,setShowConfirm:W,finishGame:re,setGrid:Ae,onOpenShop:_e}=i;return h.jsxs("div",{className:"game-container",children:[it!==null&&h.jsx("div",{className:"modal-overlay z-[60]",children:h.jsxs("div",{className:"modal-content",children:[h.jsx("h3",{className:"swap-modal-title",children:""}),h.jsx("p",{className:"swap-modal-text",children:" :"}),h.jsx("input",{autoFocus:!0,className:"swap-modal-input",maxLength:1,onChange:S=>Bt(S.target.value)}),h.jsx("button",{onClick:()=>gt(null),className:"swap-modal-cancel-btn",children:""})]})}),h.jsxs("header",{className:"game-header",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("div",{className:"game-score",children:n}),l&&h.jsx("div",{className:"text-[10px] font-bold uppercase text-amber-500 tracking-wider",children:" "})]}),h.jsx("div",{className:`game-timer ${r<10?"game-timer-warning":"game-timer-normal"}`,children:Ev(r)}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>{j("click"),u()},className:"game-header-btn text-cyan-500",children:h.jsx(xd,{size:24})}),h.jsx("button",{onClick:()=>{j("click"),d()},className:"game-header-btn",children:h.jsx(Ed,{size:24})})]})]}),h.jsx("div",{className:"game-board-area",children:h.jsx("div",{className:"flex flex-wrap gap-2 content-start",children:p.map((S,D)=>h.jsxs("div",{className:"found-word-tag",children:[h.jsx("span",{className:S.text.length>=7?"found-word-tag-rare":"",children:S.text.toUpperCase()}),h.jsxs("span",{className:"found-word-score",children:["+",S.score]})]},D))})}),h.jsxs("div",{className:"game-panel",children:[h.jsx("div",{className:"mb-2 flex justify-around items-center",children:[{icon:h.jsx(el,{size:32,className:"text-icon-indigo bonus-icon-base"}),count:U,action:C,active:!0},{icon:h.jsx(tl,{size:32,className:"text-icon-amber bonus-icon-base"}),count:ee>0?`${ee}c`:Q,action:L,active:!0,pulse:ee>0,ringClass:"ring-amber-400/50"},{icon:h.jsx(nl,{size:32,className:"text-icon-purple bonus-icon-base"}),count:Y>0?`${Y}c`:J,action:H,active:Y>0,pulse:Y>0,ringClass:"ring-purple-400/50"},{icon:h.jsx(al,{size:32,className:"text-icon-pink bonus-icon-base"}),count:M,action:I,active:Te}].map((S,D)=>{const X=typeof S.count=="number"&&S.count<=0&&!S.pulse;return h.jsxs("button",{onClick:X?l?void 0:()=>{j("click"),_e()}:S.action,className:`bonus-btn-wrapper ${X&&l?"bonus-btn-disabled":"bonus-btn-active"}`,disabled:X&&l,children:[h.jsx("div",{className:`bonus-btn-container ${S.pulse?`animate-pulse ring-4 ${S.ringClass}`:""}`,children:S.icon}),h.jsx("span",{className:`bonus-badge ${X&&!l?"bonus-badge-zero":"bonus-badge-normal"}`,children:X?l?"0":"+":S.count})]},D)})}),m&&(ee>0||fe>0)&&h.jsxs("div",{className:"bg-amber-100 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-700/30 rounded-xl p-2 mb-3 text-center animate-in fade-in slide-in-from-top-1",children:[h.jsx("div",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 uppercase tracking-widest mb-1",children:ee>0?"":" "}),ee>0?h.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 italic leading-snug",children:y?"...":g}):h.jsx("div",{className:"text-xl font-black text-indigo-600 dark:text-indigo-400 tracking-widest animate-pulse",children:m})]}),h.jsxs("div",{className:"input-field-container",children:[h.jsx("div",{className:`input-text ${_.length>12?"text-right":"text-center"}`,style:{direction:_.length>12?"rtl":"ltr"},children:_.length>0?h.jsx("span",{style:{direction:"ltr",unicodeBidi:"embed"},children:_.join("")}):h.jsx("span",{className:"input-placeholder",children:"..."})}),_.length>0&&h.jsx("button",{onClick:()=>{j("click"),N(S=>S.slice(0,-1))},className:"absolute right-2 p-2 input-field-element hover:text-indigo-500 transition-colors",children:h.jsx(Qv,{size:24})})]}),h.jsx("div",{className:`grid ${me.length===10?"grid-cols-10-custom":me.length===8?"grid-cols-8-custom":"grid-cols-6-custom"} gap-2 mb-4`,children:me.map((S,D)=>{const X=F[D]||0,P=X>1?"letter-btn-hint-multi":X===1?"letter-btn-hint":"";return h.jsx("button",{onPointerDown:ue=>{ue.pointerType,Te?be(D):(j("click"),N(ye=>[...ye,S]))},className:`${me.length===10?"aspect-10":me.length===8?"aspect-8":"aspect-6"} letter-btn ${P}`,children:S},D)})}),h.jsxs("div",{className:"game-controls",children:[h.jsx("button",{onClick:()=>{j("click"),N([])},disabled:_.length===0,className:`aspect-square p-4 rounded-2xl flex items-center justify-center shadow-lg transition-all ${_.length>0?"bg-red-100 text-red-500 active:scale-95 dark:bg-red-900/30 dark:text-red-400":"bg-gray-200 text-gray-400 cursor-not-allowed dark:bg-white/5 dark:text-gray-600"}`,children:h.jsx(ud,{size:24})}),h.jsx("button",{onClick:()=>{j("click"),Ae([...me].sort(()=>Math.random()-.5))},className:"btn-control-mix",children:""}),h.jsx("button",{onClick:Qe,disabled:_.length===0,className:`btn-control-enter ${_.length>0?"btn-control-enter-active":"btn-enter-disabled"}`,children:""})]})]}),z&&h.jsx("div",{className:"modal-overlay z-[70]",children:h.jsxs("div",{className:"modal-content",children:[h.jsx("h3",{className:"modal-title",children:" ?"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>{j("click"),W(!1)},className:"confirm-modal-cancel",children:""}),h.jsx("button",{onClick:()=>{j("click"),re()},className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold shadow-lg shadow-red-500/30",children:""})]})]})})]})},Qp=({score:i,lastRoundRecordBeaten:n,totalScore:l,userName:r,onMenu:u,newRankReached:d,onRankModalClose:m})=>{const[y,g]=$.useState(!!d),p=_=>_<2e3?_/2e3*100:_<5e3?(_-2e3)/3e3*100:_<1e4?(_-5e3)/5e3*100:_<5e4?(_-1e4)/4e4*100:_<1e5?(_-5e4)/5e4*100:_<2e5?(_-1e5)/1e5*100:_<5e5?(_-2e5)/3e5*100:100;return h.jsxs("div",{className:"h-full w-full max-w-md mx-auto p-6 flex flex-col items-center justify-center animate-pop relative",children:[y&&d&&h.jsx("div",{className:"rank-modal-overlay",children:h.jsxs("div",{className:"rank-modal-content",children:[h.jsx("div",{className:"rank-modal-gradient-bar"}),h.jsx("img",{src:"./image/crown.png",alt:"Rank Up",className:"rank-modal-icon"}),h.jsx("h2",{className:"rank-modal-title",children:"!"}),h.jsx("p",{className:"rank-modal-subtitle",children:"  !  :"}),h.jsx("div",{className:"rank-modal-box",children:h.jsx("p",{className:"rank-modal-rank-name",children:d})}),h.jsx("button",{onClick:()=>{g(!1),m()},className:"rank-modal-button",children:"!"})]})}),h.jsx("h2",{className:"round-end-up",children:" "}),h.jsx("div",{className:"relative",children:h.jsx("div",{className:"round-end-score",children:i})}),n!==null&&h.jsx("div",{className:"mb-8 text-center animate-bounce",children:h.jsx("div",{className:"round-end-record",children:h.jsx("p",{className:"font-bold text-sm uppercase tracking-wide",children:"  !"})})}),h.jsxs("div",{className:"round-end-bg",children:[h.jsx("div",{className:"round-end-progress",children:" "}),h.jsx("div",{className:"round-end-progress-rank",children:h.jsx("div",{className:"round-end-progress-scale",style:{width:`${Math.min(100,p(l))}%`}})}),h.jsxs("div",{className:"flex justify-between items-end",children:[h.jsx("p",{className:"round-end-name",children:r}),h.jsx("p",{className:"round-end-rank",children:Xs(l)})]})]}),h.jsx("button",{onClick:u,className:"leaderboard-close",children:" "})]})},Xp=({onClose:i,playSfx:n,coins:l,onBuyBonuses:r,initialTab:u="bonuses"})=>{const[d,m]=$.useState(u),[y,g]=$.useState({}),p=H=>y[H]||0,_=(H,J)=>{n("click"),g(Y=>{const ee=Y[H]||0,fe=Math.max(0,Math.min(99,ee+J));return en(Ut({},Y),{[H]:fe})})},N=[{id:"time",name:"",icon:h.jsx(el,{size:24,className:"text-indigo-500"}),cost:30,type:"time"},{id:"swap",name:"",icon:h.jsx(al,{size:24,className:"text-pink-500"}),cost:40,type:"swap"},{id:"hint",name:"",icon:h.jsx(tl,{size:24,className:"text-amber-500"}),cost:50,type:"hint"},{id:"wildcard",name:"",icon:h.jsx(nl,{size:24,className:"text-purple-500"}),cost:60,type:"wildcard"}],j=[{id:1,amount:100,price:50,label:""},{id:2,amount:250,price:100,label:""},{id:3,amount:500,price:200,label:""},{id:4,amount:1e3,price:350,label:""},{id:5,amount:1500,price:500,label:" "}],C=H=>{n("click"),alert(`     ${H.price} Telegram Stars  ${H.amount} .`)},U=N.reduce((H,J)=>H+J.cost*p(J.id),0),L=N.reduce((H,J)=>H+p(J.id),0),Q=()=>{if(L===0)return;const H=N.map(J=>({type:J.type,cost:J.cost*p(J.id),amount:p(J.id)})).filter(J=>J.amount>0);r(H)&&g({})};return h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content max-w-sm h-[80vh] flex flex-col",children:[h.jsxs("div",{className:"modal-header-container",children:[h.jsxs("div",{className:"modal-header-title-group",children:[h.jsx(Ap,{size:28,className:"modal-header-icon"}),h.jsx("h2",{className:"modal-header-text",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"modal-close-btn",children:h.jsx(tn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"shop-balance-card",children:[h.jsx("span",{className:"shop-balance-label",children:" "}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:"./image/coin.svg",alt:"coin",className:"w-8 h-8 object-contain"}),h.jsx("span",{className:"shop-balance-value",children:l})]})]}),h.jsxs("div",{className:"tabs-group mb-4 shrink-0",children:[h.jsx("button",{onClick:()=>{n("click"),m("bonuses")},className:`tab-item ${d==="bonuses"?"tab-item-active":""}`,children:" "}),h.jsx("button",{onClick:()=>{n("click"),m("coins")},className:`tab-item ${d==="coins"?"tab-item-active":""}`,children:" "})]}),h.jsx("div",{className:"shop-list-container",children:d==="bonuses"?h.jsxs(h.Fragment,{children:[N.map(H=>{const J=p(H.id);return h.jsx("div",{className:"shop-item-card-col",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"shop-item-icon-bg",children:H.icon}),h.jsxs("div",{children:[h.jsx("p",{className:"shop-item-title",children:H.name}),h.jsxs("p",{className:"shop-item-cost flex items-center",children:[h.jsx("img",{src:"./image/coin.svg",alt:"C",className:"w-3 h-3 mr-1"}),H.cost]})]})]}),h.jsxs("div",{className:"shop-item-control",children:[h.jsx("button",{onClick:()=>_(H.id,-1),className:"shop-item-control-plus",children:h.jsx(op,{size:14})}),h.jsx("span",{className:"shop-item-control-count ",children:J}),h.jsx("button",{onClick:()=>_(H.id,1),className:"shop-item-control-plus",children:h.jsx(jd,{size:14})})]})]})},H.id)}),h.jsx("p",{className:"shop-item-info",children:"        ,  ,       ."})]}):j.map(H=>h.jsxs("div",{className:"coin-pack-card",children:[h.jsxs("div",{className:"relative z-10 text-left",children:[h.jsxs("p",{className:"coin-pack-amount flex items-center gap-1",children:[h.jsx("img",{src:"./image/coin.svg",alt:"c",className:"w-5 h-5"}),H.amount]}),h.jsx("p",{className:"coin-pack-label",children:H.label})]}),h.jsxs("button",{onClick:()=>C(H),className:"coin-pack-btn",children:[H.price," ",h.jsx(ng,{size:12,fill:"currentColor"})]}),h.jsx("img",{src:"./image/coin.svg",className:"coin-pack-bg-icon w-16 h-16"})]},H.id))}),d==="bonuses"&&h.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-white/10 mt-auto",children:h.jsxs("button",{onClick:Q,disabled:L===0,className:`shop-footer-btn ${L>0?"shop-footer-btn-active":"shop-footer-btn-disabled"}`,children:[h.jsx("span",{children:L>0?`  ${U}`:" "}),L>0&&h.jsx("img",{src:"./image/coin.svg",className:"w-6 h-6"})]})})]})})},Zp=({onClose:i,playSfx:n,fetchFeedbacks:l,addCustomWord:r,fetchAdminCustomWords:u,deleteCustomWord:d,updateCustomWord:m,onReply:y,onArchive:g,onDelete:p,onBroadcast:_,onTestModal:N})=>{const[j,C]=$.useState("feedback"),[U,L]=$.useState([]),[Q,H]=$.useState([]),[J,Y]=$.useState(""),[ee,fe]=$.useState(!1),[I,M]=$.useState("idle"),[Te,me]=$.useState(null),[F,be]=$.useState(""),[Qe,Bt]=$.useState(""),[it,gt]=$.useState(""),[z,W]=$.useState(null),[re,Ae]=$.useState(null),[_e,S]=$.useState(""),[D,X]=$.useState("all"),[P,ue]=$.useState("");$.useEffect(()=>{j==="feedback"?(fe(!0),l().then(Z=>{L(Z),fe(!1)})):j==="dictionary"&&(fe(!0),u().then(Z=>{H(Z),fe(!1)}))},[j,l,u]);const ye=()=>b(null,null,function*(){if(!J.trim())return;const Z=J.trim().toLowerCase();M("idle"),(yield r(Z))?(Y(""),M("success"),setTimeout(()=>M("idle"),2e3),u().then(H)):M("error")}),xe=(Z,Ye)=>b(null,null,function*(){window.confirm(`  "${Ye}"?`)&&(yield d(Z))&&H(Hn=>Hn.filter(bs=>bs.id!==Z))}),lt=Z=>{me(Z.id),be(Z.word),Bt(Z.definition||"")},qe=()=>{me(null),be(""),Bt("")},Lt=Z=>b(null,null,function*(){const Ye=F.trim().toLowerCase(),ot=Qe.trim();if(!Ye){qe();return}(yield m(Z,Ye,ot))&&(H(bs=>bs.map(_s=>_s.id===Z?en(Ut({},_s),{word:Ye,definition:ot}):_s)),qe())}),na=()=>{if(!it.trim())return;const Z=ir(),Ye=it.trim().toLowerCase().replace(//g,"");if(Z&&Z.has(Ye)){const ot=Z0(Ye);W({found:!0,definition:ot})}else W({found:!1,definition:null})},an=Q.filter(Z=>Z.word.toLowerCase().includes(it.toLowerCase())),nn=U.filter(Z=>D==="archived"?Z.status==="archived":Z.status==="archived"?!1:D==="new"?Z.status!=="replied":D==="replied"?Z.status==="replied":!0),za=Z=>b(null,null,function*(){if(!_e.trim())return;(yield y(Z.id,Z.telegram_id,_e))?(Ae(null),S(""),l().then(L)):alert("  ")}),sn=Z=>b(null,null,function*(){(yield g(Z))&&L(Ye=>Ye.map(ot=>ot.id===Z?en(Ut({},ot),{status:"archived"}):ot))}),ln=Z=>b(null,null,function*(){window.confirm("  ?")&&(yield p(Z))&&L(Ye=>Ye.filter(ot=>ot.id!==Z))}),qn=()=>b(null,null,function*(){P.trim()&&window.confirm(" ,       ?")&&((yield _(P))?(ue(""),alert("   !")):alert("  "))});return h.jsx("div",{className:"admin-container",children:h.jsxs("div",{className:"flex flex-col h-full p-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(ag,{size:28,className:"modal-header-icon"}),h.jsx("h2",{className:"admin-header-title",children:""})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"admin-back-btn",children:h.jsx(Lv,{size:24,className:"admin-back-icon"})})]}),h.jsxs("div",{className:"tabs-group mb-4 shrink-0",children:[h.jsxs("button",{onClick:()=>C("feedback"),className:`tab-item ${j==="feedback"?"tab-item-active":""}`,children:[h.jsx(tg,{size:16})," "]}),h.jsxs("button",{onClick:()=>C("dictionary"),className:`tab-item ${j==="dictionary"?"tab-item-active":""}`,children:[h.jsx(Vv,{size:16})," "]}),h.jsxs("button",{onClick:()=>C("broadcast"),className:`tab-item ${j==="broadcast"?"tab-item-active":""}`,children:[h.jsx(lp,{size:16})," "]}),h.jsxs("button",{onClick:()=>C("testing"),className:`tab-item ${j==="testing"?"tab-item-active":""}`,children:[h.jsx(Zv,{size:16})," UI "]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:j==="feedback"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:[h.jsx("button",{onClick:()=>X("all"),className:`admin-filter-btn ${D==="all"?"admin-filter-btn-active":"admin-filter-btn-inactive"}`,children:""}),h.jsx("button",{onClick:()=>X("new"),className:`admin-filter-btn ${D==="new"?"admin-filter-btn-active":"admin-filter-btn-inactive"}`,children:""}),h.jsx("button",{onClick:()=>X("replied"),className:`admin-filter-btn ${D==="replied"?"admin-filter-btn-active":"admin-filter-btn-inactive"}`,children:" "}),h.jsx("button",{onClick:()=>X("archived"),className:`admin-filter-btn ${D==="archived"?"admin-filter-btn-active":"admin-filter-btn-inactive"}`,children:""})]}),ee?h.jsx("p",{className:"text-center opacity-50 mt-10",children:"..."}):nn.length===0?h.jsx("p",{className:"text-center opacity-50 mt-10",children:" "}):nn.map((Z,Ye)=>h.jsxs("div",{className:"admin-card",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("span",{className:"admin-card-header-text",children:Z.username}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] opacity-50",children:new Date(Z.created_at).toLocaleDateString()}),h.jsx("button",{onClick:()=>sn(Z.id),className:"text-gray-400 hover:text-indigo-500 transition-colors",title:" ",children:h.jsx(Mv,{size:14})}),h.jsx("button",{onClick:()=>ln(Z.id),className:"text-gray-400 hover:text-red-500 transition-colors",title:"",children:h.jsx(ud,{size:14})})]})]}),h.jsx("p",{className:"admin-text-content",children:Z.message}),Z.status==="replied"?h.jsxs("div",{className:"admin-reply-box",children:[h.jsx("p",{className:"admin-reply-label",children:" :"}),h.jsx("p",{className:"admin-reply-text",children:Z.admin_reply})]}):h.jsx("div",{className:"mt-3",children:re===Z.id?h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{value:_e,onChange:ot=>S(ot.target.value),placeholder:" ...",className:"flex-1 admin-input-field"}),h.jsx("button",{onClick:()=>za(Z),className:"p-2 bg-green-500 text-white rounded-xl",children:h.jsx(od,{size:16})}),h.jsx("button",{onClick:()=>Ae(null),className:"p-2 bg-gray-300 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-xl",children:h.jsx(tn,{size:16})})]}):h.jsxs("button",{onClick:()=>{Ae(Z.id),S("")},className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 flex items-center gap-1 hover:underline",children:[h.jsx(bp,{size:12})," "]})})]},Ye))]}):j==="dictionary"?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"admin-card",children:[h.jsx("label",{className:"admin-section-label",children:"  "}),h.jsxs("div",{className:"flex gap-2 mb-2",children:[h.jsx("input",{value:it,onChange:Z=>{gt(Z.target.value),W(null)},placeholder:"...",className:"flex-1 admin-input-field",onKeyDown:Z=>Z.key==="Enter"&&na()}),h.jsx("button",{onClick:na,className:"p-3 rounded-xl text-white bg-blue-500 hover:bg-blue-600 transition-all",children:h.jsx(xp,{size:20})})]}),(z==null?void 0:z.found)&&h.jsxs("div",{className:"text-green-600 dark:text-green-400 text-sm font-bold flex flex-col gap-1 animate-in fade-in slide-in-from-top-1 mt-2 p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(cd,{size:16}),"    "]}),z.definition&&h.jsx("div",{className:"text-xs font-normal opacity-80 italic",children:z.definition})]}),z&&!z.found&&h.jsxs("div",{className:"text-red-500 dark:text-red-400 text-sm font-bold flex items-center gap-2 animate-in fade-in slide-in-from-top-1 mt-2 p-2 bg-red-100 dark:bg-red-900/20 rounded-lg",children:[h.jsx(tn,{size:16}),"   "]})]}),h.jsxs("div",{className:"admin-card",children:[h.jsx("label",{className:"admin-section-label",children:"   "}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{value:J,onChange:Z=>Y(Z.target.value),placeholder:"...",className:"flex-1 admin-input-field"}),h.jsx("button",{onClick:ye,className:`p-3 rounded-xl text-white transition-all ${I==="success"?"bg-green-500":"bg-indigo-600"}`,children:I==="success"?h.jsx(cd,{size:20}):h.jsx(od,{size:20})})]}),h.jsx("p",{className:"text-[10px] opacity-50 mt-1 text-center",children:"    YandexGPT"})]}),h.jsx("div",{className:"space-y-2 pb-4",children:Q.length===0?h.jsx("p",{className:"text-center opacity-50 text-xs",children:"  "}):an.length===0?h.jsx("p",{className:"text-center opacity-50 text-xs",children:"  "}):an.map(Z=>h.jsx("div",{className:"bg-white/40 dark:bg-white/5 p-3 rounded-xl border border-white/10 flex flex-col gap-2",children:Te===Z.id?h.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{value:F,onChange:Ye=>be(Ye.target.value),className:"flex-1 bg-white/50 dark:bg-black/20 border border-white/10 rounded-lg px-2 py-1 outline-none text-sm font-bold",autoFocus:!0}),h.jsx("button",{onClick:()=>Lt(Z.id),className:"p-2 text-green-600 hover:bg-green-100 dark:hover:bg-green-900/30 rounded-lg",children:h.jsx(wp,{size:16})}),h.jsx("button",{onClick:qe,className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:h.jsx(tn,{size:16})})]}),h.jsx("textarea",{value:Qe,onChange:Ye=>Bt(Ye.target.value),className:"w-full bg-white/50 dark:bg-black/20 border border-white/10 rounded-lg px-2 py-1 outline-none text-xs h-16 resize-none",placeholder:"..."})]}):h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{className:"flex flex-col gap-1 overflow-hidden",children:[h.jsx("span",{className:"font-bold text-gray-800 dark:text-white truncate",children:Z.word}),h.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 italic line-clamp-2 leading-tight",children:Z.definition||" "}),h.jsxs("span",{className:"text-[9px] opacity-40 uppercase tracking-widest",children:[new Date(Z.created_at).toLocaleDateString(),"  ",Z.source||"admin"]})]}),h.jsxs("div",{className:"flex flex-col gap-1 shrink-0",children:[h.jsx("button",{onClick:()=>lt(Z),className:"p-2 text-indigo-600 hover:bg-indigo-100 dark:hover:bg-indigo-900/30 rounded-lg",children:h.jsx(gp,{size:16})}),h.jsx("button",{onClick:()=>xe(Z.id,Z.word),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg",children:h.jsx(ud,{size:16})})]})]})},Z.id))})]}):j==="broadcast"?h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"admin-card",children:[h.jsx("label",{className:"admin-section-label",children:"   "}),h.jsx("textarea",{value:P,onChange:Z=>ue(Z.target.value),className:"w-full bg-white/50 dark:bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-sm outline-none min-h-[120px] mb-4 text-gray-900 dark:text-white placeholder:text-gray-500",placeholder:"  ..."}),h.jsx("button",{onClick:qn,disabled:!P.trim(),className:`w-full py-3 rounded-xl text-white font-bold transition-all ${P.trim()?"bg-indigo-600 hover:bg-indigo-700 active:scale-95":"bg-gray-300 dark:bg-gray-700 cursor-not-allowed"}`,children:""}),h.jsx("p",{className:"text-[10px] opacity-50 mt-2 text-center text-gray-600 dark:text-gray-400",children:"    ,  ."})]})}):h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"admin-card",children:[h.jsx("label",{className:"admin-section-label",children:"  "}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx("button",{onClick:()=>{n("click"),N("reward")},className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-xl font-bold text-sm hover:opacity-80 transition-opacity",children:" "}),h.jsx("button",{onClick:()=>{n("click"),N("rank_up")},className:"p-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-xl font-bold text-sm hover:opacity-80 transition-opacity",children:" "})]})]})})})]})})},Wp=({onClose:i,onStart:n,playSfx:l,completedLevels:r,currentScore:u=0})=>h.jsx("div",{className:"modal-overlay z-[400]",children:h.jsxs("div",{className:"modal-content max-w-sm",children:[h.jsxs("div",{className:"modal-header-container",children:[h.jsxs("div",{className:"modal-header-title-group",children:[h.jsx(Dc,{size:28,className:"modal-header-icon text-amber-500",fill:"currentColor"}),h.jsx("h2",{className:"modal-header-text",children:" "})]}),h.jsx("button",{onClick:()=>{l("click"),i()},className:"modal-close-btn",children:h.jsx(tn,{size:24,className:"modal-icon"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"daychallenge-bg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("div",{className:"daychallenge-callendar",children:[h.jsx(P0,{size:14}),h.jsx("span",{children:""})]}),h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsx("span",{className:"daychallenge-points text-[10px] uppercase opacity-60",children:" "}),h.jsx("span",{className:"daychallenge-points text-xl leading-none",children:u})]})]}),h.jsx("p",{className:"daychallenge-info",children:"  ,      .        1   .   ,       !"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-center text-xs font-bold uppercase opacity-50 mb-2",children:" "}),[{lvl:10,label:"",mult:"( x 1 )",color:"daychallenge-easy-color",border:"daychallenge-easy-border",hover:"hover:bg-green-500/10"},{lvl:8,label:"",mult:"( x 1.5 )",color:"daychallenge-normal-color",border:"daychallenge-normal-border",hover:"hover:bg-blue-500/10"},{lvl:6,label:"",mult:"( x 2 )",color:"daychallenge-hard-color",border:"daychallenge-hard-border",hover:"hover:bg-red-500/10"}].map(d=>{const m=r.includes(d.lvl);return h.jsxs("button",{onClick:()=>!m&&n(d.lvl),disabled:m,className:`daychallenge-button
                    ${m?"opacity-50 cursor-not-allowed border-gray-200 text-gray-400":`${d.color} ${d.border} ${d.hover} active:scale-[0.98]`}`,children:[h.jsxs("span",{className:"uppercase",children:[d.label," ",h.jsx("span",{className:"normal-case opacity-60 ml-1",children:d.mult})]}),m&&h.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[h.jsx(F0,{size:20})," ",h.jsx("span",{className:"text-[10px]",children:""})]})]},d.lvl)})]})]})]})}),x0={time:h.jsx(el,{size:24,className:"text-indigo-500"}),hint:h.jsx(tl,{size:24,className:"text-amber-500"}),swap:h.jsx(al,{size:24,className:"text-pink-500"}),wildcard:h.jsx(nl,{size:24,className:"text-purple-500"}),daily_bundle:h.jsx(mr,{size:64,className:"text-amber-500 animate-bounce"})},Pp={time:"",hint:"",swap:"",wildcard:"",daily_bundle:" "},Fp=({onClose:i,playSfx:n,achievement:l,reward:r})=>{const u=r.type==="daily_bundle",d=r.type==="bundle";return h.jsx("div",{className:"modal-overlay z-[500] animate-in fade-in duration-300",children:h.jsxs("div",{className:"reward-modal-content",children:[h.jsx("div",{className:"reward-gradient-bar"}),u?h.jsx(mr,{size:64,className:"mx-auto mb-4 text-amber-500 animate-bounce"}):h.jsx(Fv,{size:64,className:"reward-icon"}),h.jsx("h2",{className:"reward-title",children:u?"!":"!"}),h.jsx("p",{className:"reward-subtitle",children:l}),h.jsxs("div",{className:"reward-box",children:[h.jsx("p",{className:"reward-box-label",children:" :"}),u?h.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[h.jsxs("p",{className:"font-bold text-lg text-indigo-700",children:["  +",r.amount]}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsx(el,{size:20,className:"text-indigo-500"}),h.jsx(tl,{size:20,className:"text-amber-500"}),h.jsx(al,{size:20,className:"text-pink-500"}),h.jsx(nl,{size:20,className:"text-purple-500"})]})]}):d?h.jsx("div",{className:"grid grid-cols-2 gap-2 w-full px-4",children:r.items.map(m=>h.jsxs("div",{className:"flex items-center gap-2 bg-indigo-100 dark:bg-indigo-900/50 p-2 rounded-lg justify-center",children:[x0[m.type],h.jsxs("span",{className:"font-bold text-indigo-700 dark:text-indigo-200",children:["+",m.amount]})]},m.type))}):h.jsxs(h.Fragment,{children:[x0[r.type],h.jsxs("p",{className:"reward-box-value",children:[Pp[r.type]," +",r.amount]})]})]}),h.jsx("button",{onClick:()=>{n("click"),i()},className:"reward-button",children:""})]})})},eb=()=>{const[i,n]=$.useState(()=>localStorage.getItem("slovodel_theme")||"light");return $.useEffect(()=>{i==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.style.colorScheme="dark"):(document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light"),localStorage.setItem("slovodel_theme",i)},[i]),{theme:i,setTheme:n}};function tb({saveUserData:i,saveDailyScore:n,getUserData:l,getActiveChallenge:r,getLeaderboard:u,getDailyLeaderboard:d,fetchPreviousDailyLeaderboard:m,getUserDailyScore:y,fetchUserRank:g,saveFeedback:p,fetchFeedbacks:_,addCustomWord:N,fetchCustomWords:j,fetchAdminCustomWords:C,deleteCustomWord:U,updateCustomWord:L,sendFeedbackReply:Q,archiveFeedback:H,deleteFeedback:J,sendBroadcast:Y,fetchNotifications:ee,deleteNotification:fe,tg:I}){var Sr,xr,hi;const M=(hi=(xr=(Sr=window.Telegram)==null?void 0:Sr.WebApp)==null?void 0:xr.initDataUnsafe)==null?void 0:hi.user,Te=M?M.first_name+(M.last_name?" "+M.last_name:""):" ",me="818790686, 6162543835".split(",").map(E=>Number(E.trim())).filter(E=>!isNaN(E)),[F,be]=$.useState("menu"),[Qe,Bt]=$.useState(!0),[it,gt]=$.useState(60),[z,W]=$.useState(0),[re,Ae]=$.useState(1),[_e,S]=$.useState(!1),[D,X]=$.useState(!1),[P,ue]=$.useState(!1),[ye,xe]=$.useState(!1),[lt,qe]=$.useState(!1),[Lt,na]=$.useState(!1),[an,nn]=$.useState(null),[za,sn]=$.useState("bonuses"),[ln,qn]=$.useState(!1),[Z,Ye]=$.useState(()=>{const E=localStorage.getItem("slovodel_daily_play_v2");if(E)try{const K=JSON.parse(E);if(K.challengeId)return K.challengeId}catch(K){}return"1"}),[ot,Hn]=$.useState(null),[bs,_s]=$.useState(null),[Nt,yr]=$.useState(!1),[vr,Da]=$.useState([]),[Fs,sl]=$.useState(null),[il,pr]=$.useState("all"),[Gc,Jt]=$.useState(0),[qt,sa]=$.useState(!1),{theme:yt,setTheme:Vc}=eb();$.useEffect(()=>{I&&(I.expand(),I.ready(),typeof I.isVerticalSwipesEnabled!="undefined"&&(I.isVerticalSwipesEnabled=!1),yt==="dark"?(I.setHeaderColor("#0f172a"),I.setBackgroundColor("#0f172a")):(I.setHeaderColor("#ffffff"),I.setBackgroundColor("#ffffff")))},[I,yt]);const[$n,Yc]=$.useState(()=>{var E;return Number((E=localStorage.getItem("slovodel_music_vol"))!=null?E:.3)}),[Ka,ei]=$.useState(()=>{var E;return Number((E=localStorage.getItem("slovodel_sfx_vol"))!=null?E:.5)}),Ht=$.useRef(null),[vt,Gn]=$.useState(()=>{const E=localStorage.getItem("slovodel_total_score");return E?parseInt(E,10):0}),[$t,br]=$.useState(()=>{const E=localStorage.getItem("slovodel_high_score");return E?parseInt(E,10):0}),[rn,ws]=$.useState(()=>{const E=localStorage.getItem("slovodel_total_words");return E?parseInt(E,10):0}),[ia,Ss]=$.useState(()=>{const E=localStorage.getItem("slovodel_coins");return E?parseInt(E,10):0}),[Ua,ti]=$.useState(()=>_0().count),[xs,ll]=$.useState(()=>localStorage.getItem("slovodel_streak_date")===zc()),[js,rl]=$.useState(null),[Gt,la]=$.useState(()=>{const E=localStorage.getItem("slovodel_rare_words");if(E)try{return JSON.parse(E)}catch(K){console.error("   :",K)}return[]}),[We,wt]=$.useState(0),[Vn,ai]=$.useState({first:0,second:0,third:0}),[Kc,Ic]=$.useState(0);$.useEffect(()=>{localStorage.setItem("slovodel_rare_words",JSON.stringify(Gt))},[Gt]);const[Vt,cn]=$.useState(()=>{const E=localStorage.getItem("slovodel_daily_play_v2");if(E)try{const K=JSON.parse(E);if(K.userId===(M==null?void 0:M.id)&&K.challengeId&&K.scores)return K}catch(K){console.error("  :",K)}return{challengeId:"1",scores:{},userId:M==null?void 0:M.id}}),[cl,on]=$.useState(null),[St,un]=$.useState(null),[xt,Fe]=$.useState(null),[ni,Yn]=$.useState([]),[et,dn]=$.useState(null),Jc=E=>{be("menu"),setTimeout(()=>{switch(E){case"reward":Fe({achievement:" ",reward:{type:"hint",amount:5}}),ce("reward_fanfare");break;case"rank_up":un(" "),be("results");break}},100)},tt=$.useCallback((E,K)=>{_r({text:E,type:K}),setTimeout(()=>_r(null),3500)},[]);$.useEffect(()=>{if(I){I.ready(),I.expand();const E=yt==="light"?"#c7d2fe":"#0f172a";I.setHeaderColor(E),I.setBackgroundColor&&I.setBackgroundColor(E)}},[yt,I]),$.useEffect(()=>{_0().status==="reset"&&Ua>0&&(tt("  ...  ,       !   !","bad"),ti(0),localStorage.setItem("slovodel_streak_count","0"))},[]);const[Ia,ol]=$.useState([]),[Kn,xa]=$.useState([]),[Qt,Yt]=$.useState([]),[Ja,_r]=$.useState(null),[ul,si]=$.useState(!1),[zt,Ma]=$.useState(()=>{var E;return Number((E=localStorage.getItem("slovodel_bonus_time"))!=null?E:2)}),[Xe,ra]=$.useState(()=>{var E;return Number((E=localStorage.getItem("slovodel_bonus_swap"))!=null?E:2)}),[Xt,ca]=$.useState(()=>{var E;return Number((E=localStorage.getItem("slovodel_bonus_hint"))!=null?E:20)}),[jt,ja]=$.useState(()=>{var E;return Number((E=localStorage.getItem("slovodel_bonus_wildcard"))!=null?E:2)}),hn=$.useRef({time:0,hint:0,swap:0,wildcard:0}),[fn,ii]=$.useState(0),[mn,In]=$.useState(0),[gn,Es]=$.useState(0),[Ns,yn]=$.useState(null),[oa,Ts]=$.useState(!1),[Kt,Ba]=$.useState(null),[Jn,vn]=$.useState(null),[dl,hl]=$.useState(new Set);$.useEffect(()=>{Kt&&mn===0&&gn===0&&(Ba(null),vn(null))},[mn,gn,Kt]);const pn=$.useRef({}),ce=$.useCallback(E=>{var K,V,ae,ge;if(E!=="bg"){try{pn.current[E]||(pn.current[E]=new Audio(b0[E]));const ie=pn.current[E].cloneNode();ie.volume=Ka,ie.play().catch(()=>{})}catch(ie){console.error("Audio play error",ie)}(E==="success"||E==="rare_success")&&((K=I==null?void 0:I.HapticFeedback)==null||K.notificationOccurred("success")),E==="error"&&((V=I==null?void 0:I.HapticFeedback)==null||V.notificationOccurred("error")),E==="bonus"&&((ae=I==null?void 0:I.HapticFeedback)==null||ae.impactOccurred("medium")),E==="click"&&((ge=I==null?void 0:I.HapticFeedback)==null||ge.selectionChanged())}},[Ka,I]);$.useEffect(()=>{Ht.current||(Ht.current=new Audio(b0.bg),Ht.current.loop=!0,Ht.current.volume=$n)},[$n]),$.useEffect(()=>{Ht.current&&(F==="playing"&&!_e&&!D&&!Lt?Ht.current.play().catch(E=>console.log("Audio play failed",E)):(Ht.current.pause(),F!=="playing"&&(Ht.current.currentTime=0)))},[F,_e,D,Lt]),$.useEffect(()=>{Ht.current&&(Ht.current.volume=$n),localStorage.setItem("slovodel_music_vol",$n.toString())},[$n]),$.useEffect(()=>{localStorage.setItem("slovodel_sfx_vol",Ka.toString())},[Ka]),$.useEffect(()=>{Sv().then(()=>b(null,null,function*(){if(Bt(!1),j){const V=yield j(),ae=ir();ae&&V.length>0&&(V.forEach(ge=>ae.add(ge)),console.log(`[]  ${V.length}    `))}}));const E=()=>{r&&r().then(V=>{V&&(Ye(ae=>ae!==V.id?V.id:ae),Hn(ae=>JSON.stringify(ae)!==JSON.stringify(V.letters)?V.letters:ae),_s(ae=>ae!==V.endTime?V.endTime:ae))})};E();const K=setInterval(E,3e4);return()=>clearInterval(K)},[j,r]),$.useEffect(()=>{localStorage.setItem("slovodel_total_score",vt.toString()),localStorage.setItem("slovodel_high_score",$t.toString()),localStorage.setItem("slovodel_rare_words",JSON.stringify(Gt)),localStorage.setItem("slovodel_total_words",rn.toString()),localStorage.setItem("slovodel_coins",ia.toString())},[vt,$t,Gt,rn]),$.useEffect(()=>{localStorage.setItem("slovodel_bonus_time",zt.toString())},[zt]),$.useEffect(()=>{localStorage.setItem("slovodel_bonus_swap",Xe.toString())},[Xe]),$.useEffect(()=>{localStorage.setItem("slovodel_bonus_hint",Xt.toString())},[Xt]),$.useEffect(()=>{localStorage.setItem("slovodel_bonus_wildcard",jt.toString())},[jt]),$.useEffect(()=>{M!=null&&M.id&&l&&(l(M.id).then(E=>{var K,V,ae,ge,ie,ze,Ce,ua,Qa,wn,da,Zt;if(E){if(Gn((K=E.score)!=null?K:0),Ss((V=E.coins)!=null?V:0),Ma((ae=E.bonus_time)!=null?ae:2),ca((ge=E.bonus_hint)!=null?ge:2),ra((ie=E.bonus_swap)!=null?ie:2),ja((ze=E.bonus_wildcard)!=null?ze:2),la(Array.isArray(E.rare_words)?E.rare_words:[]),ws((Ce=E.total_words)!=null?Ce:0),((ua=E.streak)!=null?ua:0)>Ua){const ha=E.updated_at?new Date(E.updated_at):new Date(0),Xa=new Date,fi=new Date(Xa);fi.setDate(Xa.getDate()-1);const pl=ha.toDateString()===Xa.toDateString(),Xc=ha.toDateString()===fi.toDateString();(pl||Xc)&&(ti(E.streak),localStorage.setItem("slovodel_streak_count",E.streak.toString()))}wt((Qa=E.days_played)!=null?Qa:0),ai({first:(wn=E.daily_1_place)!=null?wn:0,second:(da=E.daily_2_place)!=null?da:0,third:(Zt=E.daily_3_place)!=null?Zt:0}),g&&g(M.id).then(ha=>{ha&&typeof ha.rank=="number"&&Ic(ha.rank)})}else Gn(0),br(0),la([]),Ss(0),Ma(2),ca(2),ra(2),ja(2),ws(0),wt(0),ai({first:0,second:0,third:0})}).catch(E=>{console.warn("    (,  ).   .",E)}),y&&y(M.id,Z).then(E=>{cn(E?K=>{var V,ae,ge,ie;return en(Ut({},K),{challengeId:Z,scores:E.level_scores||K.scores,bonuses:{time:(V=E.bonus_time)!=null?V:2,hint:(ae=E.bonus_hint)!=null?ae:2,swap:(ge=E.bonus_swap)!=null?ge:2,wildcard:(ie=E.bonus_wildcard)!=null?ie:2}})}:K=>K.challengeId!==Z?{challengeId:Z,scores:{},userId:M.id,bonuses:{time:1,hint:1,swap:1,wildcard:1}}:K)}).catch(E=>{console.warn("     (?),   .",E)}))},[M,l,y,Z,g]),$.useEffect(()=>{M!=null&&M.id&&ee&&ee(M.id).then(E=>{if(E&&E.length>0){const K=E.map(V=>V.type==="daily_win"?{achievement:` ${V.data.rank}    !`,reward:{type:"daily_bundle",amount:V.data.bonus_amount},notificationId:V.id}:null).filter(Boolean);K.length>0&&Yn(V=>[...V,...K])}})},[M,ee]);const As=$.useCallback(()=>{const E=z,K=$t,V=vt+E,ae=Xs(vt),ge=Xs(V);un(ae!==ge?ge:null);let ie=Ua,ze=We;const Ce=zc();xs||(ie=Ua+1,ze=We+1);const ua=E>$t?E:$t;Gn(V);const Qa=P?hn.current:{time:zt,hint:Xt,swap:Xe,wildcard:jt},wn={time:zt,hint:Xt,swap:Xe,wildcard:jt};if(Promise.resolve(i({telegramId:M==null?void 0:M.id,username:Te,score:V,bonuses:Qa,avatarUrl:M==null?void 0:M.photo_url,rareWords:Gt,totalWords:rn,highScore:ua,daysPlayed:ze,streak:ie,coins:ia})).catch(da=>{console.error("  :",da)}),E>K?(br(E),on(E-K)):on(null),!xs){ti(ie),wt(ze),ll(!0),localStorage.setItem("slovodel_streak_count",ie.toString()),localStorage.setItem("slovodel_streak_date",Ce);const da=jv(ie);if([3,7,14,30].includes(ie)){rl(da);let Zt=[];ie===3?Zt=[{type:"time",amount:1},{type:"swap",amount:1}]:ie===7?Zt=[{type:"time",amount:1},{type:"swap",amount:1},{type:"hint",amount:1}]:ie===14?Zt=[{type:"swap",amount:1},{type:"hint",amount:1},{type:"wildcard",amount:1}]:ie>=30&&(Zt=[{type:"time",amount:1},{type:"hint",amount:1},{type:"swap",amount:1},{type:"wildcard",amount:1}]);const ha={type:"bundle",items:Zt};Yn(Xa=>[...Xa,{achievement:`: ${ie} !`,reward:ha}])}else tt("    !      !","good")}if(P){const da=Ia.length,Zt=en(Ut({},Vt.scores),{[da]:E}),ha={challengeId:Z,scores:Zt,bonuses:wn,userId:M==null?void 0:M.id};cn(ha),localStorage.setItem("slovodel_daily_play_v2",JSON.stringify(ha));const Xa=Object.values(Zt).reduce((fi,pl)=>fi+pl,0);n&&(M!=null&&M.id)&&n({telegramId:M.id,username:Te,avatarUrl:M.photo_url,score:Xa,challengeId:Z,bonuses:wn,levelScores:Zt})}if(si(!1),S(!1),P&&(Ma(hn.current.time),ca(hn.current.hint),ra(hn.current.swap),ja(hn.current.wildcard)),ii(0),In(0),Es(0),ce("bonus"),I){I.MainButton.setText("  "),I.MainButton.show();const da=()=>{be("menu"),I.MainButton.hide(),I.MainButton.offClick(da)};I.MainButton.onClick(da),I.disableClosingConfirmation()}be("results")},[z,Te,i,n,$t,vt,zt,Xt,Xe,jt,M,Gt,Ua,xs,P,ce,tt,I,rn,Z,We,Vt.scores]),ks=()=>{if(!xt)return;const{type:E,amount:K}=xt.reward;switch(E){case"time":Ma(V=>V+K);break;case"hint":ca(V=>V+K);break;case"swap":ra(V=>V+K);break;case"wildcard":ja(V=>V+K);break;case"coins":Ss(V=>V+K);break;case"daily_bundle":Ma(V=>V+K),ca(V=>V+K),ra(V=>V+K),ja(V=>V+K);break;case"bundle":xt.reward.items&&xt.reward.items.forEach(V=>{V.type==="time"&&Ma(ae=>ae+V.amount),V.type==="hint"&&ca(ae=>ae+V.amount),V.type==="swap"&&ra(ae=>ae+V.amount),V.type==="wildcard"&&ja(ae=>ae+V.amount),V.type==="coins"&&Ss(ae=>ae+V.amount)});break}xt.notificationId&&fe&&fe(xt.notificationId),ce("bonus"),Fe(null)};$.useEffect(()=>{if(F==="menu"&&ni.length>0&&!xt&&!js&&!_e&&!D&&!ye&&!lt&&!Lt&&!ln&&!Nt){const E=ni[0];Fe(E),Yn(K=>K.slice(1)),ce("reward_fanfare")}},[F,ni,xt,js,_e,D,ye,lt,Lt,ln,Nt,ce]),$.useEffect(()=>{let E;return F==="playing"&&it>0&&!_e&&!D&&!Lt&&Ns===null?E=window.setInterval(()=>{gt(K=>K-1),ii(K=>Math.max(0,K-1)),mn>0?In(K=>K-1):gn>0&&Es(K=>K-1)},1e3):it===0&&F==="playing"&&As(),()=>clearInterval(E)},[F,it,_e,D,Lt,As,Ns,mn,gn]);const La=(E,K=!1)=>{if(Qe)return;if(ce("click"),Ae(E===10?1:E===8?1.5:2),ue(K),qn(!1),K){hn.current={time:zt,hint:Xt,swap:Xe,wildcard:jt};const ae=Vt.challengeId===Z&&Vt.bonuses?Vt.bonuses:{time:1,hint:1,swap:1,wildcard:1};Ma(ae.time),ca(ae.hint),ra(ae.swap),ja(ae.wildcard)}const V=K&&ot?ot[E]:Av(E);ol(V),Yt([]),xa([]),W(0),gt(60),ii(0),In(0),Es(0),yn(null),Ts(!1),Ba(null),vn(null),hl(new Set),be("playing"),I==null||I.enableClosingConfirmation(),I==null||I.MainButton.hide()},fl=$.useMemo(()=>{if(!Kt)return{};const E={},K=Ia.map(ae=>ae.toLowerCase()),V={};for(const ae of Kt.toLowerCase()){let ge=-1,ie=1/0;for(let ze=0;ze<K.length;ze++)if(K[ze]===ae){const Ce=V[ze]||0;Ce<ie&&(ie=Ce,ge=ze)}ge!==-1&&(V[ge]=(V[ge]||0)+1,E[ge]=V[ge])}return E},[Kt,Ia]),li=()=>{const E=Kn.join("").toLowerCase(),K=ir();if(E.length<2)return ce("error"),tt("!","bad");let V=E,ae=!1;if(E.includes("*")){const ge="^"+E.replace(/\*/g,".")+"$",ie=new RegExp(ge);if(K){const ze=new Set(Qt.map(Ce=>Ce.text.toLowerCase()));for(const Ce of K)if(ie.test(Ce)&&!ze.has(Ce)){V=Ce,ae=!0;break}}}else{const ge=E.replace(//g,"");K&&K.has(ge)&&(ae=!0)}if(!E.includes("*")&&Qt.some(ge=>ge.text===V)){ce("error"),tt(" !","bad"),xa([]);return}if(ae){const ge=Math.round(V.length*10*re);if(V.length>=7){ce("rare_success");const ie=V.toLowerCase(),ze=Gt.findIndex(Ce=>Ce.text===ie);if(ze===-1){tt(`  : ${V.toUpperCase()}!`,"good");const Ce=[...Gt,{text:ie,length:V.length,score:ge}];if(la(Ce),Ce.length%5===0){const ua=kv();Yn(Qa=>[...Qa,{achievement:`: ${Ce.length} !`,reward:ua}]),ce("reward_fanfare")}}else ge>Gt[ze].score?(tt(`  : ${V.toUpperCase()}!`,"good"),la(Ce=>Ce.map((ua,Qa)=>Qa===ze?en(Ut({},ua),{score:ge}):ua))):tt(`  : ${V.toUpperCase()}!`,"good")}else ce("success"),tt(`+${ge}`,"good");Yt(ie=>[{text:V,score:ge},...ie]),W(ie=>ie+ge),ws(ie=>ie+1),Kt&&V===Kt.toLowerCase()&&(Ba(null),vn(null),In(0),Es(0)),xa([])}else ce("error"),tt("  ","bad"),xa([])},ml=(E="all")=>b(null,null,function*(){ce("click"),yr(!0),pr(E),Da([]),sl(null),Jt(0),sa(!0);try{if(E==="all"){const{players:K,count:V}=yield u();if(Da(K),Jt(V),M!=null&&M.id&&g&&!K.some(ge=>ge.telegram_id===M.id)){const ge=yield g(M.id);ge&&sl(ge)}}else if(E==="daily"){const{players:K,count:V}=yield d(Z);Da(K),Jt(V)}else{const{players:K,count:V}=yield m(Z);Da(K),Jt(V)}}finally{sa(!1)}}),ri=E=>b(null,null,function*(){ce("click"),pr(E),Da([]),sl(null),Jt(0),sa(!0);try{if(E==="all"){const{players:K,count:V}=yield u();Da(K),Jt(V)}else if(E==="daily"){const{players:K,count:V}=yield d(Z);Da(K),Jt(V)}else{const{players:K,count:V}=yield m(Z);Da(K),Jt(V)}}finally{sa(!1)}}),ci=E=>b(null,null,function*(){if(ce("click"),E.telegram_id===(M==null?void 0:M.id)){xe(!0);return}if(l)try{const K=yield l(E.telegram_id);let V=0;if(g){const ae=yield g(E.telegram_id);ae&&typeof ae.rank=="number"&&(V=ae.rank)}K&&dn(en(Ut({},K),{rank:V}))}catch(K){console.error("    ",K)}}),wr=()=>{zt<=0||(ce("bonus"),Ma(E=>E-1),gt(E=>E+15),tt("+15 !","good"))},Dt=()=>{if(fn>0){if(Kn.includes("*")){ce("error");return}ce("click"),xa(E=>[...E,"*"]);return}jt<=0||(ce("bonus"),ja(E=>E-1),ii(15),xa(E=>[...E,"*"]),tt(" !","good"))},bn=E=>b(null,null,function*(){const K=Z0(E);vn(K||"  .")}),oi=()=>b(null,null,function*(){if(Xt<=0)return;const E=ir();if(!E)return;const K=Ia.join("").toLowerCase(),V=[],ae=new Set(Qt.map(ie=>ie.text.toLowerCase())),ge=Kt==null?void 0:Kt.toLowerCase();for(const ie of E){if(ie.length<3||ie.length>5||ae.has(ie)||ie===ge||dl.has(ie))continue;let ze=!0;for(const Ce of ie)if(!K.includes(Ce)){ze=!1;break}ze&&V.push(ie)}if(V.length>0){ce("bonus"),V.sort((ze,Ce)=>Ce.length-ze.length);let ie=V[0];hl(ze=>new Set(ze).add(ie)),Ba(ie.toUpperCase()),vn(null),ca(ze=>ze-1),In(15),Es(5),bn(ie)}else ce("error"),tt("  ","bad")}),Os=()=>{if(!(Xe<=0)){if(mn>0){ce("error"),tt("     !","bad");return}ce("click"),oa||tt(" ,  ","good"),Ts(!oa)}},Qc=E=>{ce("click"),yn(E),Ts(!1)},gl=E=>{if(Ns===null)return;const K=E.toUpperCase();if(!/[-]/.test(K)){K.length>0&&(ce("error"),tt(" !","bad"));return}if(Ia.includes(K)){ce("error"),tt("   !","bad");return}ce("bonus");const V=[...Ia];V[Ns]=K,ol(V),ra(ae=>ae-1),yn(null)},yl=E=>{const K=E.reduce((V,ae)=>V+ae.cost,0);if(ia>=K){const V=ia-K;Ss(V);let ae=zt,ge=Xt,ie=Xe,ze=jt;return E.forEach(Ce=>{switch(Ce.type){case"time":ae+=Ce.amount;break;case"hint":ge+=Ce.amount;break;case"swap":ie+=Ce.amount;break;case"wildcard":ze+=Ce.amount;break}}),Ma(ae),ca(ge),ra(ie),ja(ze),ce("bonus"),tt(` : ${E.reduce((Ce,ua)=>Ce+ua.amount,0)}`,"good"),i({telegramId:M==null?void 0:M.id,username:Te,score:vt,bonuses:{time:ae,hint:ge,swap:ie,wildcard:ze},rareWords:Gt,totalWords:rn,highScore:$t,daysPlayed:We,streak:Ua,coins:V}),!0}else return ce("error"),tt(" !","bad"),!1},_n=Vt.challengeId===Z,ui=_n&&Vt.scores?Object.keys(Vt.scores).map(Number):[],di=_n&&[10,8,6].every(E=>Vt.scores&&Object.prototype.hasOwnProperty.call(Vt.scores,E)),vl=_n&&Vt.scores?Object.values(Vt.scores).reduce((E,K)=>E+K,0):0;return Qe?h.jsxs("div",{className:"app-wrapper items-center justify-center p-6",children:[h.jsx("div",{className:"logo-loading text-gradient-custom drop-shadow-lg mb-8 animate-pulse"}),h.jsx("div",{className:"spinner w-8 h-8 text-indigo-600 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"}),h.jsx("p",{className:"text-sm opacity-50 mt-4 text-gray-900 dark:text-white font-bold uppercase tracking-widest",children:"..."})]}):h.jsxs("div",{className:"app-wrapper",children:[_e&&h.jsx(Yp,{musicVolume:$n,setMusicVolume:Yc,sfxVolume:Ka,setSfxVolume:ei,theme:yt,setTheme:Vc,onClose:()=>S(!1),onExit:()=>si(!0),playSfx:ce,showExitButton:F==="playing",isAdmin:M!=null&&M.id?me.includes(M.id):!1,onOpenAdmin:()=>{S(!1),be("admin")}}),D&&h.jsx(Kp,{onClose:()=>X(!1),playSfx:ce,bonuses:{time:zt,hint:Xt,swap:Xe,wildcard:jt},onOpenShop:()=>{X(!1),nn("about"),na(!0)},showRanks:F!=="playing",onSubmitFeedback:E=>p&&p({telegramId:M==null?void 0:M.id,username:Te,message:E}),isDailyMode:P}),xt&&h.jsx(Fp,{achievement:xt.achievement,reward:xt.reward,onClose:ks,playSfx:ce}),lt&&h.jsx(Gp,{words:Gt,onClose:()=>qe(!1),playSfx:ce}),Lt&&h.jsx(Xp,{coins:ia,onBuyBonuses:yl,initialTab:za,onClose:()=>{na(!1),sn("bonuses"),an==="about"?X(!0):an==="achievements"&&xe(!0)},playSfx:ce}),F==="admin"&&h.jsx(Zp,{onClose:()=>be("menu"),playSfx:ce,fetchFeedbacks:_,addCustomWord:E=>N(E,M==null?void 0:M.id),fetchAdminCustomWords:C,deleteCustomWord:U,updateCustomWord:L,onReply:Q,onArchive:H,onDelete:J,onBroadcast:Y,onTestModal:Jc}),ln&&h.jsx(Wp,{onClose:()=>qn(!1),onStart:E=>La(E,!0),playSfx:ce,completedLevels:ui,currentScore:vl}),Nt&&h.jsx(Vp,{data:vr,onClose:()=>yr(!1),playSfx:ce,currentUserId:M==null?void 0:M.id,currentUserRankData:Fs,userScore:il==="all"?vt:vl,totalPlayers:Gc,getUserRank:Xs,activeTab:il,onTabChange:ri,isLoading:qt,onPlayerClick:ci}),ye&&h.jsx(S0,{onClose:()=>xe(!1),playSfx:ce,username:Te,avatarUrl:M==null?void 0:M.photo_url,rank:Xs(vt),totalScore:vt,highScore:$t,streak:Ua,totalWords:rn,rareWords:Gt,bonuses:{time:zt,hint:Xt,swap:Xe,wildcard:jt},onOpenShop:E=>{xe(!1),nn("achievements"),E&&sn(E),na(!0)},place:Kc,daysPlayed:We,dailyPlaces:Vn,coins:ia}),et&&h.jsx(S0,{onClose:()=>dn(null),playSfx:ce,username:et.username||"",avatarUrl:et.avatar_url,rank:Xs(Number(et.score)||0),totalScore:Number(et.score)||0,highScore:et.high_score||0,streak:et.streak||0,totalWords:et.total_words||0,rareWords:et.rare_words||[],bonuses:{time:0,hint:0,swap:0,wildcard:0},onOpenShop:()=>{},place:et.rank||0,daysPlayed:et.days_played||0,dailyPlaces:{first:et.daily_1_place||0,second:et.daily_2_place||0,third:et.daily_3_place||0},coins:0,isPublicView:!0}),F==="menu"&&h.jsx(Ip,{streak:Ua,streakMilestone:js,setStreakMilestone:rl,hasPlayedToday:xs,openGlobalRanking:()=>ml("all"),openAchievements:()=>xe(!0),playSfx:ce,setShowCollection:qe,onOpenAbout:()=>X(!0),setIsMenuOpen:S,userName:Te,totalScore:vt,highScore:$t,isDailyPlayedToday:di,startGame:La,openDailyChallenge:()=>di?ml("daily"):qn(!0),dailyScore:vl,challengeId:Z,challengeEndTime:bs,coins:ia,onOpenShop:E=>{E&&sn(E),na(!0)}}),F==="results"&&h.jsx(Qp,{score:z,lastRoundRecordBeaten:cl,totalScore:vt,userName:Te,onMenu:()=>{be("menu"),I==null||I.MainButton.hide(),P&&(di||qn(!0),ue(!1))},newRankReached:St,onRankModalClose:()=>{if(St){let E=[];if(St.includes("")?E=[{type:"time",amount:1}]:St.includes("")?E=[{type:"swap",amount:1},{type:"time",amount:1}]:St.includes("")?E=[{type:"swap",amount:1},{type:"hint",amount:1}]:St.includes("")?E=[{type:"time",amount:1},{type:"swap",amount:1},{type:"wildcard",amount:1}]:St.includes("")?E=[{type:"time",amount:1},{type:"hint",amount:1},{type:"swap",amount:1},{type:"wildcard",amount:1}]:St.includes("")?E=[{type:"time",amount:3},{type:"hint",amount:3},{type:"swap",amount:3},{type:"wildcard",amount:3}]:St.includes("")?E=[{type:"time",amount:5},{type:"hint",amount:5},{type:"swap",amount:5},{type:"wildcard",amount:5}]:St.includes("")&&(E=[{type:"time",amount:10},{type:"hint",amount:10},{type:"swap",amount:10},{type:"wildcard",amount:10}]),E.length>0){const K={type:"bundle",items:E};Yn(V=>[...V,{achievement:` : ${St}!`,reward:K}])}}}}),F==="playing"&&h.jsx(Jp,{score:z,isDailyMode:P,timeLeft:it,onOpenAbout:()=>X(!0),onOpenMenu:()=>S(!0),hintWord:Kt,isDefinitionLoading:!1,hintDefinition:Jn,foundWords:Qt,currentInput:Kn,setCurrentInput:xa,playSfx:ce,handleAddTime:wr,bonusTimeLeft:zt,handleHint:oi,bonusHintLeft:Xt,handleWildcard:Dt,bonusWildcardLeft:jt,wildcardActiveSeconds:fn,hintActiveSeconds:mn,hintRevealLeft:gn,toggleSwapMode:Os,bonusSwapLeft:Xe,isSwapActive:oa,grid:Ia,hintIndices:fl,startSwap:Qc,checkWord:li,performSwap:gl,swapTargetIdx:Ns,setSwapTargetIdx:yn,showConfirm:ul,setShowConfirm:si,finishGame:As,setGrid:ol,onOpenShop:()=>{nn(null),na(!0)}}),Ja&&h.jsx("div",{className:"absolute top-24 inset-x-0 flex justify-center z-[1000] pointer-events-none",children:h.jsx("div",{className:`pointer-events-auto px-6 py-3 rounded-2xl font-bold text-white shadow-sm animate-bounce text-center backdrop-blur-md border border-white/20 ${(Ja==null?void 0:Ja.type)==="good"?"bg-indigo-600/90":"bg-red-500/90"}`,children:Ja==null?void 0:Ja.text})})]})}function Lc(i,n){var l={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(l[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(i);u<r.length;u++)n.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(i,r[u])&&(l[r[u]]=i[r[u]]);return l}function ab(i,n,l,r){function u(d){return d instanceof l?d:new l(function(m){m(d)})}return new(l||(l=Promise))(function(d,m){function y(_){try{p(r.next(_))}catch(N){m(N)}}function g(_){try{p(r.throw(_))}catch(N){m(N)}}function p(_){_.done?d(_.value):u(_.value).then(y,g)}p((r=r.apply(i,n||[])).next())})}const nb=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class Nd extends Error{constructor(n,l="FunctionsError",r){super(n),this.name=l,this.context=r}}class sb extends Nd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class j0 extends Nd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class E0 extends Nd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var dd;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(dd||(dd={}));class ib{constructor(n,{headers:l={},customFetch:r,region:u=dd.Any}={}){this.url=n,this.headers=l,this.region=u,this.fetch=nb(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ab(this,arguments,void 0,function*(l,r={}){var u;let d,m;try{const{headers:y,method:g,body:p,signal:_,timeout:N}=r;let j={},{region:C}=r;C||(C=this.region);const U=new URL(`${this.url}/${l}`);C&&C!=="any"&&(j["x-region"]=C,U.searchParams.set("forceFunctionRegion",C));let L;p&&(y&&!Object.prototype.hasOwnProperty.call(y,"Content-Type")||!y)?typeof Blob!="undefined"&&p instanceof Blob||p instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",L=p):typeof p=="string"?(j["Content-Type"]="text/plain",L=p):typeof FormData!="undefined"&&p instanceof FormData?L=p:(j["Content-Type"]="application/json",L=JSON.stringify(p)):L=p;let Q=_;N&&(m=new AbortController,d=setTimeout(()=>m.abort(),N),_?(Q=m.signal,_.addEventListener("abort",()=>m.abort())):Q=m.signal);const H=yield this.fetch(U.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),y),body:L,signal:Q}).catch(fe=>{throw new sb(fe)}),J=H.headers.get("x-relay-error");if(J&&J==="true")throw new j0(H);if(!H.ok)throw new E0(H);let Y=((u=H.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),ee;return Y==="application/json"?ee=yield H.json():Y==="application/octet-stream"||Y==="application/pdf"?ee=yield H.blob():Y==="text/event-stream"?ee=H:Y==="multipart/form-data"?ee=yield H.formData():ee=yield H.text(),{data:ee,error:null,response:H}}catch(y){return{data:null,error:y,response:y instanceof E0||y instanceof j0?y.context:void 0}}finally{d&&clearTimeout(d)}})}}var lb=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},rb=class{constructor(i){var n,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let u=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(d=>b(this,null,function*(){let m=null,y=null,g=null,p=d.status,_=d.statusText;if(d.ok){var N,j;if(l.method!=="HEAD"){var C;const H=yield d.text();H===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((C=l.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?y=H:y=JSON.parse(H))}const L=(N=l.headers.get("Prefer"))===null||N===void 0?void 0:N.match(/count=(exact|planned|estimated)/),Q=(j=d.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");L&&Q&&Q.length>1&&(g=parseInt(Q[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,p=406,_="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{var U;const L=yield d.text();try{m=JSON.parse(L),Array.isArray(m)&&d.status===404&&(y=[],m=null,p=200,_="OK")}catch(Q){d.status===404&&L===""?(p=204,_="No Content"):m={message:L}}if(m&&l.isMaybeSingle&&(!(m==null||(U=m.details)===null||U===void 0)&&U.includes("0 rows"))&&(m=null,p=200,_="OK"),m&&l.shouldThrowOnError)throw new lb(m)}return{error:m,data:y,count:g,status:p,statusText:_}}));return this.shouldThrowOnError||(u=u.catch(d=>{var m;let y="";const g=d==null?void 0:d.cause;if(g){var p,_,N,j;const U=(p=g==null?void 0:g.message)!==null&&p!==void 0?p:"",L=(_=g==null?void 0:g.code)!==null&&_!==void 0?_:"";y=`${(N=d==null?void 0:d.name)!==null&&N!==void 0?N:"FetchError"}: ${d==null?void 0:d.message}`,y+=`

Caused by: ${(j=g==null?void 0:g.name)!==null&&j!==void 0?j:"Error"}: ${U}`,L&&(y+=` (${L})`),g!=null&&g.stack&&(y+=`
${g.stack}`)}else{var C;y=(C=d==null?void 0:d.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(m=d==null?void 0:d.name)!==null&&m!==void 0?m:"FetchError"}: ${d==null?void 0:d.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,n)}returns(){return this}overrideTypes(){return this}},cb=class extends rb{select(i){let n=!1;const l=(i!=null?i:"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:l,foreignTable:r,referencedTable:u=r}={}){const d=u?`${u}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${i}.${n?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:l=n}={}){const r=typeof l=="undefined"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,n,{foreignTable:l,referencedTable:r=l}={}){const u=typeof r=="undefined"?"offset":`${r}.offset`,d=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:l=!1,buffers:r=!1,wal:u=!1,format:d="text"}={}){var m;const y=[i?"analyze":null,n?"verbose":null,l?"settings":null,r?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${y};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const N0=new RegExp("[,()]");var Xi=class extends cb{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&N0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}notIn(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&N0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`not.in.(${l})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:l,type:r}={}){let u="";r==="plain"?u="pl":r==="phrase"?u="ph":r==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${n}`),this}match(i){return Object.entries(i).forEach(([n,l])=>{this.url.searchParams.append(n,`eq.${l}`)}),this}not(i,n,l){return this.url.searchParams.append(i,`not.${n}.${l}`),this}or(i,{foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,n,l){return this.url.searchParams.append(i,`${n}.${l}`),this}},ob=class{constructor(i,{headers:n={},schema:l,fetch:r}){this.url=i,this.headers=new Headers(n),this.schema=l,this.fetch=r}select(i,n){const{head:l=!1,count:r}=n!=null?n:{},u=l?"HEAD":"GET";let d=!1;const m=(i!=null?i:"*").split("").map(y=>/\s/.test(y)&&!d?"":(y==='"'&&(d=!d),y)).join("");return this.url.searchParams.set("select",m),r&&this.headers.append("Prefer",`count=${r}`),new Xi({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:l=!0}={}){var r;const u="POST";if(n&&this.headers.append("Prefer",`count=${n}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(d.length>0){const m=[...new Set(d)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new Xi({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:l=!1,count:r,defaultToNull:u=!0}={}){var d;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),r&&this.headers.append("Prefer",`count=${r}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(y.length>0){const g=[...new Set(y)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new Xi({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:n}={}){var l;const r="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Xi({method:r,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var n;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new Xi({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},ub=class sg{constructor(n,{headers:l={},schema:r,fetch:u}={}){this.url=n,this.headers=new Headers(l),this.schemaName=r,this.fetch=u}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ob(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new sg(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,l={},{head:r=!1,get:u=!1,count:d}={}){var m;let y;const g=new URL(`${this.url}/rpc/${n}`);let p;r||u?(y=r?"HEAD":"GET",Object.entries(l).filter(([N,j])=>j!==void 0).map(([N,j])=>[N,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([N,j])=>{g.searchParams.append(N,j)})):(y="POST",p=l);const _=new Headers(this.headers);return d&&_.set("Prefer",`count=${d}`),new Xi({method:y,url:g,headers:_,schema:this.schemaName,body:p,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};class db{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket!="undefined")return{type:"native",constructor:WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocket!="undefined")return{type:"native",constructor:globalThis.WebSocket};if(typeof global!="undefined"&&typeof global.WebSocket!="undefined")return{type:"native",constructor:global.WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocketPair!="undefined"&&typeof globalThis.WebSocket=="undefined")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis!="undefined"&&globalThis.EdgeRuntime||typeof navigator!="undefined"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process!="undefined"){const l=process.versions;if(l&&l.node){const r=l.node,u=parseInt(r.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket!="undefined"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const r=this.getWebSocketConstructor();return new r(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch(n){return!1}}}const hb="2.89.0",fb=`realtime-js/${hb}`,ig="1.0.0",mb="2.0.0",T0=ig,hd=1e4,gb=1e3,yb=100;var vs;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(vs||(vs={}));var bt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(bt||(bt={}));var Ya;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Ya||(Ya={}));var fd;(function(i){i.websocket="websocket"})(fd||(fd={}));var Zs;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Zs||(Zs={}));class vb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n!=null?n:[]}encode(n,l){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var l;return this._isArrayBuffer((l=n.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var l,r;const u=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var l,r;const u=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},m=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,m)}_encodeUserBroadcastPush(n,l,r){var u,d;const m=n.topic,y=(u=n.ref)!==null&&u!==void 0?u:"",g=(d=n.join_ref)!==null&&d!==void 0?d:"",p=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},N=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`ref length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`topic length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(N.length>255)throw new Error(`metadata length ${N.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+y.length+m.length+p.length+N.length,C=new ArrayBuffer(this.HEADER_LENGTH+j);let U=new DataView(C),L=0;U.setUint8(L++,this.KINDS.userBroadcastPush),U.setUint8(L++,g.length),U.setUint8(L++,y.length),U.setUint8(L++,m.length),U.setUint8(L++,p.length),U.setUint8(L++,N.length),U.setUint8(L++,l),Array.from(g,H=>U.setUint8(L++,H.charCodeAt(0))),Array.from(y,H=>U.setUint8(L++,H.charCodeAt(0))),Array.from(m,H=>U.setUint8(L++,H.charCodeAt(0))),Array.from(p,H=>U.setUint8(L++,H.charCodeAt(0))),Array.from(N,H=>U.setUint8(L++,H.charCodeAt(0)));var Q=new Uint8Array(C.byteLength+r.byteLength);return Q.set(new Uint8Array(C),0),Q.set(new Uint8Array(r),C.byteLength),Q.buffer}decode(n,l){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return l(r)}if(typeof n=="string"){const r=JSON.parse(n),[u,d,m,y,g]=r;return l({join_ref:u,ref:d,topic:m,event:y,payload:g})}return l({})}_binaryDecode(n){const l=new DataView(n),r=l.getUint8(0),u=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,l,u)}_decodeUserBroadcast(n,l,r){const u=l.getUint8(1),d=l.getUint8(2),m=l.getUint8(3),y=l.getUint8(4);let g=this.HEADER_LENGTH+4;const p=r.decode(n.slice(g,g+u));g=g+u;const _=r.decode(n.slice(g,g+d));g=g+d;const N=r.decode(n.slice(g,g+m));g=g+m;const j=n.slice(g,n.byteLength),C=y===this.JSON_ENCODING?JSON.parse(r.decode(j)):j,U={type:this.BROADCAST_EVENT,event:_,payload:C};return m>0&&(U.meta=JSON.parse(N)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:U}}_isArrayBuffer(n){var l;return n instanceof ArrayBuffer||((l=n==null?void 0:n.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(n,l){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>l.includes(r)))}}class lg{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ke||(Ke={}));const A0=(i,n,l={})=>{var r;const u=(r=l.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((d,m)=>(d[m]=pb(m,i,n,u),d),{}):{}},pb=(i,n,l,r)=>{const u=n.find(y=>y.name===i),d=u==null?void 0:u.type,m=l[i];return d&&!r.includes(d)?rg(d,m):md(m)},rg=(i,n)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return Sb(n,l)}switch(i){case Ke.bool:return bb(n);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return _b(n);case Ke.json:case Ke.jsonb:return wb(n);case Ke.timestamp:return xb(n);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return md(n);default:return md(n)}},md=i=>i,bb=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},_b=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},wb=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return i}return i},Sb=(i,n)=>{if(typeof i!="string")return i;const l=i.length-1,r=i[l];if(i[0]==="{"&&r==="}"){let d;const m=i.slice(1,l);try{d=JSON.parse("["+m+"]")}catch(y){d=m?m.split(","):[]}return d.map(y=>rg(n,y))}return i},xb=i=>typeof i=="string"?i.replace(" ","T"):i,cg=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Pu{constructor(n,l,r={},u=hd){this.channel=n,this.event=l,this.payload=r,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var r;return this._hasReceived(n)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var k0;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(k0||(k0={}));class lr{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},u=>{const{onJoin:d,onLeave:m,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lr.syncState(this.state,u,d,m),this.pendingDiffs.forEach(g=>{this.state=lr.syncDiff(this.state,g,d,m)}),this.pendingDiffs=[],y()}),this.channel._on(r.diff,{},u=>{const{onJoin:d,onLeave:m,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=lr.syncDiff(this.state,u,d,m),y())}),this.onJoin((u,d,m)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:m})}),this.onLeave((u,d,m)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,r,u){const d=this.cloneDeep(n),m=this.transformState(l),y={},g={};return this.map(d,(p,_)=>{m[p]||(g[p]=_)}),this.map(m,(p,_)=>{const N=d[p];if(N){const j=_.map(Q=>Q.presence_ref),C=N.map(Q=>Q.presence_ref),U=_.filter(Q=>C.indexOf(Q.presence_ref)<0),L=N.filter(Q=>j.indexOf(Q.presence_ref)<0);U.length>0&&(y[p]=U),L.length>0&&(g[p]=L)}else y[p]=_}),this.syncDiff(d,{joins:y,leaves:g},r,u)}static syncDiff(n,l,r,u){const{joins:d,leaves:m}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),u||(u=()=>{}),this.map(d,(y,g)=>{var p;const _=(p=n[y])!==null&&p!==void 0?p:[];if(n[y]=this.cloneDeep(g),_.length>0){const N=n[y].map(C=>C.presence_ref),j=_.filter(C=>N.indexOf(C.presence_ref)<0);n[y].unshift(...j)}r(y,_,g)}),this.map(m,(y,g)=>{let p=n[y];if(!p)return;const _=g.map(N=>N.presence_ref);p=p.filter(N=>_.indexOf(N.presence_ref)<0),n[y]=p,u(y,p,g),p.length===0&&delete n[y]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(r=>l(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,r)=>{const u=n[r];return"metas"in u?l[r]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[r]=u,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var O0;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(O0||(O0={}));var rr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(rr||(rr={}));var Bn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Bn||(Bn={}));class Pi{constructor(n,l={config:{}},r){var u,d;if(this.topic=n,this.params=l,this.socket=r,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Pu(this,Ya.join,this.params,this.timeout),this.rejoinTimer=new lg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ya.reply,{},(m,y)=>{this._trigger(this._replyEventName(y),m)}),this.presence=new lr(this),this.broadcastEndpointURL=cg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var r,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:m,presence:y,private:g}}=this.params,p=(u=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(C=>C.filter))!==null&&u!==void 0?u:[],_=!!this.bindings[rr.PRESENCE]&&this.bindings[rr.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,N={},j={broadcast:m,presence:Object.assign(Object.assign({},y),{enabled:_}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(N.access_token=this.socket.accessTokenValue),this._onError(C=>n==null?void 0:n(Bn.CHANNEL_ERROR,C)),this._onClose(()=>n==null?void 0:n(Bn.CLOSED)),this.updateJoinPayload(Object.assign({config:j},N)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",U=>b(this,[U],function*({postgres_changes:C}){var L;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){n==null||n(Bn.SUBSCRIBED);return}else{const Q=this.bindings.postgres_changes,H=(L=Q==null?void 0:Q.length)!==null&&L!==void 0?L:0,J=[];for(let Y=0;Y<H;Y++){const ee=Q[Y],{filter:{event:fe,schema:I,table:M,filter:Te}}=ee,me=C&&C[Y];if(me&&me.event===fe&&Pi.isFilterValueEqual(me.schema,I)&&Pi.isFilterValueEqual(me.table,M)&&Pi.isFilterValueEqual(me.filter,Te))J.push(Object.assign(Object.assign({},ee),{id:me.id}));else{this.unsubscribe(),this.state=bt.errored,n==null||n(Bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=J,n&&n(Bn.SUBSCRIBED);return}})).receive("error",C=>{this.state=bt.errored,n==null||n(Bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return b(this,arguments,function*(n,l={}){return yield this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)})}untrack(){return b(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,l,r){return this.state===bt.joined&&n===rr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>b(this,null,function*(){return yield this.subscribe()}))),this._on(n,l,r)}httpSend(u,d){return b(this,arguments,function*(n,l,r={}){var m;if(l==null)return Promise.reject("Payload is required for httpSend()");const y={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(y.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:y,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},p=yield this._fetchWithTimeout(this.broadcastEndpointURL,g,(m=r.timeout)!==null&&m!==void 0?m:this.timeout);if(p.status===202)return{success:!0};let _=p.statusText;try{const N=yield p.json();_=N.error||N.message||_}catch(N){}return Promise.reject(new Error(_))})}send(r){return b(this,arguments,function*(n,l={}){var u,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:m,payload:y}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:m,payload:y,private:this.private}]})};try{const _=yield this._fetchWithTimeout(this.broadcastEndpointURL,p,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);return yield(d=_.body)===null||d===void 0?void 0:d.cancel(),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(m=>{var y,g,p;const _=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(y=this.params)===null||y===void 0?void 0:y.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&m("ok"),_.receive("ok",()=>m("ok")),_.receive("error",()=>m("error")),_.receive("timeout",()=>m("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=bt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ya.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(u=>{r=new Pu(this,Ya.leave,{},n),r.receive("ok",()=>{l(),u("ok")}).receive("timeout",()=>{l(),u("timed out")}).receive("error",()=>{u("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}_fetchWithTimeout(n,l,r){return b(this,null,function*(){const u=new AbortController,d=setTimeout(()=>u.abort(),r),m=yield this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:u.signal}));return clearTimeout(d),m})}_push(n,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Pu(this,n,l,r);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>yb){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,r){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,r){var u,d;const m=n.toLocaleLowerCase(),{close:y,error:g,leave:p,join:_}=Ya;if(r&&[y,g,p,_].indexOf(m)>=0&&r!==this._joinRef())return;let j=this._onMessage(m,l,r);if(l&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(C=>{var U,L,Q;return((U=C.filter)===null||U===void 0?void 0:U.event)==="*"||((Q=(L=C.filter)===null||L===void 0?void 0:L.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())===m}).map(C=>C.callback(j,r)):(d=this.bindings[m])===null||d===void 0||d.filter(C=>{var U,L,Q,H,J,Y;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in C){const ee=C.id,fe=(U=C.filter)===null||U===void 0?void 0:U.event;return ee&&((L=l.ids)===null||L===void 0?void 0:L.includes(ee))&&(fe==="*"||(fe==null?void 0:fe.toLocaleLowerCase())===((Q=l.data)===null||Q===void 0?void 0:Q.type.toLocaleLowerCase()))}else{const ee=(J=(H=C==null?void 0:C.filter)===null||H===void 0?void 0:H.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return ee==="*"||ee===((Y=l==null?void 0:l.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===m}).map(C=>{if(typeof j=="object"&&"ids"in j){const U=j.data,{schema:L,table:Q,commit_timestamp:H,type:J,errors:Y}=U;j=Object.assign(Object.assign({},{schema:L,table:Q,commit_timestamp:H,eventType:J,new:{},old:{},errors:Y}),this._getPayloadRecords(U))}C.callback(j,r)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,r){const u=n.toLocaleLowerCase(),d={type:u,filter:l,callback:r};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,l){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&Pi.isEqual(u.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const r in n)if(n[r]!==l[r])return!1;return!0}static isFilterValueEqual(n,l){const r=n!=null?n:void 0,u=l!=null?l:void 0;return r===u}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ya.close,{},n)}_onError(n){this._on(Ya.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=A0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=A0(n.columns,n.old_record)),l}}const Fu=()=>{},Ac={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jb=[1e3,2e3,5e3,1e4],Eb=1e4,Nb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tb{constructor(n,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hd,this.transport=null,this.heartbeatIntervalMs=Ac.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fu,this.ref=0,this.reconnectTimer=null,this.vsn=T0,this.logger=Fu,this.conn=null,this.sendBuffer=[],this.serializer=new vb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((r=l==null?void 0:l.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${fd.websocket}`,this.httpEndpoint=cg(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=db.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,l!=null?l:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){return b(this,null,function*(){const l=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),l})}removeAllChannels(){return b(this,null,function*(){const n=yield Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,l,r){this.logger(n,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case vs.connecting:return Zs.Connecting;case vs.open:return Zs.Open;case vs.closing:return Zs.Closing;default:return Zs.Closed}}isConnected(){return this.connectionState()===Zs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const r=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===r);if(u)return u;{const d=new Pi(`realtime:${n}`,l,this);return this.channels.push(d),d}}push(n){const{topic:l,event:r,payload:u,ref:d}=n,m=()=>{this.encode(n,y=>{var g;(g=this.conn)===null||g===void 0||g.send(y)})};this.log("push",`${l} ${r} (${d})`,u),this.isConnected()?m():this.sendBuffer.push(m)}setAuth(n=null){return b(this,null,function*(){this._authPromise=this._performAuth(n);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return b(this,null,function*(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(gb,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Ac.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:u,payload:d,ref:m}=l,y=m?`(${m})`:"",g=d.status||"";this.log("receive",`${g} ${r} ${u} ${y}`.trim(),d),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(u,d,m)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===vs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===vs.open||this.conn.readyState===vs.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ya.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const r=n.match(/\?/)?"&":"?",u=new URLSearchParams(l);return`${n}${r}${u}`}_workerObjectUrl(n){let l;if(n)l=n;else{const r=new Blob([Nb],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}_performAuth(n=null){return b(this,null,function*(){let l,r=!1;if(n)l=n,r=!0;else if(this.accessToken)try{l=yield this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(u=>{const d={access_token:l,version:fb};l&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(Ya.access_token,{access_token:l})}))})}_waitForAuthIfNeeded(){return b(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(l)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lg(()=>b(this,null,function*(){setTimeout(()=>b(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Ac.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(n){var l,r,u,d,m,y,g,p,_,N,j,C;switch(this.transport=(l=n==null?void 0:n.transport)!==null&&l!==void 0?l:null,this.timeout=(r=n==null?void 0:n.timeout)!==null&&r!==void 0?r:hd,this.heartbeatIntervalMs=(u=n==null?void 0:n.heartbeatIntervalMs)!==null&&u!==void 0?u:Ac.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(m=n==null?void 0:n.accessToken)!==null&&m!==void 0?m:null,this.heartbeatCallback=(y=n==null?void 0:n.heartbeatCallback)!==null&&y!==void 0?y:Fu,this.vsn=(g=n==null?void 0:n.vsn)!==null&&g!==void 0?g:T0,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(U=>jb[U-1]||Eb),this.vsn){case ig:this.encode=(_=n==null?void 0:n.encode)!==null&&_!==void 0?_:((U,L)=>L(JSON.stringify(U))),this.decode=(N=n==null?void 0:n.decode)!==null&&N!==void 0?N:((U,L)=>L(JSON.parse(U)));break;case mb:this.encode=(j=n==null?void 0:n.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(C=n==null?void 0:n.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var cr=class extends Error{constructor(i,n){var l;super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((l=n.icebergType)==null?void 0:l.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ab(i,n,l){const r=new URL(n,i);if(l)for(const[u,d]of Object.entries(l))d!==void 0&&r.searchParams.set(u,d);return r.toString()}function kb(i){return b(this,null,function*(){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?yield i.getHeaders():{}})}function Ob(i){var l;const n=(l=i.fetchImpl)!=null?l:globalThis.fetch;return{request(p){return b(this,arguments,function*({method:u,path:d,query:m,body:y,headers:g}){var Q;const _=Ab(i.baseUrl,d,m),N=yield kb(i.auth),j=yield n(_,{method:u,headers:Ut(Ut(Ut({},y?{"Content-Type":"application/json"}:{}),N),g),body:y?JSON.stringify(y):void 0}),C=yield j.text(),U=(j.headers.get("content-type")||"").includes("application/json"),L=U&&C?JSON.parse(C):C;if(!j.ok){const H=U?L:void 0,J=H==null?void 0:H.error;throw new cr((Q=J==null?void 0:J.message)!=null?Q:`Request failed with status ${j.status}`,{status:j.status,icebergType:J==null?void 0:J.type,icebergCode:J==null?void 0:J.code,details:H})}return{status:j.status,headers:j.headers,data:L}})}}}function kc(i){return i.join("")}var Cb=class{constructor(i,n=""){this.client=i,this.prefix=n}listNamespaces(i){return b(this,null,function*(){const n=i?{parent:kc(i.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(i,n){return b(this,null,function*(){const l={namespace:i.namespace,properties:n==null?void 0:n.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data})}dropNamespace(i){return b(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kc(i.namespace)}`})})}loadNamespaceMetadata(i){return b(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kc(i.namespace)}`})).data.properties}})}namespaceExists(i){return b(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kc(i.namespace)}`}),!0}catch(n){if(n instanceof cr&&n.status===404)return!1;throw n}})}createNamespaceIfNotExists(i,n){return b(this,null,function*(){try{return yield this.createNamespace(i,n)}catch(l){if(l instanceof cr&&l.status===409)return;throw l}})}};function Vi(i){return i.join("")}var Rb=class{constructor(i,n="",l){this.client=i,this.prefix=n,this.accessDelegation=l}listTables(i){return b(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vi(i.namespace)}/tables`})).data.identifiers})}createTable(i,n){return b(this,null,function*(){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vi(i.namespace)}/tables`,body:n,headers:l})).data.metadata})}updateTable(i,n){return b(this,null,function*(){const l=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vi(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}})}dropTable(i,n){return b(this,null,function*(){var l;yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vi(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((l=n==null?void 0:n.purge)!=null?l:!1)}})})}loadTable(i){return b(this,null,function*(){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vi(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata})}tableExists(i){return b(this,null,function*(){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vi(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(l){if(l instanceof cr&&l.status===404)return!1;throw l}})}createTableIfNotExists(i,n){return b(this,null,function*(){try{return yield this.createTable(i,n)}catch(l){if(l instanceof cr&&l.status===409)return yield this.loadTable({namespace:i.namespace,name:n.name});throw l}})}},zb=class{constructor(i){var r;let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const l=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Ob({baseUrl:l,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(r=i.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Cb(this.client,n),this.tableOps=new Rb(this.client,n,this.accessDelegation)}listNamespaces(i){return b(this,null,function*(){return this.namespaceOps.listNamespaces(i)})}createNamespace(i,n){return b(this,null,function*(){return this.namespaceOps.createNamespace(i,n)})}dropNamespace(i){return b(this,null,function*(){yield this.namespaceOps.dropNamespace(i)})}loadNamespaceMetadata(i){return b(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(i)})}listTables(i){return b(this,null,function*(){return this.tableOps.listTables(i)})}createTable(i,n){return b(this,null,function*(){return this.tableOps.createTable(i,n)})}updateTable(i,n){return b(this,null,function*(){return this.tableOps.updateTable(i,n)})}dropTable(i,n){return b(this,null,function*(){yield this.tableOps.dropTable(i,n)})}loadTable(i){return b(this,null,function*(){return this.tableOps.loadTable(i)})}namespaceExists(i){return b(this,null,function*(){return this.namespaceOps.namespaceExists(i)})}tableExists(i){return b(this,null,function*(){return this.tableOps.tableExists(i)})}createNamespaceIfNotExists(i,n){return b(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(i,n)})}createTableIfNotExists(i,n){return b(this,null,function*(){return this.tableOps.createTableIfNotExists(i,n)})}},qc=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Pe(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Db=class extends qc{constructor(i,n,l){super(i),this.name="StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},gd=class extends qc{constructor(i,n){super(i),this.name="StorageUnknownError",this.originalError=n}};const Td=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Ub=()=>Response,yd=i=>{if(Array.isArray(i))return i.map(l=>yd(l));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([l,r])=>{const u=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=yd(r)}),n},Mb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Bb=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function or(i){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},or(i)}function Lb(i,n){if(or(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(or(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function qb(i){var n=Lb(i,"string");return or(n)=="symbol"?n:n+""}function Hb(i,n,l){return(n=qb(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function C0(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),l.push.apply(l,r)}return l}function he(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?C0(Object(l),!0).forEach(function(r){Hb(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):C0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const ed=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},$b=(i,n,l)=>b(null,null,function*(){i instanceof(yield Ub())&&!(l!=null&&l.noResolveJson)?i.json().then(r=>{const u=i.status||500,d=(r==null?void 0:r.statusCode)||u+"";n(new Db(ed(r),u,d))}).catch(r=>{n(new gd(ed(r),r))}):n(new gd(ed(i),i))}),Gb=(i,n,l,r)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"||!r?u:(Mb(r)?(u.headers=he({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(r)):u.body=r,n!=null&&n.duplex&&(u.duplex=n.duplex),he(he({},u),l))};function gr(i,n,l,r,u,d){return b(this,null,function*(){return new Promise((m,y)=>{i(l,Gb(n,r,u,d)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>m(g)).catch(g=>$b(g,y,r))})})}function ur(i,n,l,r){return b(this,null,function*(){return gr(i,"GET",n,l,r)})}function Va(i,n,l,r,u){return b(this,null,function*(){return gr(i,"POST",n,r,u,l)})}function vd(i,n,l,r,u){return b(this,null,function*(){return gr(i,"PUT",n,r,u,l)})}function Vb(i,n,l,r){return b(this,null,function*(){return gr(i,"HEAD",n,he(he({},l),{},{noResolveJson:!0}),r)})}function Ad(i,n,l,r,u){return b(this,null,function*(){return gr(i,"DELETE",n,r,u,l)})}var Yb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}execute(){return b(this,null,function*(){var i=this;try{return{data:(yield i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}};let og;og=Symbol.toStringTag;var Kb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[og]="BlobDownloadBuilder",this.promise=null}asStream(){return new Yb(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return b(this,null,function*(){var i=this;try{return{data:yield(yield i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}};const Ib={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},R0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Jb=class{constructor(i,n={},l,r){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.bucketId=l,this.fetch=Td(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(i,n,l,r){return b(this,null,function*(){var u=this;try{let d;const m=he(he({},R0),r);let y=he(he({},u.headers),i==="POST"&&{"x-upsert":String(m.upsert)});const g=m.metadata;typeof Blob!="undefined"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),g&&d.append("metadata",u.encodeMetadata(g)),d.append("",l)):typeof FormData!="undefined"&&l instanceof FormData?(d=l,d.has("cacheControl")||d.append("cacheControl",m.cacheControl),g&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(g))):(d=l,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType,g&&(y["x-metadata"]=u.toBase64(u.encodeMetadata(g))),(typeof ReadableStream!="undefined"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!m.duplex&&(m.duplex="half")),r!=null&&r.headers&&(y=he(he({},y),r.headers));const p=u._removeEmptyFolders(n),_=u._getFinalPath(p),N=yield(i=="PUT"?vd:Va)(u.fetch,`${u.url}/object/${_}`,d,he({headers:y},m!=null&&m.duplex?{duplex:m.duplex}:{}));return{data:{path:p,id:N.Id,fullPath:N.Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Pe(d))return{data:null,error:d};throw d}})}upload(i,n,l){return b(this,null,function*(){return this.uploadOrUpdate("POST",i,n,l)})}uploadToSignedUrl(i,n,l,r){return b(this,null,function*(){var u=this;const d=u._removeEmptyFolders(i),m=u._getFinalPath(d),y=new URL(u.url+`/object/upload/sign/${m}`);y.searchParams.set("token",n);try{let g;const p=he({upsert:R0.upsert},r),_=he(he({},u.headers),{"x-upsert":String(p.upsert)});return typeof Blob!="undefined"&&l instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",l)):typeof FormData!="undefined"&&l instanceof FormData?(g=l,g.append("cacheControl",p.cacheControl)):(g=l,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType),{data:{path:d,fullPath:(yield vd(u.fetch,y.toString(),g,{headers:_})).Key},error:null}}catch(g){if(u.shouldThrowOnError)throw g;if(Pe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(i,n){return b(this,null,function*(){var l=this;try{let r=l._getFinalPath(i);const u=he({},l.headers);n!=null&&n.upsert&&(u["x-upsert"]="true");const d=yield Va(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:u}),m=new URL(l.url+d.url),y=m.searchParams.get("token");if(!y)throw new qc("No token returned by API");return{data:{signedUrl:m.toString(),path:i,token:y},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}update(i,n,l){return b(this,null,function*(){return this.uploadOrUpdate("PUT",i,n,l)})}move(i,n,l){return b(this,null,function*(){var r=this;try{return{data:yield Va(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers}),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}copy(i,n,l){return b(this,null,function*(){var r=this;try{return{data:{path:(yield Va(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers})).Key},error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}createSignedUrl(i,n,l){return b(this,null,function*(){var r=this;try{let u=r._getFinalPath(i),d=yield Va(r.fetch,`${r.url}/object/sign/${u}`,he({expiresIn:n},l!=null&&l.transform?{transform:l.transform}:{}),{headers:r.headers});const m=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${r.url}${d.signedURL}${m}`)},{data:d,error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}createSignedUrls(i,n,l){return b(this,null,function*(){var r=this;try{const u=yield Va(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:i},{headers:r.headers}),d=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(m=>he(he({},m),{},{signedUrl:m.signedURL?encodeURI(`${r.url}${m.signedURL}${d}`):null})),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}download(i,n){const l=typeof(n==null?void 0:n.transform)!="undefined"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=r?`?${r}`:"",d=this._getFinalPath(i),m=()=>ur(this.fetch,`${this.url}/${l}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new Kb(m,this.shouldThrowOnError)}info(i){return b(this,null,function*(){var n=this;const l=n._getFinalPath(i);try{return{data:yd(yield ur(n.fetch,`${n.url}/object/info/${l}`,{headers:n.headers})),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}exists(i){return b(this,null,function*(){var n=this;const l=n._getFinalPath(i);try{return yield Vb(n.fetch,`${n.url}/object/${l}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Pe(r)&&r instanceof gd){const u=r.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:r}}throw r}})}getPublicUrl(i,n){const l=this._getFinalPath(i),r=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&r.push(u);const d=typeof(n==null?void 0:n.transform)!="undefined"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&r.push(m);let y=r.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${l}${y}`)}}}remove(i){return b(this,null,function*(){var n=this;try{return{data:yield Ad(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}list(i,n,l){return b(this,null,function*(){var r=this;try{const u=he(he(he({},Ib),n),{},{prefix:i||""});return{data:yield Va(r.fetch,`${r.url}/object/list/${r.bucketId}`,u,{headers:r.headers},l),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}listV2(i,n){return b(this,null,function*(){var l=this;try{const r=he({},i);return{data:yield Va(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},n),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer!="undefined"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const ug="2.89.0",dg={"X-Client-Info":`storage-js/${ug}`};var Qb=class{constructor(i,n={},l,r){this.shouldThrowOnError=!1;const u=new URL(i);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=he(he({},dg),n),this.fetch=Td(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(i){return b(this,null,function*(){var n=this;try{const l=n.listBucketOptionsToQueryString(i);return{data:yield ur(n.fetch,`${n.url}/bucket${l}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}getBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield ur(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}createBucket(l){return b(this,arguments,function*(i,n={public:!1}){var r=this;try{return{data:yield Va(r.fetch,`${r.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}updateBucket(i,n){return b(this,null,function*(){var l=this;try{return{data:yield vd(l.fetch,`${l.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}emptyBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield Va(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}deleteBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield Ad(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Xb=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},dg),n),this.fetch=Td(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield Va(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}listBuckets(i){return b(this,null,function*(){var n=this;try{const l=new URLSearchParams;(i==null?void 0:i.limit)!==void 0&&l.set("limit",i.limit.toString()),(i==null?void 0:i.offset)!==void 0&&l.set("offset",i.offset.toString()),i!=null&&i.sortColumn&&l.set("sortColumn",i.sortColumn),i!=null&&i.sortOrder&&l.set("sortOrder",i.sortOrder),i!=null&&i.search&&l.set("search",i.search);const r=l.toString(),u=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return{data:yield ur(n.fetch,u,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}deleteBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield Ad(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}from(i){var n=this;if(!Bb(i))throw new qc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new zb({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:()=>b(this,null,function*(){return n.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(u,d){const m=u[d];return typeof m!="function"?m:(...y)=>b(null,null,function*(){try{return{data:yield m.apply(u,y),error:null}}catch(g){if(r)throw g;return{data:null,error:g}}})}})}};const kd={"X-Client-Info":`storage-js/${ug}`,"Content-Type":"application/json"};var hg=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function wa(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var td=class extends hg{constructor(i,n,l){super(i),this.name="StorageVectorsApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zb=class extends hg{constructor(i,n){super(i),this.name="StorageVectorsUnknownError",this.originalError=n}};const Od=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Wb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},z0=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Pb=(i,n,l)=>b(null,null,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(l!=null&&l.noResolveJson)){const r=i.status||500,u=i;if(typeof u.json=="function")u.json().then(d=>{const m=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||r+"";n(new td(z0(d),r,m))}).catch(()=>{const d=r+"";n(new td(u.statusText||`HTTP ${r} error`,r,d))});else{const d=r+"";n(new td(u.statusText||`HTTP ${r} error`,r,d))}}else n(new Zb(z0(i),i))}),Fb=(i,n,l,r)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return r?(Wb(r)?(u.headers=he({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(r)):u.body=r,he(he({},u),l)):u};function e_(i,n,l,r,u,d){return b(this,null,function*(){return new Promise((m,y)=>{i(l,Fb(n,r,u,d)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>m(g)).catch(g=>Pb(g,y,r))})})}function Sa(i,n,l,r,u){return b(this,null,function*(){return e_(i,"POST",n,r,u,l)})}var t_=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},kd),n),this.fetch=Od(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(i){return b(this,null,function*(){var n=this;try{return{data:(yield Sa(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers}))||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(wa(l))return{data:null,error:l};throw l}})}getIndex(i,n){return b(this,null,function*(){var l=this;try{return{data:yield Sa(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(wa(r))return{data:null,error:r};throw r}})}listIndexes(i){return b(this,null,function*(){var n=this;try{return{data:yield Sa(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(wa(l))return{data:null,error:l};throw l}})}deleteIndex(i,n){return b(this,null,function*(){var l=this;try{return{data:(yield Sa(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers}))||{},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(wa(r))return{data:null,error:r};throw r}})}},a_=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},kd),n),this.fetch=Od(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(i){return b(this,null,function*(){var n=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Sa(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers}))||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(wa(l))return{data:null,error:l};throw l}})}getVectors(i){return b(this,null,function*(){var n=this;try{return{data:yield Sa(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(wa(l))return{data:null,error:l};throw l}})}listVectors(i){return b(this,null,function*(){var n=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:yield Sa(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(wa(l))return{data:null,error:l};throw l}})}queryVectors(i){return b(this,null,function*(){var n=this;try{return{data:yield Sa(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(wa(l))return{data:null,error:l};throw l}})}deleteVectors(i){return b(this,null,function*(){var n=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Sa(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers}))||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(wa(l))return{data:null,error:l};throw l}})}},n_=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},kd),n),this.fetch=Od(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(i){return b(this,null,function*(){var n=this;try{return{data:(yield Sa(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers}))||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(wa(l))return{data:null,error:l};throw l}})}getBucket(i){return b(this,null,function*(){var n=this;try{return{data:yield Sa(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(wa(l))return{data:null,error:l};throw l}})}listBuckets(){return b(this,arguments,function*(i={}){var n=this;try{return{data:yield Sa(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(wa(l))return{data:null,error:l};throw l}})}deleteBucket(i){return b(this,null,function*(){var n=this;try{return{data:(yield Sa(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers}))||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(wa(l))return{data:null,error:l};throw l}})}},s_=class i extends n_{constructor(n,l={}){super(n,l.headers||{},l.fetch)}from(n){return new i_(this.url,this.headers,n,this.fetch)}createBucket(n){return b(this,null,function*(){var l=()=>aa(i.prototype,this,"createBucket"),r=this;return l().call(r,n)})}getBucket(n){return b(this,null,function*(){var l=()=>aa(i.prototype,this,"getBucket"),r=this;return l().call(r,n)})}listBuckets(){return b(this,arguments,function*(n={}){var l=()=>aa(i.prototype,this,"listBuckets"),r=this;return l().call(r,n)})}deleteBucket(n){return b(this,null,function*(){var l=()=>aa(i.prototype,this,"deleteBucket"),r=this;return l().call(r,n)})}},i_=class i extends t_{constructor(n,l,r,u){super(n,l,u),this.vectorBucketName=r}createIndex(n){return b(this,null,function*(){var l=()=>aa(i.prototype,this,"createIndex"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName}))})}listIndexes(){return b(this,arguments,function*(n={}){var l=()=>aa(i.prototype,this,"listIndexes"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName}))})}getIndex(n){return b(this,null,function*(){var l=()=>aa(i.prototype,this,"getIndex"),r=this;return l().call(r,r.vectorBucketName,n)})}deleteIndex(n){return b(this,null,function*(){var l=()=>aa(i.prototype,this,"deleteIndex"),r=this;return l().call(r,r.vectorBucketName,n)})}index(n){return new l_(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},l_=class i extends a_{constructor(n,l,r,u,d){super(n,l,d),this.vectorBucketName=r,this.indexName=u}putVectors(n){return b(this,null,function*(){var l=()=>aa(i.prototype,this,"putVectors"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}getVectors(n){return b(this,null,function*(){var l=()=>aa(i.prototype,this,"getVectors"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}listVectors(){return b(this,arguments,function*(n={}){var l=()=>aa(i.prototype,this,"listVectors"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}queryVectors(n){return b(this,null,function*(){var l=()=>aa(i.prototype,this,"queryVectors"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}deleteVectors(n){return b(this,null,function*(){var l=()=>aa(i.prototype,this,"deleteVectors"),r=this;return l().call(r,he(he({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}},r_=class extends Qb{constructor(i,n={},l,r){super(i,n,l,r)}from(i){return new Jb(this.url,this.headers,i,this.fetch)}get vectors(){return new s_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Xb(this.url+"/iceberg",this.headers,this.fetch)}};const fg="2.89.0",Zi=30*1e3,pd=3,ad=pd*Zi,c_="http://localhost:9999",o_="supabase.auth.token",u_={"X-Client-Info":`gotrue-js/${fg}`},bd="X-Supabase-Api-Version",mg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},d_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,h_=600*1e3;class dr extends Error{constructor(n,l,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function se(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class f_ extends dr{constructor(n,l,r){super(n,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function m_(i){return se(i)&&i.name==="AuthApiError"}class Ws extends dr{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class Ln extends dr{constructor(n,l,r,u){super(n,r,u),this.name=l,this.status=r}}class _a extends Ln{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function g_(i){return se(i)&&i.name==="AuthSessionMissingError"}class Yi extends Ln{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oc extends Ln{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Cc extends Ln{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function y_(i){return se(i)&&i.name==="AuthImplicitGrantRedirectError"}class D0 extends Ln{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class v_ extends Ln{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _d extends Ln{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function nd(i){return se(i)&&i.name==="AuthRetryableFetchError"}class U0 extends Ln{constructor(n,l,r){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class wd extends Ln{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M0=` 	
\r=`.split(""),p_=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<M0.length;n+=1)i[M0[n].charCodeAt(0)]=-2;for(let n=0;n<Uc.length;n+=1)i[Uc[n].charCodeAt(0)]=n;return i})();function B0(i,n,l){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(Uc[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(Uc[r]),n.queuedBits-=6}}function gg(i,n,l){const r=p_[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function L0(i){const n=[],l=m=>{n.push(String.fromCodePoint(m))},r={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=m=>{w_(m,r,l)};for(let m=0;m<i.length;m+=1)gg(i.charCodeAt(m),u,d);return n.join("")}function b_(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function __(i,n){for(let l=0;l<i.length;l+=1){let r=i.charCodeAt(l);if(r>55295&&r<=56319){const u=(r-55296)*1024&65535;r=(i.charCodeAt(l+1)-56320&65535|u)+65536,l+=1}b_(r,n)}}function w_(i,n,l){if(n.utf8seq===0){if(i<=127){l(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function Fi(i){const n=[],l={queue:0,queuedBits:0},r=u=>{n.push(u)};for(let u=0;u<i.length;u+=1)gg(i.charCodeAt(u),l,r);return new Uint8Array(n)}function S_(i){const n=[];return __(i,l=>n.push(l)),new Uint8Array(n)}function Ps(i){const n=[],l={queue:0,queuedBits:0},r=u=>{n.push(u)};return i.forEach(u=>B0(u,l,r)),B0(null,l,r),n.join("")}function x_(i){return Math.round(Date.now()/1e3)+i}function j_(){return Symbol("auth-callback")}const Rt=()=>typeof window!="undefined"&&typeof document!="undefined",Is={tested:!1,writable:!1},yg=()=>{if(!Rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(n){return!1}if(Is.tested)return Is.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Is.tested=!0,Is.writable=!0}catch(n){Is.tested=!0,Is.writable=!1}return Is.writable};function E_(i){const n={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch(r){}return l.searchParams.forEach((r,u)=>{n[u]=r}),n}const vg=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),N_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Wi=(i,n,l)=>b(null,null,function*(){yield i.setItem(n,JSON.stringify(l))}),Js=(i,n)=>b(null,null,function*(){const l=yield i.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch(r){return l}}),Ct=(i,n)=>b(null,null,function*(){yield i.removeItem(n)});class Hc{constructor(){this.promise=new Hc.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}Hc.promiseConstructor=Promise;function sd(i){const n=i.split(".");if(n.length!==3)throw new wd("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!d_.test(n[r]))throw new wd("JWT not in base64url format");return{header:JSON.parse(L0(n[0])),payload:JSON.parse(L0(n[1])),signature:Fi(n[2]),raw:{header:n[0],payload:n[1]}}}function T_(i){return b(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),i)})})}function A_(i,n){return new Promise((r,u)=>{b(null,null,function*(){for(let d=0;d<1/0;d++)try{const m=yield i(d);if(!n(d,null,m)){r(m);return}}catch(m){if(!n(d,m)){u(m);return}}})})}function k_(i){return("0"+i.toString(16)).substr(-2)}function O_(){const n=new Uint32Array(56);if(typeof crypto=="undefined"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let u="";for(let d=0;d<56;d++)u+=l.charAt(Math.floor(Math.random()*r));return u}return crypto.getRandomValues(n),Array.from(n,k_).join("")}function C_(i){return b(this,null,function*(){const l=new TextEncoder().encode(i),r=yield crypto.subtle.digest("SHA-256",l),u=new Uint8Array(r);return Array.from(u).map(d=>String.fromCharCode(d)).join("")})}function R_(i){return b(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const l=yield C_(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Ki(i,n,l=!1){return b(this,null,function*(){const r=O_();let u=r;l&&(u+="/PASSWORD_RECOVERY"),yield Wi(i,`${n}-code-verifier`,u);const d=yield R_(r);return[d,r===d?"plain":"s256"]})}const z_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function D_(i){const n=i.headers.get(bd);if(!n||!n.match(z_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch(l){return null}}function U_(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function M_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const B_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ii(i){if(!B_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function id(){const i={};return new Proxy(i,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function L_(i,n){return new Proxy(i,{get:(l,r,u)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,u)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(l,r,u)}})}function q0(i){return JSON.parse(JSON.stringify(i))}const Qs=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),q_=[502,503,504];function H0(i){return b(this,null,function*(){var n;if(!N_(i))throw new _d(Qs(i),0);if(q_.includes(i.status))throw new _d(Qs(i),i.status);let l;try{l=yield i.json()}catch(d){throw new Ws(Qs(d),d)}let r;const u=D_(i);if(u&&u.getTime()>=mg["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new U0(Qs(l),i.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new _a}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,m)=>d&&typeof m=="string",!0))throw new U0(Qs(l),i.status,l.weak_password.reasons);throw new f_(Qs(l),i.status||500,r)})}const H_=(i,n,l,r)=>{const u={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),u.body=JSON.stringify(r),Object.assign(Object.assign({},u),l))};function de(i,n,l,r){return b(this,null,function*(){var u;const d=Object.assign({},r==null?void 0:r.headers);d[bd]||(d[bd]=mg["2024-01-01"].name),r!=null&&r.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const m=(u=r==null?void 0:r.query)!==null&&u!==void 0?u:{};r!=null&&r.redirectTo&&(m.redirect_to=r.redirectTo);const y=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",g=yield $_(i,n,l+y,{headers:d,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}})}function $_(i,n,l,r,u,d){return b(this,null,function*(){const m=H_(n,r,u,d);let y;try{y=yield i(l,Object.assign({},m))}catch(g){throw console.error(g),new _d(Qs(g),0)}if(y.ok||(yield H0(y)),r!=null&&r.noResolveJson)return y;try{return yield y.json()}catch(g){yield H0(g)}})}function Ga(i){var n;let l=null;Y_(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=x_(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:l,user:r},error:null}}function $0(i){const n=Ga(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function ps(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function G_(i){return{data:i,error:null}}function V_(i){const{action_link:n,email_otp:l,hashed_token:r,redirect_to:u,verification_type:d}=i,m=Lc(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:n,email_otp:l,hashed_token:r,redirect_to:u,verification_type:d},g=Object.assign({},m);return{data:{properties:y,user:g},error:null}}function G0(i){return i}function Y_(i){return i.access_token&&i.refresh_token&&i.expires_in}const ld=["global","local","others"];class K_{constructor({url:n="",headers:l={},fetch:r}){this.url=n,this.headers=l,this.fetch=vg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return b(this,arguments,function*(n,l=ld[0]){if(ld.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ld.join(", ")}`);try{return yield de(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(u){if(se(u))return{data:null,error:u};throw u}})}inviteUserByEmail(r){return b(this,arguments,function*(n,l={}){try{return yield de(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:ps})}catch(u){if(se(u))return{data:{user:null},error:u};throw u}})}generateLink(n){return b(this,null,function*(){try{const{options:l}=n,r=Lc(n,["options"]),u=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(u.new_email=r==null?void 0:r.newEmail,delete u.newEmail),yield de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:V_,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(se(l))return{data:{properties:null,user:null},error:l};throw l}})}createUser(n){return b(this,null,function*(){try{return yield de(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ps})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}})}listUsers(n){return b(this,null,function*(){var l,r,u,d,m,y,g;try{const p={nextPage:null,lastPage:0,total:0},_=yield de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n==null?void 0:n.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:G0});if(_.error)throw _.error;const N=yield _.json(),j=(m=_.headers.get("x-total-count"))!==null&&m!==void 0?m:0,C=(g=(y=_.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(U=>{const L=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(U.split(";")[1].split("=")[1]);p[`${Q}Page`]=L}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},N),p),error:null}}catch(p){if(se(p))return{data:{users:[]},error:p};throw p}})}getUserById(n){return b(this,null,function*(){Ii(n);try{return yield de(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ps})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}})}updateUserById(n,l){return b(this,null,function*(){Ii(n);try{return yield de(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:ps})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,l=!1){return b(this,null,function*(){Ii(n);try{return yield de(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:ps})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return b(this,null,function*(){Ii(n.userId);try{const{data:l,error:r}=yield de(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:l,error:r}}catch(l){if(se(l))return{data:null,error:l};throw l}})}_deleteFactor(n){return b(this,null,function*(){Ii(n.userId),Ii(n.id);try{return{data:yield de(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}})}_listOAuthClients(n){return b(this,null,function*(){var l,r,u,d,m,y,g;try{const p={nextPage:null,lastPage:0,total:0},_=yield de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n==null?void 0:n.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:G0});if(_.error)throw _.error;const N=yield _.json(),j=(m=_.headers.get("x-total-count"))!==null&&m!==void 0?m:0,C=(g=(y=_.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(U=>{const L=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(U.split(";")[1].split("=")[1]);p[`${Q}Page`]=L}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},N),p),error:null}}catch(p){if(se(p))return{data:{clients:[]},error:p};throw p}})}_createOAuthClient(n){return b(this,null,function*(){try{return yield de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(se(l))return{data:null,error:l};throw l}})}_getOAuthClient(n){return b(this,null,function*(){try{return yield de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(se(l))return{data:null,error:l};throw l}})}_updateOAuthClient(n,l){return b(this,null,function*(){try{return yield de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(n){return b(this,null,function*(){try{return yield de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}})}_regenerateOAuthClientSecret(n){return b(this,null,function*(){try{return yield de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(se(l))return{data:null,error:l};throw l}})}}function V0(i={}){return{getItem:n=>i[n]||null,setItem:(n,l)=>{i[n]=l},removeItem:n=>{delete i[n]}}}const Ji={debug:!!(globalThis&&yg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class I_ extends pg{}function J_(i,n,l){return b(this,null,function*(){Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},u=>b(null,null,function*(){if(u){Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return yield l()}finally{Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(n===0)throw Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new I_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ji.debug)try{const d=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield l()}})))})}function Q_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(i){typeof self!="undefined"&&(self.globalThis=self)}}function bg(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function X_(i){return parseInt(i,16)}function Z_(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function W_(i){var n;const{chainId:l,domain:r,expirationTime:u,issuedAt:d=new Date,nonce:m,notBefore:y,requestId:g,resources:p,scheme:_,uri:N,version:j}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(m&&m.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${m}`);if(!N)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const C=bg(i.address),U=_?`${_}://${r}`:r,L=i.statement?`${i.statement}
`:"",Q=`${U} wants you to sign in with your Ethereum account:
${C}

${L}`;let H=`URI: ${N}
Version: ${j}
Chain ID: ${l}${m?`
Nonce: ${m}`:""}
Issued At: ${d.toISOString()}`;if(u&&(H+=`
Expiration Time: ${u.toISOString()}`),y&&(H+=`
Not Before: ${y.toISOString()}`),g&&(H+=`
Request ID: ${g}`),p){let J=`
Resources:`;for(const Y of p){if(!Y||typeof Y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Y}`);J+=`
- ${Y}`}H+=J}return`${Q}
${H}`}class mt extends Error{constructor({message:n,code:l,cause:r,name:u}){var d;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=u!=null?u:r instanceof Error?r.name:void 0)!==null&&d!==void 0?d:"Unknown Error",this.code=l}}class Mc extends mt{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function P_({error:i,options:n}){var l,r,u;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=d.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new mt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(y=>y.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const m=window.location.hostname;if(_g(m)){if(d.rp.id!==m)return new mt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function F_({error:i,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new mt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(_g(r)){if(l.rpId!==r)return new mt({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class e1{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const t1=new e1;function a1(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential!="undefined"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:l,excludeCredentials:r}=i,u=Lc(i,["challenge","user","excludeCredentials"]),d=Fi(n).buffer,m=Object.assign(Object.assign({},l),{id:Fi(l.id).buffer}),y=Object.assign(Object.assign({},u),{challenge:d,user:m});if(r&&r.length>0){y.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const p=r[g];y.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Fi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return y}function n1(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential!="undefined"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:l}=i,r=Lc(i,["challenge","allowCredentials"]),u=Fi(n).buffer,d=Object.assign(Object.assign({},r),{challenge:u});if(l&&l.length>0){d.allowCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const y=l[m];d.allowCredentials[m]=Object.assign(Object.assign({},y),{id:Fi(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return d}function s1(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:Ps(new Uint8Array(i.response.attestationObject)),clientDataJSON:Ps(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function i1(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,r=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Ps(new Uint8Array(u.authenticatorData)),clientDataJSON:Ps(new Uint8Array(u.clientDataJSON)),signature:Ps(new Uint8Array(u.signature)),userHandle:u.userHandle?Ps(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function _g(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Y0(){var i,n;return!!(Rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}function l1(i){return b(this,null,function*(){try{const n=yield navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Mc("Browser returned unexpected credential type",n)}:{data:null,error:new Mc("Empty credential response",n)}}catch(n){return{data:null,error:P_({error:n,options:i})}}})}function r1(i){return b(this,null,function*(){try{const n=yield navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Mc("Browser returned unexpected credential type",n)}:{data:null,error:new Mc("Empty credential response",n)}}catch(n){return{data:null,error:F_({error:n,options:i})}}})}const c1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},o1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bc(...i){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),l=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),r={};for(const u of i)if(u)for(const d in u){const m=u[d];if(m!==void 0)if(Array.isArray(m))r[d]=m;else if(l(m))r[d]=m;else if(n(m)){const y=r[d];n(y)?r[d]=Bc(y,m):r[d]=Bc(m)}else r[d]=m}return r}function u1(i,n){return Bc(c1,i,n||{})}function d1(i,n){return Bc(o1,i,n||{})}class h1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(n){return b(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))})}_challenge(m,y){return b(this,arguments,function*({factorId:n,webauthn:l,friendlyName:r,signal:u},d){try{const{data:g,error:p}=yield this.client.mfa.challenge({factorId:n,webauthn:l});if(!g)return{data:null,error:p};const _=u!=null?u:t1.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:N}=g.webauthn.credential_options.publicKey;N.name||(N.name=`${N.id}:${r}`),N.displayName||(N.displayName=N.name)}switch(g.webauthn.type){case"create":{const N=u1(g.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:j,error:C}=yield l1({publicKey:N,signal:_});return j?{data:{factorId:n,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:j}},error:null}:{data:null,error:C}}case"request":{const N=d1(g.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:j,error:C}=yield r1(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:N,signal:_}));return j?{data:{factorId:n,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:j}},error:null}:{data:null,error:C}}}}catch(g){return se(g)?{data:null,error:g}:{data:null,error:new Ws("Unexpected error in challenge",g)}}})}_verify(u){return b(this,arguments,function*({challengeId:n,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:r})})}_authenticate(m,y){return b(this,arguments,function*({factorId:n,webauthn:{rpId:l=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:r=typeof window!="undefined"?[window.location.origin]:void 0,signal:u}={}},d){if(!l)return{data:null,error:new dr("rpId is required for WebAuthn authentication")};try{if(!Y0())return{data:null,error:new Ws("Browser does not support WebAuthn",null)};const{data:g,error:p}=yield this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:r},signal:u},{request:d});if(!g)return{data:null,error:p};const{webauthn:_}=g;return this._verify({factorId:n,challengeId:g.challengeId,webauthn:{type:_.type,rpId:l,rpOrigins:r,credential_response:_.credential_response}})}catch(g){return se(g)?{data:null,error:g}:{data:null,error:new Ws("Unexpected error in authenticate",g)}}})}_register(m,y){return b(this,arguments,function*({friendlyName:n,webauthn:{rpId:l=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:r=typeof window!="undefined"?[window.location.origin]:void 0,signal:u}={}},d){if(!l)return{data:null,error:new dr("rpId is required for WebAuthn registration")};try{if(!Y0())return{data:null,error:new Ws("Browser does not support WebAuthn",null)};const{data:g,error:p}=yield this._enroll({friendlyName:n});if(!g)return yield this.client.mfa.listFactors().then(j=>{var C;return(C=j.data)===null||C===void 0?void 0:C.all.find(U=>U.factor_type==="webauthn"&&U.friendly_name===n&&U.status!=="unverified")}).then(j=>j?this.client.mfa.unenroll({factorId:j==null?void 0:j.id}):void 0),{data:null,error:p};const{data:_,error:N}=yield this._challenge({factorId:g.id,friendlyName:g.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:u},{create:d});return _?this._verify({factorId:g.id,challengeId:_.challengeId,webauthn:{rpId:l,rpOrigins:r,type:_.webauthn.type,credential_response:_.webauthn.credential_response}}):{data:null,error:N}}catch(g){return se(g)?{data:null,error:g}:{data:null,error:new Ws("Unexpected error in register",g)}}})}}Q_();const f1={url:c_,storageKey:o_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function K0(i,n,l){return b(this,null,function*(){return yield l()})}const Qi={};class hr{get jwks(){var n,l;return(l=(n=Qi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){Qi[this.storageKey]=Object.assign(Object.assign({},Qi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=Qi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Qi[this.storageKey]=Object.assign(Object.assign({},Qi[this.storageKey]),{cachedAt:n})}constructor(n){var l,r,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},f1),n);if(this.storageKey=d.storageKey,this.instanceID=(l=hr.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,hr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&Rt()){const m=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(m),this.logDebugMessages&&console.trace(m)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new K_({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=vg(d.fetch),this.lock=d.lock||K0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&Rt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=J_:this.lock=K0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new h1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:yg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=V0(this.memoryStorage)),Rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",m=>b(this,null,function*(){this._debug("received broadcast notification from other tab or client",m),yield this._notifyAllSubscribers(m.data.event,m.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fg}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return b(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=b(this,null,function*(){return yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return b(this,null,function*(){var n;try{let l={},r="none";if(Rt()&&(l=E_(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":(yield this._isPKCECallback(l))&&(r="pkce")),Rt()&&this.detectSessionInUrl&&r!=="none"){const{data:u,error:d}=yield this._getSessionFromURL(l,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),y_(d)){const g=(n=d.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return yield this._removeSession(),{error:d}}const{session:m,redirectType:y}=u;return this._debug("#_initialize()","detected session in URL",m,"redirect type",y),yield this._saveSession(m),setTimeout(()=>b(this,null,function*(){y==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",m):yield this._notifyAllSubscribers("SIGNED_IN",m)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(l){return se(l)?this._returnResult({error:l}):this._returnResult({error:new Ws("Unexpected error during initialization",l)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return b(this,null,function*(){var l,r,u;try{const d=yield de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=n==null?void 0:n.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(u=n==null?void 0:n.options)===null||u===void 0?void 0:u.captchaToken}},xform:Ga}),{data:m,error:y}=d;if(y||!m)return this._returnResult({data:{user:null,session:null},error:y});const g=m.session,p=m.user;return m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(se(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}signUp(n){return b(this,null,function*(){var l,r,u;try{let d;if("email"in n){const{email:_,password:N,options:j}=n;let C=null,U=null;this.flowType==="pkce"&&([C,U]=yield Ki(this.storage,this.storageKey)),d=yield de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:_,password:N,data:(l=j==null?void 0:j.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:C,code_challenge_method:U},xform:Ga})}else if("phone"in n){const{phone:_,password:N,options:j}=n;d=yield de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:N,data:(r=j==null?void 0:j.data)!==null&&r!==void 0?r:{},channel:(u=j==null?void 0:j.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:Ga})}else throw new Oc("You must provide either an email or phone number and a password");const{data:m,error:y}=d;if(y||!m)return yield Ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:y});const g=m.session,p=m.user;return m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(yield Ct(this.storage,`${this.storageKey}-code-verifier`),se(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}signInWithPassword(n){return b(this,null,function*(){try{let l;if("email"in n){const{email:d,password:m,options:y}=n;l=yield de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:m,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:$0})}else if("phone"in n){const{phone:d,password:m,options:y}=n;l=yield de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:m,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:$0})}else throw new Oc("You must provide either an email or phone number and a password");const{data:r,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!r||!r.session||!r.user){const d=new Yi;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:u})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}signInWithOAuth(n){return b(this,null,function*(){var l,r,u,d;return yield this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})})}exchangeCodeForSession(n){return b(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>b(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return b(this,null,function*(){const{chain:l}=n;switch(l){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}})}signInWithEthereum(n){return b(this,null,function*(){var l,r,u,d,m,y,g,p,_,N,j;let C,U;if("message"in n)C=n.message,U=n.signature;else{const{chain:L,wallet:Q,statement:H,options:J}=n;let Y;if(Rt())if(typeof Q=="object")Y=Q;else{const me=window;if("ethereum"in me&&typeof me.ethereum=="object"&&"request"in me.ethereum&&typeof me.ethereum.request=="function")Y=me.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof Q!="object"||!(J!=null&&J.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=Q}const ee=new URL((l=J==null?void 0:J.url)!==null&&l!==void 0?l:window.location.href),fe=yield Y.request({method:"eth_requestAccounts"}).then(me=>me).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!fe||fe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=bg(fe[0]);let M=(r=J==null?void 0:J.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const me=yield Y.request({method:"eth_chainId"});M=X_(me)}const Te={domain:ee.host,address:I,statement:H,uri:ee.href,version:"1",chainId:M,nonce:(u=J==null?void 0:J.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(m=(d=J==null?void 0:J.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&m!==void 0?m:new Date,expirationTime:(y=J==null?void 0:J.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(g=J==null?void 0:J.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=J==null?void 0:J.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(_=J==null?void 0:J.signInWithEthereum)===null||_===void 0?void 0:_.resources};C=W_(Te),U=yield Y.request({method:"personal_sign",params:[Z_(C),I]})}try{const{data:L,error:Q}=yield de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:U},!((N=n.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Ga});if(Q)throw Q;if(!L||!L.session||!L.user){const H=new Yi;return this._returnResult({data:{user:null,session:null},error:H})}return L.session&&(yield this._saveSession(L.session),yield this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:Q})}catch(L){if(se(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}})}signInWithSolana(n){return b(this,null,function*(){var l,r,u,d,m,y,g,p,_,N,j,C;let U,L;if("message"in n)U=n.message,L=n.signature;else{const{chain:Q,wallet:H,statement:J,options:Y}=n;let ee;if(Rt())if(typeof H=="object")ee=H;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))ee=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!(Y!=null&&Y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ee=H}const fe=new URL((l=Y==null?void 0:Y.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in ee&&ee.signIn){const I=yield ee.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Y==null?void 0:Y.signInWithSolana),{version:"1",domain:fe.host,uri:fe.href}),J?{statement:J}:null));let M;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")M=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)M=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)U=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),L=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ee)||typeof ee.signMessage!="function"||!("publicKey"in ee)||typeof ee!="object"||!ee.publicKey||!("toBase58"in ee.publicKey)||typeof ee.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${fe.host} wants you to sign in with your Solana account:`,ee.publicKey.toBase58(),...J?["",J,""]:[""],"Version: 1",`URI: ${fe.href}`,`Issued At: ${(u=(r=Y==null?void 0:Y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=Y==null?void 0:Y.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${Y.signInWithSolana.notBefore}`]:[],...!((m=Y==null?void 0:Y.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${Y.signInWithSolana.expirationTime}`]:[],...!((y=Y==null?void 0:Y.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${Y.signInWithSolana.chainId}`]:[],...!((g=Y==null?void 0:Y.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${Y.signInWithSolana.nonce}`]:[],...!((p=Y==null?void 0:Y.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${Y.signInWithSolana.requestId}`]:[],...!((N=(_=Y==null?void 0:Y.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||N===void 0)&&N.length?["Resources",...Y.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const I=yield ee.signMessage(new TextEncoder().encode(U),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");L=I}}try{const{data:Q,error:H}=yield de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:Ps(L)},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(C=n.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Ga});if(H)throw H;if(!Q||!Q.session||!Q.user){const J=new Yi;return this._returnResult({data:{user:null,session:null},error:J})}return Q.session&&(yield this._saveSession(Q.session),yield this._notifyAllSubscribers("SIGNED_IN",Q.session)),this._returnResult({data:Object.assign({},Q),error:H})}catch(Q){if(se(Q))return this._returnResult({data:{user:null,session:null},error:Q});throw Q}})}_exchangeCodeForSession(n){return b(this,null,function*(){const l=yield Js(this.storage,`${this.storageKey}-code-verifier`),[r,u]=(l!=null?l:"").split("/");try{if(!r&&this.flowType==="pkce")throw new v_;const{data:d,error:m}=yield de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:Ga});if(yield Ct(this.storage,`${this.storageKey}-code-verifier`),m)throw m;if(!d||!d.session||!d.user){const y=new Yi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:y})}return d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u!=null?u:null}),error:m})}catch(d){if(yield Ct(this.storage,`${this.storageKey}-code-verifier`),se(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}})}signInWithIdToken(n){return b(this,null,function*(){try{const{options:l,provider:r,token:u,access_token:d,nonce:m}=n,y=yield de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:u,access_token:d,nonce:m,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ga}),{data:g,error:p}=y;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const _=new Yi;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(yield this._saveSession(g.session),yield this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}signInWithOtp(n){return b(this,null,function*(){var l,r,u,d,m;try{if("email"in n){const{email:y,options:g}=n;let p=null,_=null;this.flowType==="pkce"&&([p,_]=yield Ki(this.storage,this.storageKey));const{error:N}=yield de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(l=g==null?void 0:g.data)!==null&&l!==void 0?l:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:N})}if("phone"in n){const{phone:y,options:g}=n,{data:p,error:_}=yield de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(u=g==null?void 0:g.data)!==null&&u!==void 0?u:{},create_user:(d=g==null?void 0:g.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(m=g==null?void 0:g.channel)!==null&&m!==void 0?m:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:_})}throw new Oc("You must provide either an email or phone number.")}catch(y){if(yield Ct(this.storage,`${this.storageKey}-code-verifier`),se(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}})}verifyOtp(n){return b(this,null,function*(){var l,r;try{let u,d;"options"in n&&(u=(l=n.options)===null||l===void 0?void 0:l.redirectTo,d=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:m,error:y}=yield de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:Ga});if(y)throw y;if(!m)throw new Error("An error occurred on token verification.");const g=m.session,p=m.user;return g!=null&&g.access_token&&(yield this._saveSession(g),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}signInWithSSO(n){return b(this,null,function*(){var l,r,u,d,m;try{let y=null,g=null;this.flowType==="pkce"&&([y,g]=yield Ki(this.storage,this.storageKey));const p=yield de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((u=n==null?void 0:n.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:g}),headers:this.headers,xform:G_});return!((d=p.data)===null||d===void 0)&&d.url&&Rt()&&!(!((m=n.options)===null||m===void 0)&&m.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(y){if(yield Ct(this.storage,`${this.storageKey}-code-verifier`),se(y))return this._returnResult({data:null,error:y});throw y}})}reauthenticate(){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return b(this,null,function*(){try{return yield this._useSession(n=>b(this,null,function*(){const{data:{session:l},error:r}=n;if(r)throw r;if(!l)throw new _a;const{error:u}=yield de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:u})}))}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return b(this,null,function*(){try{const l=`${this.url}/resend`;if("email"in n){const{email:r,type:u,options:d}=n,{error:m}=yield de(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}else if("phone"in n){const{phone:r,type:u,options:d}=n,{data:m,error:y}=yield de(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y})}throw new Oc("You must provide either an email or phone number and a type")}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}getSession(){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return this._useSession(l=>b(this,null,function*(){return l}))}))})}_acquireLock(n,l){return b(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=b(this,null,function*(){return yield r,yield l()});return this.pendingInLock.push(b(this,null,function*(){try{yield u}catch(d){}})),u}return yield this.lock(`lock:${this.storageKey}`,n,()=>b(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push(b(this,null,function*(){try{yield r}catch(u){}})),yield r;this.pendingInLock.length;){const u=[...this.pendingInLock];yield Promise.all(u),this.pendingInLock.splice(0,u.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return b(this,null,function*(){this._debug("#_useSession","begin");try{const l=yield this.__loadSession();return yield n(l)}finally{this._debug("#_useSession","end")}})}__loadSession(){return b(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=yield Js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<ad:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const m=yield Js(this.userStorage,this.storageKey+"-user");m!=null&&m.user?n.user=m.user:n.user=id()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const m={value:this.suppressGetSessionWarning};n.user=L_(n.user,m),m.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:d}=yield this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return b(this,null,function*(){if(n)return yield this._getUser(n);yield this.initializePromise;const l=yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._getUser()}));return l.data.user&&(this.suppressGetSessionWarning=!0),l})}_getUser(n){return b(this,null,function*(){try{return n?yield de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ps}):yield this._useSession(l=>b(this,null,function*(){var r,u,d;const{data:m,error:y}=l;if(y)throw y;return!(!((r=m.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _a}:yield de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:ps})}))}catch(l){if(se(l))return g_(l)&&(yield this._removeSession(),yield Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}})}updateUser(r){return b(this,arguments,function*(n,l={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._updateUser(n,l)}))})}_updateUser(r){return b(this,arguments,function*(n,l={}){try{return yield this._useSession(u=>b(this,null,function*(){const{data:d,error:m}=u;if(m)throw m;if(!d.session)throw new _a;const y=d.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=yield Ki(this.storage,this.storageKey));const{data:_,error:N}=yield de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:y.access_token,xform:ps});if(N)throw N;return y.user=_.user,yield this._saveSession(y),yield this._notifyAllSubscribers("USER_UPDATED",y),this._returnResult({data:{user:y.user},error:null})}))}catch(u){if(yield Ct(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null},error:u});throw u}})}setSession(n){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return b(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new _a;const l=Date.now()/1e3;let r=l,u=!0,d=null;const{payload:m}=sd(n.access_token);if(m.exp&&(r=m.exp,u=r<=l),u){const{data:y,error:g}=yield this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y)return{data:{user:null,session:null},error:null};d=y}else{const{data:y,error:g}=yield this._getUser(n.access_token);if(g)throw g;d={access_token:n.access_token,refresh_token:n.refresh_token,user:y.user,token_type:"bearer",expires_in:r-l,expires_at:r},yield this._saveSession(d),yield this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(l){if(se(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}})}refreshSession(n){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r;if(!n){const{data:m,error:y}=l;if(y)throw y;n=(r=m.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new _a;const{data:u,error:d}=yield this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}_getSessionFromURL(n,l){return b(this,null,function*(){try{if(!Rt())throw new Cc("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Cc(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new D0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cc("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new D0("No code detected.");const{data:J,error:Y}=yield this._exchangeCodeForSession(n.code);if(Y)throw Y;const ee=new URL(window.location.href);return ee.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ee.toString()),{data:{session:J.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:u,access_token:d,refresh_token:m,expires_in:y,expires_at:g,token_type:p}=n;if(!d||!y||!m||!p)throw new Cc("No session defined in URL");const _=Math.round(Date.now()/1e3),N=parseInt(y);let j=_+N;g&&(j=parseInt(g));const C=j-_;C*1e3<=Zi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${N}s`);const U=j-N;_-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,j,_):_-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,j,_);const{data:L,error:Q}=yield this._getUser(d);if(Q)throw Q;const H={provider_token:r,provider_refresh_token:u,access_token:d,expires_in:N,expires_at:j,refresh_token:m,token_type:p,user:L.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:n.type},error:null})}catch(r){if(se(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}})}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}_isPKCECallback(n){return b(this,null,function*(){const l=yield Js(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)})}signOut(){return b(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return b(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(l=>b(this,null,function*(){var r;const{data:u,error:d}=l;if(d)return this._returnResult({error:d});const m=(r=u.session)===null||r===void 0?void 0:r.access_token;if(m){const{error:y}=yield this.admin.signOut(m,n);if(y&&!(m_(y)&&(y.status===404||y.status===401||y.status===403)))return this._returnResult({error:y})}return n!=="others"&&(yield this._removeSession(),yield Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){const l=j_(),r={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),b(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){this._emitInitialSession(l)}))}),{data:{subscription:r}}}_emitInitialSession(n){return b(this,null,function*(){return yield this._useSession(l=>b(this,null,function*(){var r,u;try{const{data:{session:d},error:m}=l;if(m)throw m;yield(r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){yield(u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}}))})}resetPasswordForEmail(r){return b(this,arguments,function*(n,l={}){let u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Ki(this.storage,this.storageKey,!0));try{return yield de(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:u,code_challenge_method:d,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(m){if(yield Ct(this.storage,`${this.storageKey}-code-verifier`),se(m))return this._returnResult({data:null,error:m});throw m}})}getUserIdentities(){return b(this,null,function*(){var n;try{const{data:l,error:r}=yield this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}})}linkIdentity(n){return b(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return b(this,null,function*(){var l;try{const{data:r,error:u}=yield this._useSession(d=>b(this,null,function*(){var m,y,g,p,_;const{data:N,error:j}=d;if(j)throw j;const C=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(m=n.options)===null||m===void 0?void 0:m.redirectTo,scopes:(y=n.options)===null||y===void 0?void 0:y.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return yield de(this.fetch,"GET",C,{headers:this.headers,jwt:(_=(p=N.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})}));if(u)throw u;return Rt()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:n.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(se(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}})}linkIdentityIdToken(n){return b(this,null,function*(){return yield this._useSession(l=>b(this,null,function*(){var r;try{const{error:u,data:{session:d}}=l;if(u)throw u;const{options:m,provider:y,token:g,access_token:p,nonce:_}=n,N=yield de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d==null?void 0:d.access_token)!==null&&r!==void 0?r:void 0,body:{provider:y,id_token:g,access_token:p,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ga}),{data:j,error:C}=N;return C?this._returnResult({data:{user:null,session:null},error:C}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new Yi}):(j.session&&(yield this._saveSession(j.session),yield this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:C}))}catch(u){if(yield Ct(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}))})}unlinkIdentity(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r,u;const{data:d,error:m}=l;if(m)throw m;return yield de(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0})}))}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}})}_refreshAccessToken(n){return b(this,null,function*(){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return yield A_(u=>b(this,null,function*(){return u>0&&(yield T_(200*Math.pow(2,u-1))),this._debug(l,"refreshing attempt",u),yield de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ga})}),(u,d)=>{const m=200*Math.pow(2,u);return d&&nd(d)&&Date.now()+m-r<Zi})}catch(r){if(this._debug(l,"error",r),se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,l){return b(this,null,function*(){const r=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",r),Rt()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}})}_recoverAndRefresh(){return b(this,null,function*(){var n,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const u=yield Js(this.storage,this.storageKey);if(u&&this.userStorage){let m=yield Js(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:u.user},yield Wi(this.userStorage,this.storageKey+"-user",m)),u.user=(n=m==null?void 0:m.user)!==null&&n!==void 0?n:id()}else if(u&&!u.user&&!u.user){const m=yield Js(this.storage,this.storageKey+"-user");m&&(m!=null&&m.user)?(u.user=m.user,yield Ct(this.storage,this.storageKey+"-user"),yield Wi(this.storage,this.storageKey,u)):u.user=id()}if(this._debug(r,"session from storage",u),!this._isValidSession(u)){this._debug(r,"session is not valid"),u!==null&&(yield this._removeSession());return}const d=((l=u.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<ad;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${ad}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:m}=yield this._callRefreshToken(u.refresh_token);m&&(console.error(m),nd(m)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",m),yield this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:y}=yield this._getUser(u.access_token);!y&&(m!=null&&m.user)?(u.user=m.user,yield this._saveSession(u),yield this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(r,"error getting user data, skipping SIGNED_IN notification",m)}else yield this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(r,"error",u),console.error(u);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return b(this,null,function*(){var l,r;if(!n)throw new _a;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Hc;const{data:d,error:m}=yield this._refreshAccessToken(n);if(m)throw m;if(!d.session)throw new _a;yield this._saveSession(d.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const y={data:d.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(d){if(this._debug(u,"error",d),se(d)){const m={data:null,error:d};return nd(d)||(yield this._removeSession()),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(m),m}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}})}_notifyAllSubscribers(n,l,r=!0){return b(this,null,function*(){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:l});const d=[],m=Array.from(this.stateChangeEmitters.values()).map(y=>b(this,null,function*(){try{yield y.callback(n,l)}catch(g){d.push(g)}}));if(yield Promise.all(m),d.length>0){for(let y=0;y<d.length;y+=1)console.error(d[y]);throw d[0]}}finally{this._debug(u,"end")}})}_saveSession(n){return b(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Ct(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},n),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&(yield Wi(this.userStorage,this.storageKey+"-user",{user:l.user}));const u=Object.assign({},l);delete u.user;const d=q0(u);yield Wi(this.storage,this.storageKey,d)}else{const u=q0(l);yield Wi(this.storage,this.storageKey,u)}})}_removeSession(){return b(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield Ct(this.storage,this.storageKey),yield Ct(this.storage,this.storageKey+"-code-verifier"),yield Ct(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ct(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(l){console.error("removing visibilitychange callback failed",l)}}_startAutoRefresh(){return b(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Zi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>b(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return b(this,null,function*(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return b(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return b(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return b(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>b(this,null,function*(){try{const n=Date.now();try{return yield this._useSession(l=>b(this,null,function*(){const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((r.expires_at*1e3-n)/Zi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Zi}ms, refresh threshold is ${pd} ticks`),u<=pd&&(yield this._callRefreshToken(r.refresh_token))}))}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof pg)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return b(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>b(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return b(this,null,function*(){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,l,r){return b(this,null,function*(){const u=[`provider=${encodeURIComponent(l)}`];if(r!=null&&r.redirectTo&&u.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&u.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,m]=yield Ki(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(m)}`});u.push(y.toString())}if(r!=null&&r.queryParams){const d=new URLSearchParams(r.queryParams);u.push(d.toString())}return r!=null&&r.skipBrowserRedirect&&u.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${u.join("&")}`})}_unenroll(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r;const{data:u,error:d}=l;return d?this._returnResult({data:null,error:d}):yield de(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token})}))}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}})}_enroll(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r,u;const{data:d,error:m}=l;if(m)return this._returnResult({data:null,error:m});const y=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=yield de(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&g.type==="totp"&&(!((u=g==null?void 0:g.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))}))}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}})}_verify(n){return b(this,null,function*(){return this._acquireLock(-1,()=>b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r;const{data:u,error:d}=l;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?s1(n.webauthn.credential_response):i1(n.webauthn.credential_response)})}:{code:n.code}),{data:y,error:g}=yield de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:m,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+y.expires_in},y)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",y),this._returnResult({data:y,error:g}))}))}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}))})}_challenge(n){return b(this,null,function*(){return this._acquireLock(-1,()=>b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){var r;const{data:u,error:d}=l;if(d)return this._returnResult({data:null,error:d});const m=yield de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});if(m.error)return m;const{data:y}=m;if(y.type!=="webauthn")return{data:y,error:null};switch(y.webauthn.type){case"create":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:a1(y.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:n1(y.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}))})}_challengeAndVerify(n){return b(this,null,function*(){const{data:l,error:r}=yield this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):yield this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})})}_listFactors(){return b(this,null,function*(){var n;const{data:{user:l},error:r}=yield this.getUser();if(r)return{data:null,error:r};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=l==null?void 0:l.factors)!==null&&n!==void 0?n:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}})}_getAuthenticatorAssuranceLevel(){return b(this,null,function*(){var n,l;const{data:{session:r},error:u}=yield this.getSession();if(u)return this._returnResult({data:null,error:u});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=sd(r.access_token);let m=null;d.aal&&(m=d.aal);let y=m;((l=(n=r.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(y="aal2");const p=d.amr||[];return{data:{currentLevel:m,nextLevel:y,currentAuthenticationMethods:p},error:null}})}_getAuthorizationDetails(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?yield de(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new _a})}))}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}})}_approveAuthorization(n,l){return b(this,null,function*(){try{return yield this._useSession(r=>b(this,null,function*(){const{data:{session:u},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new _a});const m=yield de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&Rt()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(m.data.redirect_url),m}))}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}})}_denyAuthorization(n,l){return b(this,null,function*(){try{return yield this._useSession(r=>b(this,null,function*(){const{data:{session:u},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new _a});const m=yield de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&Rt()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(m.data.redirect_url),m}))}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}})}_listOAuthGrants(){return b(this,null,function*(){try{return yield this._useSession(n=>b(this,null,function*(){const{data:{session:l},error:r}=n;return r?this._returnResult({data:null,error:r}):l?yield de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new _a})}))}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return b(this,null,function*(){try{return yield this._useSession(l=>b(this,null,function*(){const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?(yield de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _a})}))}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}})}fetchJwk(r){return b(this,arguments,function*(n,l={keys:[]}){let u=l.keys.find(g=>g.kid===n);if(u)return u;const d=Date.now();if(u=this.jwks.keys.find(g=>g.kid===n),u&&this.jwks_cached_at+h_>d)return u;const{data:m,error:y}=yield de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(y)throw y;return!m.keys||m.keys.length===0||(this.jwks=m,this.jwks_cached_at=d,u=m.keys.find(g=>g.kid===n),!u)?null:u})}getClaims(r){return b(this,arguments,function*(n,l={}){try{let u=n;if(!u){const{data:U,error:L}=yield this.getSession();if(L||!U.session)return this._returnResult({data:null,error:L});u=U.session.access_token}const{header:d,payload:m,signature:y,raw:{header:g,payload:p}}=sd(u);l!=null&&l.allowExpired||U_(m.exp);const _=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(d.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!_){const{error:U}=yield this.getUser(u);if(U)throw U;return{data:{claims:m,header:d,signature:y},error:null}}const N=M_(d.alg),j=yield crypto.subtle.importKey("jwk",_,N,!0,["verify"]);if(!(yield crypto.subtle.verify(N,j,y,S_(`${g}.${p}`))))throw new wd("Invalid JWT signature");return{data:{claims:m,header:d,signature:y},error:null}}catch(u){if(se(u))return this._returnResult({data:null,error:u});throw u}})}}hr.nextInstanceID={};const m1=hr,g1="2.89.0";let sr="";typeof Deno!="undefined"?sr="deno":typeof document!="undefined"?sr="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?sr="react-native":sr="node";const y1={"X-Client-Info":`supabase-js-${sr}/${g1}`},v1={headers:y1},p1={schema:"public"},b1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_1={};function fr(i){"@babel/helpers - typeof";return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fr(i)}function w1(i,n){if(fr(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(fr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function S1(i){var n=w1(i,"string");return fr(n)=="symbol"?n:n+""}function x1(i,n,l){return(n=S1(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function I0(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),l.push.apply(l,r)}return l}function st(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?I0(Object(l),!0).forEach(function(r){x1(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):I0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const j1=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),E1=()=>Headers,N1=(i,n,l)=>{const r=j1(l),u=E1();return(d,m)=>b(null,null,function*(){var y;const g=(y=yield n())!==null&&y!==void 0?y:i;let p=new u(m==null?void 0:m.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(d,st(st({},m),{},{headers:p}))})};function T1(i){return i.endsWith("/")?i:i+"/"}function A1(i,n){var l,r;const{db:u,auth:d,realtime:m,global:y}=i,{db:g,auth:p,realtime:_,global:N}=n,j={db:st(st({},g),u),auth:st(st({},p),d),realtime:st(st({},_),m),storage:{},global:st(st(st({},N),y),{},{headers:st(st({},(l=N==null?void 0:N.headers)!==null&&l!==void 0?l:{}),(r=y==null?void 0:y.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>b(null,null,function*(){return""})};return i.accessToken?j.accessToken=i.accessToken:delete j.accessToken,j}function k1(i){const n=i==null?void 0:i.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(T1(n))}catch(l){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var O1=class extends m1{constructor(i){super(i)}},C1=class{constructor(i,n,l){var r,u;this.supabaseUrl=i,this.supabaseKey=n;const d=k1(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,y={db:p1,realtime:_1,auth:st(st({},b1),{},{storageKey:m}),global:v1},g=A1(l!=null?l:{},y);if(this.storageKey=(r=g.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=N1(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(st({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new ub(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new r_(this.storageUrl.href,this.headers,this.fetch,l==null?void 0:l.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new ib(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,l)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return b(this,null,function*(){var i=this,n,l;if(i.accessToken)return yield i.accessToken();const{data:r}=yield i.auth.getSession();return(n=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&n!==void 0?n:i.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:u,storageKey:d,flowType:m,lock:y,debug:g,throwOnError:p},_,N){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new O1({url:this.authUrl.href,headers:st(st({},j),_),storageKey:d,autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:u,flowType:m,lock:y,debug:g,throwOnError:p,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Tb(this.realtimeUrl.href,st(st({},i),{},{params:st(st({},{apikey:this.supabaseKey}),i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(i,n,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const R1=(i,n,l)=>new C1(i,n,l);function z1(){if(typeof window!="undefined"||typeof process=="undefined")return!1;const i=process.version;if(i==null)return!1;const n=i.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}z1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const D1="https://viyqhdvziizfvokmkrgb.supabase.co",U1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZpeXFoZHZ6aWl6ZnZva21rcmdiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1MjkxOTAsImV4cCI6MjA4MzEwNTE5MH0.NtWy9MPd1UIaL_nJcfp6JxhqbHE6lN2nUAYFmC2nyuM",_t=R1(D1,U1);var Q0;const M1=(Q0=window.Telegram)==null?void 0:Q0.WebApp,B1=i=>b(null,null,function*(){if(!i.telegramId){console.warn(" Telegram ID,      .");return}const{error:n}=yield _t.from("leaderboard").upsert({telegram_id:i.telegramId,username:i.username,avatar_url:i.avatarUrl,score:i.score,bonus_time:i.bonuses.time,bonus_hint:i.bonuses.hint,bonus_swap:i.bonuses.swap,bonus_wildcard:i.bonuses.wildcard,rare_words:i.rareWords,total_words:i.totalWords,high_score:i.highScore,days_played:i.daysPlayed,streak:i.streak,coins:i.coins,updated_at:new Date},{onConflict:"telegram_id"});n&&console.error(" Supabase:",n.message)}),L1=i=>b(null,null,function*(){var d,m,y,g;const n=parseInt(i.challengeId)||0,{data:l}=yield _t.from("daily_scores").select("telegram_id").eq("telegram_id",i.telegramId).eq("challenge_id",n).single(),r={telegram_id:i.telegramId,username:i.username,avatar_url:i.avatarUrl,score:i.score,challenge_id:n,game_date:zc(),bonus_time:(d=i.bonuses)==null?void 0:d.time,bonus_hint:(m=i.bonuses)==null?void 0:m.hint,bonus_swap:(y=i.bonuses)==null?void 0:y.swap,bonus_wildcard:(g=i.bonuses)==null?void 0:g.wildcard,level_scores:i.levelScores};let u;l?{error:u}=yield _t.from("daily_scores").update(r).eq("telegram_id",i.telegramId).eq("challenge_id",n):{error:u}=yield _t.from("daily_scores").insert(r),u&&console.error("   :",u.message)}),q1=(i,n)=>b(null,null,function*(){try{const{data:l,error:r}=yield _t.from("daily_scores").select("*").eq("telegram_id",i).eq("challenge_id",n).single();if(r){if(r.code==="PGRST116")return null;throw r}return l}catch(l){throw console.error("   :",l),l}}),H1=i=>b(null,null,function*(){try{const{data:n,error:l}=yield _t.from("leaderboard").select("*").eq("telegram_id",i).single();if(l){if(l.code==="PGRST116")return null;throw l}return n}catch(n){throw console.error("  :",n),n}}),$1=()=>b(null,null,function*(){try{const{data:i,error:n,count:l}=yield _t.from("leaderboard").select("name:username, score, avatar_url, telegram_id",{count:"exact"}).order("score",{ascending:!1}).limit(10);if(n)throw n;return{players:i||[],count:l||0}}catch(i){return console.error("  :",i),{players:[],count:0}}}),G1=i=>b(null,null,function*(){try{const{data:n,error:l,count:r}=yield _t.from("daily_scores").select("name:username, score, avatar_url, telegram_id",{count:"exact"}).eq("challenge_id",i).order("score",{ascending:!1}).limit(10);if(l)throw l;return{players:n||[],count:r||0}}catch(n){return console.error("   :",n),{players:[],count:0}}}),V1=i=>b(null,null,function*(){try{const n=(parseInt(i)-1).toString(),{data:l,error:r,count:u}=yield _t.from("daily_scores").select("name:username, score, avatar_url, telegram_id",{count:"exact"}).eq("challenge_id",n).order("score",{ascending:!1}).limit(10);if(r)throw r;return{players:l||[],count:u||0}}catch(n){return console.error("    :",n),{players:[],count:0}}}),Y1=i=>b(null,null,function*(){const{error:n}=yield _t.from("feedback").insert({telegram_id:i.telegramId,username:i.username,message:i.message});n&&console.error("  :",n.message)}),K1=()=>b(null,null,function*(){const{data:i,error:n}=yield _t.from("feedback").select("*").order("created_at",{ascending:!1});return n&&console.error("  :",n.message),i||[]}),$c="http://localhost:5000",I1=i=>b(null,null,function*(){try{const l=yield(yield fetch(`${$c}/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({word:i})})).json();return l.success?!0:(console.error(" :",l.error),!1)}catch(n){return console.error("   :",n),!1}}),J1=()=>b(null,null,function*(){try{const i=yield fetch(`${$c}/words`);if(!i.ok)throw new Error("Server error");return yield i.json()}catch(i){return console.error("  :",i),[]}}),Q1=i=>b(null,null,function*(){try{return(yield(yield fetch(`${$c}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i})})).json()).success}catch(n){return console.error(" :",n),!1}}),X1=(i,n,l)=>b(null,null,function*(){try{return(yield(yield fetch(`${$c}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i,word:n,definition:l})})).json()).success}catch(r){return console.error(" :",r),!1}}),Z1=()=>b(null,null,function*(){return[]}),W1=(i,n)=>b(null,null,function*(){const{error:l}=yield _t.from("feedback").update({status:"replied",admin_reply:n}).eq("id",i);return l?(console.error("  :",l.message),!1):(console.log("   .    Supabase ."),!0)}),P1=i=>b(null,null,function*(){const{error:n}=yield _t.from("feedback").update({status:"archived"}).eq("id",i);return n?(console.error(" :",n.message),!1):!0}),F1=i=>b(null,null,function*(){const{error:n}=yield _t.from("feedback").delete().eq("id",i);return n?(console.error(" :",n.message),!1):!0}),ew=i=>b(null,null,function*(){const{error:n}=yield _t.from("broadcasts").insert({message:i,status:"pending"});return n?(console.error("  :",n.message),!1):!0}),tw=i=>b(null,null,function*(){const{data:n,error:l}=yield _t.from("notifications").select("*").eq("telegram_id",i);return l?(l.code!=="42P01"&&console.error("  :",l.message),[]):n||[]}),aw=i=>b(null,null,function*(){const{error:n}=yield _t.from("notifications").delete().eq("id",i);n&&console.error("  :",n.message)}),nw=()=>b(null,null,function*(){try{const{data:i,error:n}=yield _t.from("challenges").select("id, letters, end_time").order("id",{ascending:!1}).limit(1).single();if(n)throw n;if(i)return{id:i.id.toString(),letters:i.letters,endTime:i.end_time}}catch(i){console.error("   :",i)}return null}),sw=i=>b(null,null,function*(){try{const{data:n,error:l}=yield _t.rpc("get_player_rank",{p_telegram_id:i});if(l)throw l;return typeof n=="number"?{rank:n}:Array.isArray(n)&&n.length>0?n[0]:null}catch(n){return console.error("   :",n),null}}),J0=document.getElementById("root");J0&&wv.createRoot(J0).render(h.jsx(fv.StrictMode,{children:h.jsx(tb,{saveUserData:B1,saveDailyScore:L1,getUserData:H1,getActiveChallenge:nw,fetchUserRank:sw,getLeaderboard:$1,getDailyLeaderboard:G1,fetchPreviousDailyLeaderboard:V1,getUserDailyScore:q1,saveFeedback:Y1,fetchFeedbacks:K1,addCustomWord:I1,fetchCustomWords:Z1,fetchAdminCustomWords:J1,deleteCustomWord:Q1,updateCustomWord:X1,sendFeedbackReply:W1,archiveFeedback:P1,deleteFeedback:F1,sendBroadcast:ew,fetchNotifications:tw,deleteNotification:aw,tg:M1})}))});export default iw();
